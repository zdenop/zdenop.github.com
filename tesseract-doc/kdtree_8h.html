<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: tesseract-ocr/classify/kdtree.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('kdtree_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tesseract-ocr/classify/kdtree.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="host_8h_source.html">host.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cutil_8h_source.html">cutil.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ocrfeatures_8h_source.html">ocrfeatures.h</a>&quot;</code><br/>
</div>
<p><a href="kdtree_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#aa17af5e06853a731f52d4b4a84c3df90">RootOf</a>(T)&#160;&#160;&#160;((T)-&gt;Root.Left-&gt;Data)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a92b996eb8120afe351d8e7ee82c96ece">MakeKDTree</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> KeySize, const <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> KeyDesc[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a596422fd837fb6937c12be6b277423a0">KDStore</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *Tree, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Key, void *Data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a270d3ef72c3f0097f249ca75c2aafa3c">KDDelete</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *Tree, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Key[], void *Data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a9a3e49226adc75b00fee5116b401f3e3">KDNearestNeighborSearch</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *Tree, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Query[], int QuerySize, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MaxDistance, int *NumberOfResults, void **NBuffer, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> DBuffer[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a84d80224322dcba34d276906a638fc6d">KDWalk</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *Tree, <a class="el" href="cutil_8h.html#adec17f7c242871b5c6efb7bdb4050b9e">void_proc</a> Action, void *context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a37e4019555a2b5284b17237373913346">FreeKDTree</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *Tree)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a5f4c5e8b3eca7978c68bb22144feba82">MakeKDNode</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *tree, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Key[], void *Data, int Index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a21cd787524746ef057017f6c2a543345">FreeKDNode</a> (<a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *Node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#ae84afcc393b15041bde2f6b3038a2db4">DistanceSquared</a> (int k, <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *dim, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> p1[], <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> p2[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#abc92dabbfb9cb69dd9a8375f20c68da1">ComputeDistance</a> (int k, <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *dim, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> p1[], <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> p2[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a8c049d80c7249e815d8aa80c91a9eb47">QueryInSearch</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *tree)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#a99888ad9d86f9a55a79839ad28c3f23c">Walk</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *tree, <a class="el" href="cutil_8h.html#adec17f7c242871b5c6efb7bdb4050b9e">void_proc</a> action, void *context, <a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *SubTree, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#af3be65344ced84a11159bc0bea5de60f">InsertNodes</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *tree, <a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *nodes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kdtree_8h.html#aa1e7c0f4e7719b87f25e6fa67c62a4e9">FreeSubTree</a> (<a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *SubTree)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa17af5e06853a731f52d4b4a84c3df90"></a><!-- doxytag: member="kdtree.h::RootOf" ref="aa17af5e06853a731f52d4b4a84c3df90" args="(T)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RootOf</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T</td><td>)</td>
          <td>&#160;&#160;&#160;((T)-&gt;Root.Left-&gt;Data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8h_source.html#l00058">58</a> of file <a class="el" href="kdtree_8h_source.html">kdtree.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="abc92dabbfb9cb69dd9a8375f20c68da1"></a><!-- doxytag: member="kdtree.h::ComputeDistance" ref="abc92dabbfb9cb69dd9a8375f20c68da1" args="(int k, PARAM_DESC *dim, FLOAT32 p1[], FLOAT32 p2[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> ComputeDistance </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>p1</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>p2</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00486">486</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
  <span class="keywordflow">return</span> sqrt(<a class="code" href="kdtree_8cpp.html#ae84afcc393b15041bde2f6b3038a2db4">DistanceSquared</a>(k, dim, p1, p2));
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae84afcc393b15041bde2f6b3038a2db4"></a><!-- doxytag: member="kdtree.h::DistanceSquared" ref="ae84afcc393b15041bde2f6b3038a2db4" args="(int k, PARAM_DESC *dim, FLOAT32 p1[], FLOAT32 p2[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> DistanceSquared </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>p1</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>p2</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00465">465</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> total_distance = 0;

  <span class="keywordflow">for</span> (; k &gt; 0; k--, p1++, p2++, dim++) {
    <span class="keywordflow">if</span> (dim-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>)
      <span class="keywordflow">continue</span>;

    <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> dimension_distance = *p1 - *p2;

    <span class="comment">/* if this dimension is circular - check wraparound distance */</span>
    <span class="keywordflow">if</span> (dim-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a>) {
      dimension_distance = <a class="code" href="kdtree_8cpp.html#adbeb54abd64e764a1b38688776d36f77">Magnitude</a>(dimension_distance);
      <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> wrap_distance = dim-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> - dim-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a> - dimension_distance;
      dimension_distance = <a class="code" href="ndminx_8h.html#a74e75242132eaabbc1c512488a135926">MIN</a>(dimension_distance, wrap_distance);
    }

    total_distance += dimension_distance * dimension_distance;
  }
  <span class="keywordflow">return</span> total_distance;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a21cd787524746ef057017f6c2a543345"></a><!-- doxytag: member="kdtree.h::FreeKDNode" ref="a21cd787524746ef057017f6c2a543345" args="(KDNODE *Node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeKDNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *&#160;</td>
          <td class="paramname"><em>Node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00407">407</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                              {
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> ((<span class="keywordtype">char</span> *)Node);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a37e4019555a2b5284b17237373913346"></a><!-- doxytag: member="kdtree.h::FreeKDTree" ref="a37e4019555a2b5284b17237373913346" args="(KDTREE *Tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeKDTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>Tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00346">346</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                              {
<span class="comment">/*</span>
<span class="comment"> **  Parameters:</span>
<span class="comment"> **    Tree  tree data structure to be released</span>
<span class="comment"> **  Operation:</span>
<span class="comment"> **    This routine frees all memory which is allocated to the</span>
<span class="comment"> **    specified KD-tree.  This includes the data structure for</span>
<span class="comment"> **    the kd-tree itself plus the data structures for each node</span>
<span class="comment"> **    in the tree.  It does not include the Key and Data items</span>
<span class="comment"> **    which are pointed to by the nodes.  This memory is left</span>
<span class="comment"> **    untouched.</span>
<span class="comment"> **  Return: none</span>
<span class="comment"> **  Exceptions: none</span>
<span class="comment"> **  History:</span>
<span class="comment"> **    5/26/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="kdtree_8cpp.html#a59f352b6bc9971b0d7502d31060f7c44">FreeSubTree</a>(Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>.<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Tree);
}                                <span class="comment">/* FreeKDTree */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa1e7c0f4e7719b87f25e6fa67c62a4e9"></a><!-- doxytag: member="kdtree.h::FreeSubTree" ref="aa1e7c0f4e7719b87f25e6fa67c62a4e9" args="(KDNODE *SubTree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeSubTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *&#160;</td>
          <td class="paramname"><em>SubTree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00568">568</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   {
  <span class="keywordflow">if</span> (sub_tree != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="kdtree_8cpp.html#a59f352b6bc9971b0d7502d31060f7c44">FreeSubTree</a>(sub_tree-&gt;Left);
    <a class="code" href="kdtree_8cpp.html#a59f352b6bc9971b0d7502d31060f7c44">FreeSubTree</a>(sub_tree-&gt;Right);
    <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(sub_tree);
  }
}                                <span class="comment">/* FreeSubTree */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af3be65344ced84a11159bc0bea5de60f"></a><!-- doxytag: member="kdtree.h::InsertNodes" ref="af3be65344ced84a11159bc0bea5de60f" args="(KDTREE *tree, KDNODE *nodes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InsertNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *&#160;</td>
          <td class="paramname"><em>nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00558">558</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="keywordflow">if</span> (nodes == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span>;

  <a class="code" href="kdtree_8cpp.html#a596422fd837fb6937c12be6b277423a0">KDStore</a>(tree, nodes-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a977838423c3b5e17ecfd0242c39a8202">Key</a>, nodes-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#afd5eeb76bcf3d1ba9b387e0cd4e9ce16">Data</a>);
  <a class="code" href="kdtree_8cpp.html#af3be65344ced84a11159bc0bea5de60f">InsertNodes</a>(tree, nodes-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>);
  <a class="code" href="kdtree_8cpp.html#af3be65344ced84a11159bc0bea5de60f">InsertNodes</a>(tree, nodes-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a270d3ef72c3f0097f249ca75c2aafa3c"></a><!-- doxytag: member="kdtree.h::KDDelete" ref="a270d3ef72c3f0097f249ca75c2aafa3c" args="(KDTREE *Tree, FLOAT32 Key[], void *Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>Tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Key</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine deletes a node from Tree. The node to be deleted is specified by the Key for the node and the Data contents of the node. These two pointers must be identical to the pointers that were used for the node when it was originally stored in the tree. A node will be deleted from the tree only if its key and data pointers are identical to Key and Data respectively. The tree is re-formed by removing the affected subtree and inserting all elements but the root.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Tree</td><td>K-D tree to delete node from </td></tr>
    <tr><td class="paramname">Key</td><td>key of node to be deleted </td></tr>
    <tr><td class="paramname">Data</td><td>data contents of node to be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none</dd>
<dd>
History: 3/13/89, DSJ, Created. 7/13/89, DSJ, Specify node indirectly by key and data. </dd></dl>

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00269">269</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
  <span class="keywordtype">int</span> Level;
  <a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a> *Current;
  <a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a> *Father;

  <span class="comment">/* initialize search at root of tree */</span>
  Father = &amp;(Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>);
  Current = Father-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>;
  Level = NextLevel(Tree, -1);

  <span class="comment">/* search tree for node to be deleted */</span>
  <span class="keywordflow">while</span> ((Current != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (!<a class="code" href="kdtree_8cpp.html#a5a33bfaa4d9dcac7939f99f721bf61b9">NodeFound</a> (Current, Key, Data))) {
    Father = Current;
    <span class="keywordflow">if</span> (Key[Level] &lt; Current-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#aba5d7ca0a419ab7ad6a7cbcdb79add07">BranchPoint</a>)
      Current = Current-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>;
    <span class="keywordflow">else</span>
      Current = Current-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a>;

    Level = NextLevel(Tree, Level);
  }

  <span class="keywordflow">if</span> (Current != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {         <span class="comment">/* if node to be deleted was found */</span>
    <span class="keywordflow">if</span> (Current == Father-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>) {
      Father-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      Father-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a448480738475fb5bdb2e35b51f40f1d1">LeftBranch</a> = Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[Level].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>;
    } <span class="keywordflow">else</span> {
      Father-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      Father-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a1c8fd73abb446c3ceaea4cb29ef60b2c">RightBranch</a> = Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[Level].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a>;
    }

    <a class="code" href="kdtree_8cpp.html#af3be65344ced84a11159bc0bea5de60f">InsertNodes</a>(Tree, Current-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>);
    <a class="code" href="kdtree_8cpp.html#af3be65344ced84a11159bc0bea5de60f">InsertNodes</a>(Tree, Current-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a>);
    <a class="code" href="kdtree_8cpp.html#a59f352b6bc9971b0d7502d31060f7c44">FreeSubTree</a>(Current);
  }
}                                <span class="comment">/* KDDelete */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a9a3e49226adc75b00fee5116b401f3e3"></a><!-- doxytag: member="kdtree.h::KDNearestNeighborSearch" ref="a9a3e49226adc75b00fee5116b401f3e3" args="(KDTREE *Tree, FLOAT32 Query[], int QuerySize, FLOAT32 MaxDistance, int *NumberOfResults, void **NBuffer, FLOAT32 DBuffer[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDNearestNeighborSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>Tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Query</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>QuerySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>MaxDistance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NumberOfResults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>NBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>DBuffer</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00307">307</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
<span class="comment">/*</span>
<span class="comment"> **  Parameters:</span>
<span class="comment"> **    Tree    ptr to K-D tree to be searched</span>
<span class="comment"> **    Query    ptr to query key (point in D-space)</span>
<span class="comment"> **    QuerySize  number of nearest neighbors to be found</span>
<span class="comment"> **    MaxDistance  all neighbors must be within this distance</span>
<span class="comment"> **    NBuffer    ptr to QuerySize buffer to hold nearest neighbors</span>
<span class="comment"> **    DBuffer    ptr to QuerySize buffer to hold distances</span>
<span class="comment"> **          from nearest neighbor to query point</span>
<span class="comment"> **  Operation:</span>
<span class="comment"> **    This routine searches the K-D tree specified by Tree and</span>
<span class="comment"> **    finds the QuerySize nearest neighbors of Query.  All neighbors</span>
<span class="comment"> **    must be within MaxDistance of Query.  The data contents of</span>
<span class="comment"> **    the nearest neighbors</span>
<span class="comment"> **    are placed in NBuffer and their distances from Query are</span>
<span class="comment"> **    placed in DBuffer.</span>
<span class="comment"> **  Return: Number of nearest neighbors actually found</span>
<span class="comment"> **  Exceptions: none</span>
<span class="comment"> **  History:</span>
<span class="comment"> **    3/10/89, DSJ, Created.</span>
<span class="comment"> **    7/13/89, DSJ, Return contents of node instead of node itself.</span>
<span class="comment"> */</span>
  <a class="code" href="class_k_d_tree_search.html">KDTreeSearch</a> <a class="code" href="oldlist_8cpp.html#a1d8af9328f064a9df6d6f88336dd054e">search</a>(Tree, Query, QuerySize);
  <a class="code" href="oldlist_8cpp.html#a1d8af9328f064a9df6d6f88336dd054e">search</a>.Search(NumberOfResults, DBuffer, NBuffer);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a596422fd837fb6937c12be6b277423a0"></a><!-- doxytag: member="kdtree.h::KDStore" ref="a596422fd837fb6937c12be6b277423a0" args="(KDTREE *Tree, FLOAT32 *Key, void *Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>Tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine stores Data in the K-D tree specified by Tree using Key as an access key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Tree</td><td>K-D tree in which data is to be stored </td></tr>
    <tr><td class="paramname">Key</td><td>ptr to key by which data can be retrieved </td></tr>
    <tr><td class="paramname">Data</td><td>ptr to data to be stored in the tree</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: 3/10/89, DSJ, Created. 7/13/89, DSJ, Changed return to void.</dd></dl>

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00209">209</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <span class="keywordtype">int</span> Level;
  <a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a> *Node;
  <a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a> **PtrToNode;

  PtrToNode = &amp;(Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>.<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>);
  Node = *PtrToNode;
  Level = NextLevel(Tree, -1);
  <span class="keywordflow">while</span> (Node != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="keywordflow">if</span> (Key[Level] &lt; Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#aba5d7ca0a419ab7ad6a7cbcdb79add07">BranchPoint</a>) {
      PtrToNode = &amp;(Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>);
      <span class="keywordflow">if</span> (Key[Level] &gt; Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a448480738475fb5bdb2e35b51f40f1d1">LeftBranch</a>)
        Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a448480738475fb5bdb2e35b51f40f1d1">LeftBranch</a> = Key[Level];
    }
    <span class="keywordflow">else</span> {
      PtrToNode = &amp;(Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a>);
      <span class="keywordflow">if</span> (Key[Level] &lt; Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a1c8fd73abb446c3ceaea4cb29ef60b2c">RightBranch</a>)
        Node-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a1c8fd73abb446c3ceaea4cb29ef60b2c">RightBranch</a> = Key[Level];
    }
    Level = NextLevel(Tree, Level);
    Node = *PtrToNode;
  }

  *PtrToNode = <a class="code" href="kdtree_8cpp.html#a5f4c5e8b3eca7978c68bb22144feba82">MakeKDNode</a>(Tree, Key, (<span class="keywordtype">void</span> *) Data, Level);
}                                <span class="comment">/* KDStore */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a84d80224322dcba34d276906a638fc6d"></a><!-- doxytag: member="kdtree.h::KDWalk" ref="a84d80224322dcba34d276906a638fc6d" args="(KDTREE *Tree, void_proc Action, void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KDWalk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>Tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cutil_8h.html#adec17f7c242871b5c6efb7bdb4050b9e">void_proc</a>&#160;</td>
          <td class="paramname"><em>Action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00339">339</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
  <span class="keywordflow">if</span> (Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>.<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="kdtree_8cpp.html#adc5707bb9d0b49db3a13959b01117567">Walk</a>(Tree, action, context, Tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>.<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a>, NextLevel(Tree, -1));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5f4c5e8b3eca7978c68bb22144feba82"></a><!-- doxytag: member="kdtree.h::MakeKDNode" ref="a5f4c5e8b3eca7978c68bb22144feba82" args="(KDTREE *tree, FLOAT32 Key[], void *Data, int Index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a>* MakeKDNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Key</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00371">371</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                       {
<span class="comment">/*</span>
<span class="comment"> **  Parameters:</span>
<span class="comment"> **      tree  The tree to create the node for</span>
<span class="comment"> **      Key  Access key for new node in KD tree</span>
<span class="comment"> **      Data  ptr to data to be stored in new node</span>
<span class="comment"> **      Index  index of Key to branch on</span>
<span class="comment"> **  Operation:</span>
<span class="comment"> **    This routine allocates memory for a new K-D tree node</span>
<span class="comment"> **    and places the specified Key and Data into it.  The</span>
<span class="comment"> **    left and right subtree pointers for the node are</span>
<span class="comment"> **    initialized to empty subtrees.</span>
<span class="comment"> **  Return:</span>
<span class="comment"> **    pointer to new K-D tree node</span>
<span class="comment"> **  Exceptions:</span>
<span class="comment"> **    None</span>
<span class="comment"> **  History:</span>
<span class="comment"> **    3/11/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a> *NewNode;

  NewNode = (<a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_k_d_n_o_d_e.html">KDNODE</a>));

  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a977838423c3b5e17ecfd0242c39a8202">Key</a> = Key;
  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#afd5eeb76bcf3d1ba9b387e0cd4e9ce16">Data</a> = Data;
  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#aba5d7ca0a419ab7ad6a7cbcdb79add07">BranchPoint</a> = Key[Index];
  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a448480738475fb5bdb2e35b51f40f1d1">LeftBranch</a> = tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[Index].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>;
  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a1c8fd73abb446c3ceaea4cb29ef60b2c">RightBranch</a> = tree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[Index].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a>;
  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  NewNode-&gt;<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="keywordflow">return</span> NewNode;
}                                <span class="comment">/* MakeKDNode */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a92b996eb8120afe351d8e7ee82c96ece"></a><!-- doxytag: member="kdtree.h::MakeKDTree" ref="a92b996eb8120afe351d8e7ee82c96ece" args="(inT16 KeySize, const PARAM_DESC KeyDesc[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a>* MakeKDTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>KeySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>&#160;</td>
          <td class="paramname"><em>KeyDesc</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a new <a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> based on the specified parameters. Parameters: KeySize # of dimensions in the K-D tree KeyDesc array of params to describe key dimensions </p>

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00184">184</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  <a class="code" href="struct_k_d_t_r_e_e.html">KDTREE</a> *KDTree = (<a class="code" href="struct_k_d_t_r_e_e.html">KDTREE</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(
      <span class="keyword">sizeof</span>(<a class="code" href="struct_k_d_t_r_e_e.html">KDTREE</a>) + (KeySize - 1) * <span class="keyword">sizeof</span>(<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>));
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; KeySize; i++) {
    KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a> = KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>;
    KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a> = KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a>;
    <span class="keywordflow">if</span> (KeyDesc[i].Circular) {
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a> = KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>;
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> = KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a>;
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a> = KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> - KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>;
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a1df92d879d7ec8ea6662e956d27154b5">HalfRange</a> = KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a> / 2;
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a7c7bec15766be3633c649a0a9409b512">MidRange</a> = (KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> + KeyDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>) / 2;
    } <span class="keywordflow">else</span> {
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a> = <a class="code" href="kdtree_8cpp.html#a8904460bfbb91685971ab30c3025e0c5">MINSEARCH</a>;
      KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a486dfb881bc360bbfbd36248bba80552">KeyDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> = <a class="code" href="kdtree_8cpp.html#a322efe6a34504778ebc6b3e2264789d5">MAXSEARCH</a>;
    }
  }
  KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#a510104dbda460e78eb8d323502594ef2">KeySize</a> = KeySize;
  KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>.<a class="code" href="struct_k_d_n_o_d_e.html#a66ffa1cc4e73e45599978f8f6416e350">Left</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  KDTree-&gt;<a class="code" href="struct_k_d_t_r_e_e.html#ab52e8a6004fc595de526dfa831c2e725">Root</a>.<a class="code" href="struct_k_d_n_o_d_e.html#a699e9e67472e12f86bbb5c1effdb4fa3">Right</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">return</span> KDTree;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8c049d80c7249e815d8aa80c91a9eb47"></a><!-- doxytag: member="kdtree.h::QueryInSearch" ref="a8c049d80c7249e815d8aa80c91a9eb47" args="(KDTREE *tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int QueryInSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a99888ad9d86f9a55a79839ad28c3f23c"></a><!-- doxytag: member="kdtree.h::Walk" ref="a99888ad9d86f9a55a79839ad28c3f23c" args="(KDTREE *tree, void_proc action, void *context, KDNODE *SubTree, inT32 Level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Walk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cutil_8h.html#adec17f7c242871b5c6efb7bdb4050b9e">void_proc</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_k_d_n_o_d_e.html">KDNODE</a> *&#160;</td>
          <td class="paramname"><em>SubTree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>Level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kdtree_8cpp_source.html#l00547">547</a> of file <a class="el" href="kdtree_8cpp_source.html">kdtree.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  (*action)(context, sub_tree-&gt;Data, level);
  <span class="keywordflow">if</span> (sub_tree-&gt;Left != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="kdtree_8cpp.html#adc5707bb9d0b49db3a13959b01117567">Walk</a>(tree, action, context, sub_tree-&gt;Left, NextLevel(tree, level));
  <span class="keywordflow">if</span> (sub_tree-&gt;Right != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="kdtree_8cpp.html#adc5707bb9d0b49db3a13959b01117567">Walk</a>(tree, action, context, sub_tree-&gt;Right, NextLevel(tree, level));
}
</pre></div>
</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="kdtree_8h.html">kdtree.h</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Fri Mar 30 2012 23:21:41 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
