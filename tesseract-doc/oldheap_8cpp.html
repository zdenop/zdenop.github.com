<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: tesseract-ocr/cutil/oldheap.cpp File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('oldheap_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tesseract-ocr/cutil/oldheap.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="oldheap_8h_source.html">oldheap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="freelist_8h_source.html">freelist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="danerror_8h_source.html">danerror.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="emalloc_8h_source.html">emalloc.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
</div>
<p><a href="oldheap_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a703930540e0a773b74297490ca88316b">FATHER</a>(N)&#160;&#160;&#160;((N)&gt;&gt;1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a6a30628fa9cd3c38b5b7decf4afc7dea">LEFTSON</a>(N)&#160;&#160;&#160;((N)&lt;&lt;1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a1b0e9a91308e0359a7367736527698c5">RIGHTSON</a>(N)&#160;&#160;&#160;((N)&lt;&lt;1 + 1)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a101bee15b825fee78f29c8679cc00595">MakeHeap</a> (int Size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a133a020354d84309c10dfea471f213f4">HeapPop</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Key, void *out_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a3ce0caf83478a579d919e1a510a23d92">HeapPopWorst</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Key, void *out_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a21d28375a456d5c0238134a101e0236a">HeapPushCheckSize</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Key, void *Data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#ad66e9a2d1419e6b12501a783fda5d7c3">HeapPush</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Key, void *Data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> *Entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#aad11f18baf53c82e65a054ff7552d0d1">GetTopOfHeap</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> *Entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oldheap_8cpp.html#a66bcae55ce37fec5afd5fdeb5a879d37">FreeHeapData</a> (<a class="el" href="struct_h_e_a_p.html">HEAP</a> *Heap, <a class="el" href="cutil_8h.html#a840df4080fe3d271893f7db1ff27cc90">void_dest</a> destructor)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a703930540e0a773b74297490ca88316b"></a><!-- doxytag: member="oldheap.cpp::FATHER" ref="a703930540e0a773b74297490ca88316b" args="(N)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FATHER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)&gt;&gt;1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00027">27</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6a30628fa9cd3c38b5b7decf4afc7dea"></a><!-- doxytag: member="oldheap.cpp::LEFTSON" ref="a6a30628fa9cd3c38b5b7decf4afc7dea" args="(N)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEFTSON</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)&lt;&lt;1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00028">28</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1b0e9a91308e0359a7367736527698c5"></a><!-- doxytag: member="oldheap.cpp::RIGHTSON" ref="a1b0e9a91308e0359a7367736527698c5" args="(N)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RIGHTSON</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)&lt;&lt;1 + 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00029">29</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a66bcae55ce37fec5afd5fdeb5a879d37"></a><!-- doxytag: member="oldheap.cpp::FreeHeapData" ref="a66bcae55ce37fec5afd5fdeb5a879d37" args="(HEAP *Heap, void_dest destructor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeHeapData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cutil_8h.html#a840df4080fe3d271893f7db1ff27cc90">void_dest</a>&#160;</td>
          <td class="paramname"><em>destructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine is similar to FreeHeap in that it deallocates the memory consumed by the heap. However, it also calls Deallocator for each item in the heap so that this data is also deallocated.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>heap whose data is to be freed </td></tr>
    <tr><td class="paramname">destructor</td><td>function to be used to deallocate data</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue May 15 08:52:04 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00327">327</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
  <a class="code" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> Entry;

  <span class="keywordflow">while</span> (<a class="code" href="oldheap_8cpp.html#aad11f18baf53c82e65a054ff7552d0d1">GetTopOfHeap</a> (Heap, &amp;Entry) != <a class="code" href="oldheap_8h.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>)
    destructor (Entry.<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>);

  <a class="code" href="oldheap_8h.html#a8631cc3f443c4ea3e99195df1ca1dd8d">FreeHeap</a>(Heap);
}                                <span class="comment">/* FreeHeapData */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aad11f18baf53c82e65a054ff7552d0d1"></a><!-- doxytag: member="oldheap.cpp::GetTopOfHeap" ref="aad11f18baf53c82e65a054ff7552d0d1" args="(HEAP *Heap, HEAPENTRY *Entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetTopOfHeap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> *&#160;</td>
          <td class="paramname"><em>Entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine removes the top item on the heap and copies its contents into Entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap whose top is to be removed and returned </td></tr>
    <tr><td class="paramname">Entry</td><td>ptr to heap entry to be filled with top entry on Heap</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>OK if top entry returned, EMPTY if heap is empty </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: None </dd>
<dd>
History: 3/13/89, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00273">273</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Hole;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> HoleKey;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Son;

  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &lt;= 1)
    <span class="keywordflow">return</span> (<a class="code" href="oldheap_8h.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>);

  Entry-&gt;<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  Entry-&gt;<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;

  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>--;

  <span class="comment">/* imagine the hole at the root is filled with the last entry in the heap */</span>
  HoleKey = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  Hole = 1;

                                 <span class="comment">/* while hole has 2 sons */</span>
  <span class="keywordflow">while</span> ((Son = <a class="code" href="oldheap_8cpp.html#a6a30628fa9cd3c38b5b7decf4afc7dea">LEFTSON</a> (Hole)) &lt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>) {
    <span class="comment">/* find the son with the smallest key */</span>
    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son + 1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>)
      Son++;

    <span class="comment">/* if key for hole is greater than key for son, sift hole down */</span>
    <span class="keywordflow">if</span> (HoleKey &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>) {
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
      Hole = Son;
    }
    <span class="keywordflow">else</span>
      <span class="keywordflow">break</span>;
  }
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
  <span class="keywordflow">return</span> (<a class="code" href="oldheap_8h.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>);
}                                <span class="comment">/* GetTopOfHeap */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a133a020354d84309c10dfea471f213f4"></a><!-- doxytag: member="oldheap.cpp::HeapPop" ref="a133a020354d84309c10dfea471f213f4" args="(HEAP *Heap, FLOAT32 *Key, void *out_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HeapPop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine removes the top item on the heap and places its contents into Key and Data.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap whose top is to be removed and returned </td></tr>
    <tr><td class="paramname">Key</td><td>place to put key of top heap item </td></tr>
    <tr><td class="paramname">out_ptr</td><td>place to put data of top heap item</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>OK if top entry returned, EMPTY if heap is empty </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: None </dd>
<dd>
History: 5/10/91, DSJ, Created (Modified from GetTopOfHeap). </dd></dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00076">76</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Hole;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> HoleKey;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Son;
  <span class="keywordtype">void</span> **Data = (<span class="keywordtype">void</span> **) out_ptr;

  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &lt;= 1)
    <span class="keywordflow">return</span> (<a class="code" href="oldheap_8h.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>);

  *Key = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  *Data = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;

  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>--;

  <span class="comment">/* imagine the hole at the root is filled with the last entry in the heap */</span>
  HoleKey = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  Hole = 1;

                                 <span class="comment">/* while hole has 2 sons */</span>
  <span class="keywordflow">while</span> ((Son = <a class="code" href="oldheap_8cpp.html#a6a30628fa9cd3c38b5b7decf4afc7dea">LEFTSON</a> (Hole)) &lt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>) {
    <span class="comment">/* find the son with the smallest key */</span>
    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son + 1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>)
      Son++;

    <span class="comment">/* if key for hole is greater than key for son, sift hole down */</span>
    <span class="keywordflow">if</span> (HoleKey &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>) {
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
      Hole = Son;
    }
    <span class="keywordflow">else</span>
      <span class="keywordflow">break</span>;
  }
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
  <span class="keywordflow">return</span> (<a class="code" href="oldheap_8h.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>);
}                                <span class="comment">/* HeapPop */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a3ce0caf83478a579d919e1a510a23d92"></a><!-- doxytag: member="oldheap.cpp::HeapPopWorst" ref="a3ce0caf83478a579d919e1a510a23d92" args="(HEAP *Heap, FLOAT32 *Key, void *out_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HeapPopWorst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HeapPopWorst</p>
<p>Remove the largest item from the heap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap whose top is to be removed and returned </td></tr>
    <tr><td class="paramname">Key</td><td>place to put key of top heap item </td></tr>
    <tr><td class="paramname">out_ptr</td><td>place to put data of top heap item </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00124">124</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Index;                   <span class="comment">/*current index */</span>
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Hole;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> HoleKey;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Father;
  <span class="keywordtype">void</span> *HoleData;
  <span class="keywordtype">void</span> **Data = (<span class="keywordtype">void</span> **) out_ptr;

  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &lt;= 1)
    <span class="keywordflow">return</span> (<a class="code" href="oldheap_8h.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>);

  HoleKey = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  Hole = 1;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>--;
  <span class="keywordflow">for</span> (Index = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>, Father = <a class="code" href="oldheap_8cpp.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Index); Index &gt; Father;
    Index--)
  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Index].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; HoleKey) {
                                 <span class="comment">/*find biggest */</span>
    HoleKey = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Index].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
    Hole = Index;
  }
  *Key = HoleKey;
  *Data = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;

  HoleKey = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;
  HoleData = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = HoleData;

  <span class="comment">/* now sift last entry to its rightful place */</span>
  Father = <a class="code" href="oldheap_8cpp.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Hole);        <span class="comment">/*father of hole */</span>
  <span class="keywordflow">while</span> (Hole &gt; 1 &amp;&amp; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; HoleKey) {
                                 <span class="comment">/*swap entries */</span>
    Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
    Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
    Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = HoleData;
    Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;
    Hole = Father;
    Father = <a class="code" href="oldheap_8cpp.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Hole);
  }
  <span class="keywordflow">return</span> (<a class="code" href="oldheap_8h.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>);
}                                <span class="comment">/* HeapPop */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ad66e9a2d1419e6b12501a783fda5d7c3"></a><!-- doxytag: member="oldheap.cpp::HeapPush" ref="ad66e9a2d1419e6b12501a783fda5d7c3" args="(HEAP *Heap, FLOAT32 Key, void *Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HeapPush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine stores Data into Heap and associates it with Key. The heap is maintained in such a way that the item with the lowest key is always at the top of the heap.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap to store new item in </td></tr>
    <tr><td class="paramname">Key</td><td>numeric key associated with new item </td></tr>
    <tr><td class="paramname">Data</td><td>ptr to data contents of new item</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions:<ul>
<li>HEAPFULL error if heap size is exceeded</li>
</ul>
</dd>
<dd>
History: 5/10/91, DSJ, Created (Modified version of HeapStore). </dd></dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00195">195</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                   {
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Item;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Father;

  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a>)
    <a class="code" href="danerror_8cpp.html#a480942fa88232bda23e9809e5afa9f25">DoError</a> (<a class="code" href="oldheap_8h.html#a3c47feb3b0f0ff2776f40483ae95d84b">HEAPFULL</a>, <span class="stringliteral">&quot;Heap size exceeded&quot;</span>);

  Item = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>++;
  <span class="keywordflow">while</span> (Item != 1) {
    Father = <a class="code" href="oldheap_8cpp.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Item);
    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Key) {
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
      Item = Father;
    }
    <span class="keywordflow">else</span>
      <span class="keywordflow">break</span>;
  }
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Key;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Data;
}                                <span class="comment">/* HeapPush */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a21d28375a456d5c0238134a101e0236a"></a><!-- doxytag: member="oldheap.cpp::HeapPushCheckSize" ref="a21d28375a456d5c0238134a101e0236a" args="(HEAP *Heap, FLOAT32 Key, void *Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HeapPushCheckSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00170">170</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
  <a class="code" href="oldheap_8cpp.html#ad66e9a2d1419e6b12501a783fda5d7c3">HeapPush</a>(Heap, Key, Data);
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a21a037334c93e1d0e7ae2059203a9cf3"></a><!-- doxytag: member="oldheap.cpp::HeapStore" ref="a21a037334c93e1d0e7ae2059203a9cf3" args="(HEAP *Heap, HEAPENTRY *Entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HeapStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> *&#160;</td>
          <td class="paramname"><em>Entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine stores Entry into Heap. The heap is maintained in such a way that the item with the lowest key is always at the top of the heap.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap to store new item in </td></tr>
    <tr><td class="paramname">Entry</td><td>ptr to item to be stored in Heap </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions:<ul>
<li>HEAPFULL error if heap size is exceeded </li>
</ul>
</dd>
<dd>
History: 3/13/89, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00234">234</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Item;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Father;

  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &gt; Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a>)
    <a class="code" href="danerror_8cpp.html#a480942fa88232bda23e9809e5afa9f25">DoError</a> (<a class="code" href="oldheap_8h.html#a3c47feb3b0f0ff2776f40483ae95d84b">HEAPFULL</a>, <span class="stringliteral">&quot;Heap size exceeded&quot;</span>);

  Item = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>++;
  <span class="keywordflow">while</span> (Item != 1) {
    Father = <a class="code" href="oldheap_8cpp.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Item);
    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Entry-&gt;<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>) {
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
      Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
      Item = Father;
    }
    <span class="keywordflow">else</span>
      <span class="keywordflow">break</span>;
  }
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Entry-&gt;<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;
  Heap-&gt;<a class="code" href="struct_h_e_a_p.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Entry-&gt;<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;
}                                <span class="comment">/* HeapStore */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a101bee15b825fee78f29c8679cc00595"></a><!-- doxytag: member="oldheap.cpp::MakeHeap" ref="a101bee15b825fee78f29c8679cc00595" args="(int Size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_h_e_a_p.html">HEAP</a>* MakeHeap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine creates and initializes a new heap data structure containing Size elements. In actuality, Size + 1 elements are allocated. The first element, element 0, is unused, this makes the index arithmetic easier.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Size</td><td>maximum number of entries in the heap </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the new heap. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: None </dd>
<dd>
History: 3/13/89, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="oldheap_8cpp_source.html#l00049">49</a> of file <a class="el" href="oldheap_8cpp_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                         {
  <a class="code" href="struct_h_e_a_p.html">HEAP</a> *NewHeap;

  NewHeap = (<a class="code" href="struct_h_e_a_p.html">HEAP</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_h_e_a_p.html">HEAP</a>) + Size * <span class="keyword">sizeof</span> (<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a>));

  NewHeap-&gt;<a class="code" href="struct_h_e_a_p.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a> = Size;
  NewHeap-&gt;<a class="code" href="struct_h_e_a_p.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> = 1;
  <span class="keywordflow">return</span> (NewHeap);
}                                <span class="comment">/* MakeHeap */</span>
</pre></div>
</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="oldheap_8cpp.html">oldheap.cpp</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Fri Mar 30 2012 17:39:19 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
