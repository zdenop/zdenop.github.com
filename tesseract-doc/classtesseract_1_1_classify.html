<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: tesseract::Classify Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classtesseract_1_1_classify.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">tesseract::Classify Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="tesseract::Classify" --><!-- doxytag: inherits="tesseract::CCStruct" -->
<p><code>#include &lt;<a class="el" href="classify_8h_source.html">classify.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tesseract::Classify:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classtesseract_1_1_classify.png" usemap="#tesseract::Classify_map" alt=""/>
  <map id="tesseract::Classify_map" name="tesseract::Classify_map">
<area href="classtesseract_1_1_c_c_struct.html" alt="tesseract::CCStruct" shape="rect" coords="0,112,124,136"/>
<area href="classtesseract_1_1_c_util.html" alt="tesseract::CUtil" shape="rect" coords="0,56,124,80"/>
<area href="classtesseract_1_1_c_c_util.html" alt="tesseract::CCUtil" shape="rect" coords="0,0,124,24"/>
<area href="classtesseract_1_1_wordrec.html" alt="tesseract::Wordrec" shape="rect" coords="0,224,124,248"/>
<area href="classtesseract_1_1_tesseract.html" alt="tesseract::Tesseract" shape="rect" coords="0,280,124,304"/>
</map>
 </div></div>

<p><a href="classtesseract_1_1_classify-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ac4c2dfe9aa3c463964fdc61faec56a67">Classify</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a4a3fe30721c7f945fb4c5ebfe421639c">~Classify</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtesseract_1_1_dict.html">Dict</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classtesseract_1_1_shape_table.html">ShapeTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a5d8e80f8bd4a5779921f543c6eef796c">shape_table</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a28ddc270cb5d2613f5f0f24ad53a5a21">NewAdaptedTemplates</a> (bool InitFromUnicharset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#afae8a55c28ee68de92ab1b1dd37c6905">GetFontinfoId</a> (<a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> Class, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> ConfigId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af60b52006bbea0cc1727d543c3fcd1ad">PruneClasses</a> (const <a class="el" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES_STRUCT</a> *int_templates, int num_features, const <a class="el" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE_STRUCT</a> *features, const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *normalization_factors, const <a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> *expected_num_features, <a class="el" href="struct_c_p___r_e_s_u_l_t___s_t_r_u_c_t.html">CP_RESULT_STRUCT</a> *results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a49a37c1ce02f5e114f0d57e49871b802">ReadNewCutoffs</a> (FILE *CutoffFile, bool swap, <a class="el" href="host_8h.html#ac53c9cafaf7fe16f985994c49f6b0964">inT64</a> end_offset, <a class="el" href="cutoffs_8h.html#a5f54131664d48951e46f5e4952350582">CLASS_CUTOFF_ARRAY</a> Cutoffs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a15d6951abc586793270de0825bdb7dd7">PrintAdaptedTemplates</a> (FILE *File, <a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a1718afe45a09c6631f11ae224e6d5db6">WriteAdaptedTemplates</a> (FILE *File, <a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aa74ebd96d85efc39d71c37985e50c8aa">ReadAdaptedTemplates</a> (FILE *File)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3205427bd0f3abae31ab6c3092ca0662">ComputeNormMatch</a> (<a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, const <a class="el" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE_STRUCT</a> &amp;feature, <a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> DebugMatch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ab6e270cecf7e7c62e1319e7889caf716">FreeNormProtos</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aabd742c09ff530922005e015a9e8bc2b">ReadNormProtos</a> (FILE *File, <a class="el" href="host_8h.html#ac53c9cafaf7fe16f985994c49f6b0964">inT64</a> end_offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af27d604585502bd447d52bf5daf15d0d">ConvertProto</a> (<a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> Proto, int ProtoId, <a class="el" href="intproto_8h.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a> Class)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af3d15c15c9f2dce72a400233d4bf366f">CreateIntTemplates</a> (<a class="el" href="protos_8h.html#ad299b5cb6e6ab5713fce00dbd6a787ed">CLASSES</a> FloatProtos, const <a class="el" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;target_unicharset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#abbbd86871758c036d7ba2af682abb45f">LearnWord</a> (const char *filename, const char *rejmap, <a class="el" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0a6455e61097b98b01d180cd0b2748c9">LearnPieces</a> (const char *filename, int start, int length, float threshold, <a class="el" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240">CharSegmentationType</a> segmentation, const char *correct_text, <a class="el" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a2f9389a2d855d2a59e7892d3ba884887">InitAdaptiveClassifier</a> (bool load_pre_trained_templates)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aee9e5bd336bf1a37a7a1f3b712eb045d">InitAdaptedClass</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, <a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> Class, <a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7d9076164677e7e5a863a8a5d265b957">AdaptToPunc</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ac7501f294525f6dd7fca4a3512ae0dcf">AmbigClassifier</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *Classes, <a class="el" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *Ambiguities, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a9df3ff8623acd0ab30286ace7362045c">MasterMatcher</a> (<a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> templates, <a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_features, const <a class="el" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE_STRUCT</a> *features, const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *norm_factors, <a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *classes, int debug, int num_classes, const <a class="el" href="class_t_b_o_x.html">TBOX</a> &amp;blob_box, <a class="el" href="intmatcher_8h.html#aad58739a624ab51ab180aac3342c6efc">CLASS_PRUNER_RESULTS</a> results, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *final_results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a> (<a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *classes, bool debug, int class_id, int bottom, int top, float cp_rating, int blob_length, const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *cn_factors, <a class="el" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a> &amp;int_result, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *final_results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7c6031863d4dafb400551cc4f151f3b5">ComputeCorrectedRating</a> (bool debug, int unichar_id, double cp_rating, double im_rating, int feature_misses, int bottom, int top, int blob_length, const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *cn_factors)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af1f1f794092ce44dff7c242822b6cf68">ConvertMatchesToChoices</a> (const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, const <a class="el" href="class_t_b_o_x.html">TBOX</a> &amp;box, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results, BLOB_CHOICE_LIST *Choices)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3681915077046082b4d99532a3f3da61">AddNewResult</a> (<a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *results, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, int shape_id, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> rating, bool adapted, int config, int fontinfo_id, int fontinfo_id2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a1f21b989c93ff1d297b5bde442fc430c">GetAdaptiveFeatures</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, <a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures, <a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> *FloatFeatures)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af9a9def4a6b3bb1a2e36bceff2976c2c">DebugAdaptiveClassifier</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a57d34f380d093913f3c3e74f7a7a9840">GetAdaptThresholds</a> (<a class="el" href="struct_t_w_e_r_d.html">TWERD</a> *Word, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;BestChoice, const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;BestRawChoice, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Thresholds[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="matchdefs_8h.html#ac80a5d84c2805bfd10ac129d949f8b80">PROTO_ID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#adc0facdf672d23f65612b56b4a5f523a">MakeNewTempProtos</a> (<a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> Features, int NumBadFeat, <a class="el" href="matchdefs_8h.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a> BadFeat[], <a class="el" href="intproto_8h.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a> IClass, <a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> Class, <a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a59900939784eac1e2e6ebfec1f82bb58">MakeNewTemporaryConfig</a> (<a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, int NumFeatures, <a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> Features, <a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> FloatFeatures)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aefb0cfe284dd67601798f7ae510b787f">MakePermanent</a> (<a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int ConfigId, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aad46f714847619694546e9ea2784402c">PrintAdaptiveMatchResults</a> (FILE *File, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af15e83a02b369b820d40c8920b4275e8">RemoveExtraPuncs</a> (<a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0e35029ac0c77ad18d35f08c27c99d15">RemoveBadMatches</a> (<a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a5a3045639a3db979a8d1eb6dc4343e3b">SetAdaptiveThreshold</a> (<a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#abf81bc54d31591d9da5f95529583b99d">ShowBestMatchFor</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int shape_id, <a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> AdaptiveOn, <a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> PreTrainedOn, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_t_r_i_n_g.html">STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a6fc9e3752efb2fe0d74920e082a59bd7">ClassIDToDebugStr</a> (const <a class="el" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES_STRUCT</a> *templates, int class_id, int config_id) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a1002c7f80352c6ceac4af82ee35e5e06">ClassAndConfigIDToFontOrShapeID</a> (int class_id, int int_result_config) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a319cfe59c8e82e697375a351e3c604b3">ShapeIDToClassID</a> (int shape_id) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ab7022031939236cac2fe6b661e6f657b">BaselineClassifier</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aa3907b770bdeb45e652e0ab122568cf4">CharNormTrainingSample</a> (bool pruner_only, const <a class="el" href="classtesseract_1_1_training_sample.html">TrainingSample</a> &amp;<a class="el" href="structsample.html">sample</a>, <a class="el" href="class_generic_vector.html">GenericVector</a>&lt; <a class="el" href="structtesseract_1_1_shape_rating.html">ShapeRating</a> &gt; *results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af4c186f6ec1019d17912d2cf36326f1f">GetAmbiguities</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> CorrectClass)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8575af5f97d4037d4fdd2e21b477dd38">DoAdaptiveMatch</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a53629ef3f5562677ae096bbce864e5ab">AdaptToChar</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aaa7b4a01a6f9bd1f088982a4011274e5">DisplayAdaptedChar</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS_STRUCT</a> *int_class)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ac1f369f9a59739a588a4d84f60bac6c1">AdaptableWord</a> (<a class="el" href="struct_t_w_e_r_d.html">TWERD</a> *Word, const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;BestChoiceWord, const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;RawChoiceWord)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ae5e4880c5acc91b77308fbd6ab706b13">EndAdaptiveClassifier</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8c350afec3f633660d20eb98226a40d1">PrintAdaptiveStatistics</a> (FILE *File)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ae66827073cdeea6a59dd16fd7cf5d297">SettupPass1</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a5ad207ab75e8a69c35c225313268788b">SettupPass2</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a1f058451e32538b4dc2c853b82bc6600">AdaptiveClassifier</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, BLOB_CHOICE_LIST *Choices, <a class="el" href="intmatcher_8h.html#aad58739a624ab51ab180aac3342c6efc">CLASS_PRUNER_RESULTS</a> cp_results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8a68035cfc5ee866f2d39360072ab77c">ClassifyAsNoise</a> (<a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a350f6cb6e7ce9f53ae468908a91c6148">ResetAdaptiveClassifierInternal</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a4bf0e47e0ae00a0cec215a887cef8c65">GetBaselineFeatures</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *CharNormArray, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *BlobLength)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a1076d5d08686e48d39ef3eb07e711fb6">GetCharNormFeatures</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *PrunerNormArray, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *CharNormArray, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *BlobLength, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *FeatureOutlineIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8f49de2f8da7b066bd8ece0641edcca1">ComputeCharNormArrays</a> (<a class="el" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE_STRUCT</a> *norm_feature, <a class="el" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES_STRUCT</a> *templates, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *char_norm_array, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *pruner_array)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a786c5f6e2a5cd8aac2ed4dd89af84fea">TempConfigReliable</a> (<a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, const <a class="el" href="adaptive_8h.html#a844d69e71035a4a60207cedab3521f9e">TEMP_CONFIG</a> &amp;config)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a954c9085f840572567462c9e0ff3551a">UpdateAmbigsGroup</a> (<a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a62ffff7932680b25784bfca5079ce347">ResetFeaturesHaveBeenExtracted</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aa2f1ff296efea11aabd476cba49a39c5">AdaptiveClassifierIsFull</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ab72f687048a2e1eba44b8ae2cfb07fa9">LooksLikeGarbage</a> (const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;denorm, <a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *blob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a6e36e01c8147d95bbd64c6609e1b8f45">RefreshDebugWindow</a> (<a class="el" href="class_scroll_view.html">ScrollView</a> **win, const char *msg, int y_offset, const <a class="el" href="class_t_b_o_x.html">TBOX</a> &amp;wbox)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ac0de90c99552cdc286f934d344790085">ClearCharNormArray</a> (<a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *char_norm_array)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3abc0b280fe8a88d57a35d2d578ef47a">ComputeIntCharNormArray</a> (const <a class="el" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE_STRUCT</a> &amp;norm_feature, <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *char_norm_array)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ae1f3fc88bf28a4a169273bcf2515610e">ComputeIntFeatures</a> (<a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> Features, <a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a98459996e5e6ab1dc1de71411fd32b89">ReadIntTemplates</a> (FILE *File)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a81e8a5e5adfc60146ea3eb5b60936dd9">WriteIntTemplates</a> (FILE *File, <a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, const <a class="el" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;target_unicharset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a76f4e180bcab3a7cd2da75d42b524eba">GetClassToDebug</a> (const char *Prompt, bool *adaptive_on, bool *pretrained_on, int *shape_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a44e1b8840fb841e621b902f3abdd8522">ShowMatchDisplay</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt; <a class="el" href="structtesseract_1_1_font_info.html">FontInfo</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a62597f182a5e23c3b8a030c06e699e99">get_fontinfo_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt; <a class="el" href="structtesseract_1_1_font_set.html">FontSet</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a84d0021ef7ddbc98196801f9808fa33d">get_fontset_table</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8cbc3c255f888cc49c713c0a7408d2ad">NormalizeOutlines</a> (<a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> Outlines, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *XScale, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *YScale)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af1ef43f77139dc879d27a510adcb4bb3">ExtractOutlineFeatures</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ad6d1f9f29655ffe18fab3832b113e00b">ExtractPicoFeatures</a> (<a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *Blob)</td></tr>
<tr><td colspan="2"><div class="groupHeader">ReadClassFile</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Read in the training data from a file. All of the classes are read in. The results are stored in the global variable, 'TrainingData'. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3cc9d5fe19f6d641fdfb133179ea70a4">ReadClassFile</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a22717c4d299d3a52683ad90114b20200">prioritize_division</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a96f1213af9f43f2ec0ab9e22f32da3b6">tessedit_single_match</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7691700e9742ecdc10e0f8ee75682991">classify_enable_learning</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a> = character</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7bef23fa815b3c02261800ca82b05911">classify_char_norm_range</a> = 0.2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8ffda27cc071fa6c63c406fe9749f276">classify_min_norm_scale_x</a> = 0.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3f89a54fbee53fa65e3d2c2947dab449">classify_max_norm_scale_x</a> = 0.325</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0d1928e7dac3c17776220d35f08a48ec">classify_min_norm_scale_y</a> = 0.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#addf6334cb29c021e52587f20ac5b30b2">classify_max_norm_scale_y</a> = 0.325</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a746dbbd1c99e99f3d213077cceedf80e">tess_cn_matching</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a85fcc9966cddbc38adf1014dd0cd778c">tess_bn_matching</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#adaa9bf9e188634ffa99c83204be2129f">classify_enable_adaptive_matcher</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a52c6bf81f09a61859f999707e37c47f0">classify_use_pre_adapted_templates</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a27fe54e49f64e61f40b4e50e8ff4084c">classify_save_adapted_templates</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a2420bb00ab392215cbc8b5f72d9cf81a">classify_enable_adaptive_debugger</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#adc3a809a1a219f741a9e45a32e0d11bc">matcher_good_threshold</a> = 0.125</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a8f17cd68516b18d7a0aaba311585a8ab">matcher_great_threshold</a> = 0.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3d9ace4f4ae0ddf01942ced19410adbe">matcher_perfect_threshold</a> = 0.02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a10595e84248f68a98f8e73bcdb6ae89a">matcher_bad_match_pad</a> = 0.15</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7940573dfb85992433c6f51965a9fea5">matcher_rating_margin</a> = 0.1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a9723b1f4a341f42ddfc68d2f531c7dd3">matcher_avg_noise_size</a> = 12.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a727f2429705dabdd078d6748f0e81c42">matcher_permanent_classes_min</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a33bc8d687ec0504c697ac0e1ace5567d">matcher_min_examples_for_prototyping</a> = 3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ad47099cfac2701d8fe3a24dd12eab0e1">matcher_sufficient_examples_for_prototyping</a> = 5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a76bc2aed534982a6b67afe8a6653b04f">matcher_clustering_max_angle_delta</a> = 0.015</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a67a98c273b9c1b7cc951fcb20e376bf3">classify_misfit_junk_penalty</a> = 0.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ab2ed08d2587e66a131f7fcd229102566">rating_scale</a> = 1.5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#aa220c70c7e0b0f7b0276d421c95feedd">certainty_scale</a> = 20.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0be36efceb5fcf41dfbc032516af2ace">tessedit_class_miss_scale</a> = 0.00390625</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3d74369343952e81efa5ac8858d5e9d1">classify_adapt_proto_threshold</a> = 230</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a> = 230</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ab9c25bf0ebc01c57728e19b2bbc980ef">disable_character_fragments</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a342dfc4f244244bd1bc211ea910e2b12">classify_character_fragments_garbage_certainty_threshold</a> = -3.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#abdd8831d44ce5ea36f7bbee1ed9c4e8a">classify_learn_debug_str</a> = &quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a6e0102d0d21b6151893a199cc84a6e93">classify_class_pruner_threshold</a> = 229</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a406c1644ce61dfb376ae9975f89c54ba">classify_class_pruner_multiplier</a> = 30</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a2f3faf7d282a1b58b10b3866693a4f08">classify_cp_cutoff_strength</a> = 7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a> = 14</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt; <a class="el" href="structtesseract_1_1_font_info.html">FontInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt; <a class="el" href="structtesseract_1_1_font_set.html">FontSet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a048eceaa95452969dc6cc5d29d97e5cf">il1_adaption_test</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a57e449d38b255fe82e61d88ded8b0020">classify_bln_numeric_mode</a> = 0</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_integer_matcher.html">IntegerMatcher</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_e_a_t_u_r_e___d_e_f_s___s_t_r_u_c_t.html">FEATURE_DEFS_STRUCT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a6ebcfd2968c704f99efd40075ecdb138">feature_defs_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtesseract_1_1_shape_table.html">ShapeTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="classify_8h_source.html#l00058">58</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac4c2dfe9aa3c463964fdc61faec56a67"></a><!-- doxytag: member="tesseract::Classify::Classify" ref="ac4c2dfe9aa3c463964fdc61faec56a67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::Classify::Classify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8cpp_source.html#l00029">29</a> of file <a class="el" href="classify_8cpp_source.html">classify.cpp</a>.</p>
<div class="fragment"><pre class="fragment">  : <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a22717c4d299d3a52683ad90114b20200">prioritize_division</a>, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
                <span class="stringliteral">&quot;Prioritize blob division over chopping&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a96f1213af9f43f2ec0ab9e22f32da3b6">tessedit_single_match</a>, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
               <span class="stringliteral">&quot;Top choice only from CP&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a7691700e9742ecdc10e0f8ee75682991">classify_enable_learning</a>, <span class="keyword">true</span>,
                <span class="stringliteral">&quot;Enable adaptive classifier&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a>, 0, <span class="stringliteral">&quot;Classify debug level&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>, <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, <span class="stringliteral">&quot;Normalization Method   ...&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a7bef23fa815b3c02261800ca82b05911">classify_char_norm_range</a>, 0.2,
                  <span class="stringliteral">&quot;Character Normalization Range ...&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a8ffda27cc071fa6c63c406fe9749f276">classify_min_norm_scale_x</a>, 0.0, <span class="stringliteral">&quot;Min char x-norm scale ...&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),  <span class="comment">/* PREV DEFAULT 0.1 */</span>
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a3f89a54fbee53fa65e3d2c2947dab449">classify_max_norm_scale_x</a>, 0.325, <span class="stringliteral">&quot;Max char x-norm scale ...&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),  <span class="comment">/* PREV DEFAULT 0.3 */</span>
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a0d1928e7dac3c17776220d35f08a48ec">classify_min_norm_scale_y</a>, 0.0, <span class="stringliteral">&quot;Min char y-norm scale ...&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),  <span class="comment">/* PREV DEFAULT 0.1 */</span>
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#addf6334cb29c021e52587f20ac5b30b2">classify_max_norm_scale_y</a>, 0.325, <span class="stringliteral">&quot;Max char y-norm scale ...&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),  <span class="comment">/* PREV DEFAULT 0.3 */</span>
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a746dbbd1c99e99f3d213077cceedf80e">tess_cn_matching</a>, 0, <span class="stringliteral">&quot;Character Normalized Matching&quot;</span>,
                this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a85fcc9966cddbc38adf1014dd0cd778c">tess_bn_matching</a>, 0, <span class="stringliteral">&quot;Baseline Normalized Matching&quot;</span>,
                this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#adaa9bf9e188634ffa99c83204be2129f">classify_enable_adaptive_matcher</a>, 1,
                <span class="stringliteral">&quot;Enable adaptive classifier&quot;</span>,
                this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a52c6bf81f09a61859f999707e37c47f0">classify_use_pre_adapted_templates</a>, 0,
                <span class="stringliteral">&quot;Use pre-adapted classifier templates&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a27fe54e49f64e61f40b4e50e8ff4084c">classify_save_adapted_templates</a>, 0,
               <span class="stringliteral">&quot;Save adapted templates to a file&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a2420bb00ab392215cbc8b5f72d9cf81a">classify_enable_adaptive_debugger</a>, 0, <span class="stringliteral">&quot;Enable match debugger&quot;</span>,
                this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a>, 0, <span class="stringliteral">&quot;Matcher Debug Level&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a>, 0, <span class="stringliteral">&quot;Matcher Debug Flags&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a>, 0, <span class="stringliteral">&quot;Learning Debug Level: &quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#adc3a809a1a219f741a9e45a32e0d11bc">matcher_good_threshold</a>, 0.125, <span class="stringliteral">&quot;Good Match (0-1)&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a8f17cd68516b18d7a0aaba311585a8ab">matcher_great_threshold</a>, 0.0, <span class="stringliteral">&quot;Great Match (0-1)&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a3d9ace4f4ae0ddf01942ced19410adbe">matcher_perfect_threshold</a>, 0.02, <span class="stringliteral">&quot;Perfect Match (0-1)&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a10595e84248f68a98f8e73bcdb6ae89a">matcher_bad_match_pad</a>, 0.15, <span class="stringliteral">&quot;Bad Match Pad (0-1)&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a7940573dfb85992433c6f51965a9fea5">matcher_rating_margin</a>, 0.1, <span class="stringliteral">&quot;New template margin (0-1)&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a9723b1f4a341f42ddfc68d2f531c7dd3">matcher_avg_noise_size</a>, 12.0, <span class="stringliteral">&quot;Avg. noise blob length&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a727f2429705dabdd078d6748f0e81c42">matcher_permanent_classes_min</a>, 1, <span class="stringliteral">&quot;Min # of permanent classes&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a33bc8d687ec0504c697ac0e1ace5567d">matcher_min_examples_for_prototyping</a>, 3,
               <span class="stringliteral">&quot;Reliable Config Threshold&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#ad47099cfac2701d8fe3a24dd12eab0e1">matcher_sufficient_examples_for_prototyping</a>, 5,
               <span class="stringliteral">&quot;Enable adaption even if the ambiguities have not been seen&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a76bc2aed534982a6b67afe8a6653b04f">matcher_clustering_max_angle_delta</a>, 0.015,
                  <span class="stringliteral">&quot;Maximum angle delta for prototype clustering&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a67a98c273b9c1b7cc951fcb20e376bf3">classify_misfit_junk_penalty</a>, 0.0,
                  <span class="stringliteral">&quot;Penalty to apply when a non-alnum is vertically out of &quot;</span>
                  <span class="stringliteral">&quot;its expected textline position&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#ab2ed08d2587e66a131f7fcd229102566">rating_scale</a>, 1.5, <span class="stringliteral">&quot;Rating scaling factor&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#aa220c70c7e0b0f7b0276d421c95feedd">certainty_scale</a>, 20.0, <span class="stringliteral">&quot;Certainty scaling factor&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a0be36efceb5fcf41dfbc032516af2ace">tessedit_class_miss_scale</a>, 0.00390625,
                  <span class="stringliteral">&quot;Scale factor for features not used&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a3d74369343952e81efa5ac8858d5e9d1">classify_adapt_proto_threshold</a>, 230,
               <span class="stringliteral">&quot;Threshold for good protos during adaptive 0-255&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>, 230,
               <span class="stringliteral">&quot;Threshold for good features during adaptive 0-255&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#ab9c25bf0ebc01c57728e19b2bbc980ef">disable_character_fragments</a>, <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,
                <span class="stringliteral">&quot;Do not include character fragments in the&quot;</span>
                <span class="stringliteral">&quot; results of the classifier&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a342dfc4f244244bd1bc211ea910e2b12">classify_character_fragments_garbage_certainty_threshold</a>,
                  -3.0, <span class="stringliteral">&quot;Exclude fragments that do not look like whole&quot;</span>
                  <span class="stringliteral">&quot; characters from training and adaption&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a>, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
                <span class="stringliteral">&quot;Bring up graphical debugging windows for fragments training&quot;</span>,
                this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
                <span class="stringliteral">&quot;Use two different windows for debugging the matching: &quot;</span>
                <span class="stringliteral">&quot;One for the protos and one for the features.&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#adbed450b87e900f7ee35bc5c6fc8f619">STRING_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#abdd8831d44ce5ea36f7bbee1ed9c4e8a">classify_learn_debug_str</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Class str to debug learning&quot;</span>,
                  this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a6e0102d0d21b6151893a199cc84a6e93">classify_class_pruner_threshold</a>, 229,
               <span class="stringliteral">&quot;Class Pruner Threshold 0-255&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a406c1644ce61dfb376ae9975f89c54ba">classify_class_pruner_multiplier</a>, 30,
               <span class="stringliteral">&quot;Class Pruner Multiplier 0-255:       &quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a2f3faf7d282a1b58b10b3866693a4f08">classify_cp_cutoff_strength</a>, 7,
               <span class="stringliteral">&quot;Class Pruner CutoffStrength:         &quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>, 14,
               <span class="stringliteral">&quot;Integer Matcher Multiplier  0-255:   &quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a>(<span class="keyword">true</span>),
    <a class="code" href="params_8h.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a048eceaa95452969dc6cc5d29d97e5cf">il1_adaption_test</a>, 0, <span class="stringliteral">&quot;Dont adapt to i/I at beginning of word&quot;</span>,
               this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="params_8h.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="classtesseract_1_1_classify.html#a57e449d38b255fe82e61d88ded8b0020">classify_bln_numeric_mode</a>, 0,
                <span class="stringliteral">&quot;Assume the input is numbers [0-9].&quot;</span>, this-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ac993425386ae1f73762107299ee8a114">params</a>()),
    <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>(<a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),
    dict_(&amp;<a class="code" href="classtesseract_1_1_c_c_struct.html#af0134325da282ba2dacbb034cf59dde0">image_</a>) {
  <a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#a7e1ff22ed9e31fd303ce9fea4f1eeff2">set_compare_callback</a>(
      <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a050fbf6fe3d3cb63b62efbff771495ba">CompareFontInfo</a>));
  <a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#accc4dcfc4923d6ec2cb0f19c9f21ecfb">set_clear_callback</a>(
      <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a1eb40be391904d34559ee7fc06b321f4">FontInfoDeleteCallback</a>));
  <a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a7e1ff22ed9e31fd303ce9fea4f1eeff2">set_compare_callback</a>(
      <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a2d183ded4bf706476f186ff0b2d14ba1">CompareFontSet</a>));
  <a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#accc4dcfc4923d6ec2cb0f19c9f21ecfb">set_clear_callback</a>(
      <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#ab0d03c86610f630327041d46a069fa94">FontSetDeleteCallback</a>));
  <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  AdaptiveMatcherCalls = 0;
  BaselineClassifierCalls = 0;
  CharNormClassifierCalls = 0;
  AmbigClassifierCalls = 0;
  NumWordsAdaptedTo = 0;
  NumCharsAdaptedTo = 0;
  NumBaselineClassesTried = 0;
  NumCharNormClassesTried = 0;
  NumAmbigClassesTried = 0;
  NumClassesOutput = 0;
  NumAdaptationsFailed = 0;

  FeaturesHaveBeenExtracted = <span class="keyword">false</span>;
  FeaturesOK = <span class="keyword">true</span>;
  learn_debug_win_ = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  learn_fragmented_word_debug_win_ = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  learn_fragments_debug_win_ = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  CharNormCutoffs = <span class="keyword">new</span> <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>[<a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>];
  BaselineCutoffs = <span class="keyword">new</span> <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>[<a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4a3fe30721c7f945fb4c5ebfe421639c"></a><!-- doxytag: member="tesseract::Classify::~Classify" ref="a4a3fe30721c7f945fb4c5ebfe421639c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::Classify::~Classify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8cpp_source.html#l00173">173</a> of file <a class="el" href="classify_8cpp_source.html">classify.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                    {
  <a class="code" href="classtesseract_1_1_classify.html#ae5e4880c5acc91b77308fbd6ab706b13">EndAdaptiveClassifier</a>();
  <span class="keyword">delete</span> learn_debug_win_;
  <span class="keyword">delete</span> learn_fragmented_word_debug_win_;
  <span class="keyword">delete</span> learn_fragments_debug_win_;
  <span class="keyword">delete</span>[] CharNormCutoffs;
  <span class="keyword">delete</span>[] BaselineCutoffs;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac1f369f9a59739a588a4d84f60bac6c1"></a><!-- doxytag: member="tesseract::Classify::AdaptableWord" ref="ac1f369f9a59739a588a4d84f60bac6c1" args="(TWERD *Word, const WERD_CHOICE &amp;BestChoiceWord, const WERD_CHOICE &amp;RawChoiceWord)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::AdaptableWord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_w_e_r_d.html">TWERD</a> *&#160;</td>
          <td class="paramname"><em>Word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>BestChoiceWord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>RawChoiceWord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return TRUE if the specified word is acceptable for adaptation.</p>
<p>Globals: none</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Word</td><td>current word </td></tr>
    <tr><td class="paramname">BestChoiceWord</td><td>best overall choice for word with context </td></tr>
    <tr><td class="paramname">RawChoiceWord</td><td>best choice for word without context</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE or FALSE </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Thu May 30 14:25:06 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00895">895</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  <span class="keywordtype">int</span> BestChoiceLength = BestChoiceWord.<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>();
  <span class="keywordtype">float</span> adaptable_score =
    <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().segment_penalty_dict_case_ok + <a class="code" href="adaptmatch_8cpp.html#a60c940a7a2c296b84d3cc915267c83c1">ADAPTABLE_WERD_ADJUSTMENT</a>;
  <span class="keywordflow">return</span>   <span class="comment">// rules that apply in general - simplest to compute first</span>
      BestChoiceLength &gt; 0 &amp;&amp;
      BestChoiceLength == Word-&gt;<a class="code" href="struct_t_w_e_r_d.html#adfdef9868e61650e076775011382ec70">NumBlobs</a>() &amp;&amp;
      BestChoiceLength &lt;= <a class="code" href="adaptmatch_8cpp.html#a1243706f4507cae308afd38f4481e919">MAX_ADAPTABLE_WERD_SIZE</a> &amp;&amp;
      <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().CurrentBestChoiceAdjustFactor() &lt;= adaptable_score &amp;&amp;
      <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().AlternativeChoicesWorseThan(adaptable_score) &amp;&amp;
      <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().CurrentBestChoiceIs(BestChoiceWord);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1f058451e32538b4dc2c853b82bc6600"></a><!-- doxytag: member="tesseract::Classify::AdaptiveClassifier" ref="a1f058451e32538b4dc2c853b82bc6600" args="(TBLOB *Blob, const DENORM &amp;denorm, BLOB_CHOICE_LIST *Choices, CLASS_PRUNER_RESULTS cp_results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::AdaptiveClassifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>Choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intmatcher_8h.html#aad58739a624ab51ab180aac3342c6efc">CLASS_PRUNER_RESULTS</a>&#160;</td>
          <td class="paramname"><em>CPResults</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine calls the adaptive matcher which returns (in an array) the class id of each class matched.</p>
<p>It also returns the number of classes matched. For each class matched it places the best rating found for that class into the Ratings array.</p>
<p>Bad matches are then removed so that they don't need to be sorted. The remaining good matches are then sorted and converted to choices.</p>
<p>This routine also performs some simple speckle filtering.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Mon Mar 11 10:00:58 1991, DSJ, Created.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Blob</td><td>blob to be classified </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Choices</td><td>List of choices found by adaptive matcher. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CPResults</td><td>Array of CPResultStruct of size MAX_NUM_CLASSES is filled on return with the choices found by the class pruner and the ratings therefrom. Also contains the detailed results of the integer matcher. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00177">177</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {
  assert(Choices != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results = <span class="keyword">new</span> <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a>();

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="classtesseract_1_1_classify.html#a28ddc270cb5d2613f5f0f24ad53a5a21">NewAdaptedTemplates</a> (<span class="keyword">true</span>);

  Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a450c3b1b225dfa0771edd50732e5d288">Initialize</a>();

  <a class="code" href="classtesseract_1_1_classify.html#a8575af5f97d4037d4fdd2e21b477dd38">DoAdaptiveMatch</a>(Blob, denorm, Results);
  <span class="keywordflow">if</span> (CPResults != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    memcpy(CPResults, Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>,
           <span class="keyword">sizeof</span>(CPResults[0]) * Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>);

  <a class="code" href="classtesseract_1_1_classify.html#a0e35029ac0c77ad18d35f08c27c99d15">RemoveBadMatches</a>(Results);
  qsort((<span class="keywordtype">void</span> *)Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>, Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>,
        <span class="keyword">sizeof</span>(<a class="code" href="struct_scored_class.html">ScoredClass</a>), <a class="code" href="adaptmatch_8cpp.html#a82aaab0580160422d3587ca9cc533e60">CompareByRating</a>);
  <a class="code" href="classtesseract_1_1_classify.html#af15e83a02b369b820d40c8920b4275e8">RemoveExtraPuncs</a>(Results);
  <a class="code" href="classtesseract_1_1_classify.html#af1f1f794092ce44dff7c242822b6cf68">ConvertMatchesToChoices</a>(denorm, Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>(), Results, Choices);

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a> &gt;= 1) {
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;AD Matches =  &quot;</span>);
    <a class="code" href="classtesseract_1_1_classify.html#aad46f714847619694546e9ea2784402c">PrintAdaptiveMatchResults</a>(stdout, Results);
  }

  <span class="keywordflow">if</span> (<a class="code" href="speckle_8cpp.html#a23f46ca3d2ee91db4490641e9268a172">LargeSpeckle</a>(Blob))
    <a class="code" href="speckle_8cpp.html#a39cee874b396f85d17da4ee6cedf4944">AddLargeSpeckleTo</a>(Choices);

<span class="preprocessor">#ifndef GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a2420bb00ab392215cbc8b5f72d9cf81a">classify_enable_adaptive_debugger</a>)
    <a class="code" href="classtesseract_1_1_classify.html#af9a9def4a6b3bb1a2e36bceff2976c2c">DebugAdaptiveClassifier</a>(Blob, denorm, Results);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
  NumClassesOutput += Choices-&gt;length();
  <span class="keywordflow">if</span> (Choices-&gt;length() == 0) {
    <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_classify.html#a57e449d38b255fe82e61d88ded8b0020">classify_bln_numeric_mode</a>)
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a> (<span class="stringliteral">&quot;Empty classification!\n&quot;</span>);  <span class="comment">// Should never normally happen.</span>
    Choices = <span class="keyword">new</span> BLOB_CHOICE_LIST();
    BLOB_CHOICE_IT temp_it;
    temp_it.set_to_list(Choices);
    temp_it.add_to_end(
        <span class="keyword">new</span> <a class="code" href="class_b_l_o_b___c_h_o_i_c_e.html">BLOB_CHOICE</a>(0, 50.0<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>, -20.0<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>, -1, -1, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0, <span class="keyword">false</span>));
  }

  <span class="keyword">delete</span> Results;
}                                <span class="comment">/* AdaptiveClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa2f1ff296efea11aabd476cba49a39c5"></a><!-- doxytag: member="tesseract::Classify::AdaptiveClassifierIsFull" ref="aa2f1ff296efea11aabd476cba49a39c5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Classify::AdaptiveClassifierIsFull </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00319">319</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> NumAdaptationsFailed &gt; 0; }
</pre></div>
</div>
</div>
<a class="anchor" id="a53629ef3f5562677ae096bbce864e5ab"></a><!-- doxytag: member="tesseract::Classify::AdaptToChar" ref="a53629ef3f5562677ae096bbce864e5ab" args="(TBLOB *Blob, const DENORM &amp;denorm, CLASS_ID ClassId, int FontinfoId, FLOAT32 Threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::AdaptToChar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FontinfoId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to add to templates for ClassId </td></tr>
    <tr><td class="paramname">LineStats</td><td>statistics about text line blob is in </td></tr>
    <tr><td class="paramname">ClassId</td><td>class to add blob to </td></tr>
    <tr><td class="paramname">FontinfoId</td><td>font information from pre-trained templates </td></tr>
    <tr><td class="paramname">Threshold</td><td>minimum match rating to existing template</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>AdaptedTemplates current set of adapted templates</li>
<li>AllProtosOn dummy mask to match against all protos</li>
<li>AllConfigsOn dummy mask to match against all configs</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>none </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Thu Mar 14 09:36:03 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00927">927</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="keywordtype">int</span> NumFeatures;
  <a class="code" href="baseapi_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures;
  <a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a> IntResult;
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> IClass;
  <a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html">ADAPT_CLASS</a> Class;
  <a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html">TEMP_CONFIG</a> TempConfig;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html">FEATURE_SET</a> FloatFeatures;
  <span class="keywordtype">int</span> NewTempConfigId;

  <a class="code" href="classtesseract_1_1_classify.html#a62ffff7932680b25784bfca5079ce347">ResetFeaturesHaveBeenExtracted</a>();
  NumCharsAdaptedTo++;
  <span class="keywordflow">if</span> (!<a class="code" href="intproto_8h.html#a6edc7e9d060a50cd3617bb509a061eb5">LegalClassId</a> (ClassId))
    <span class="keywordflow">return</span>;

  Class = <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ClassId];
  assert(Class != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <span class="keywordflow">if</span> (<a class="code" href="adaptive_8h.html#a1d2aa2b696e73525cb57373fcc5a83ae">IsEmptyAdaptedClass</a>(Class)) {
    <a class="code" href="classtesseract_1_1_classify.html#aee9e5bd336bf1a37a7a1f3b712eb045d">InitAdaptedClass</a>(Blob, denorm, ClassId, FontinfoId, Class,
                     <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);
  }
  <span class="keywordflow">else</span> {
    IClass = <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, ClassId);

    NumFeatures = <a class="code" href="classtesseract_1_1_classify.html#a1f21b989c93ff1d297b5bde442fc430c">GetAdaptiveFeatures</a>(Blob, IntFeatures, &amp;FloatFeatures);
    <span class="keywordflow">if</span> (NumFeatures &lt;= 0)
      <span class="keywordflow">return</span>;

    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#a30a627213fe38d7ae508cf6eaa946b41">SetBaseLineMatch</a>();
    <span class="comment">// Only match configs with the matching font.</span>
    <a class="code" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> MatchingFontConfigs = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cfg = 0; cfg &lt; IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>; ++cfg) {
      <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#afae8a55c28ee68de92ab1b1dd37c6905">GetFontinfoId</a>(Class, cfg) == FontinfoId) {
        <a class="code" href="bitvec_8h.html#ab02d606cf8dca49ccadb00248bdbafe9">SET_BIT</a>(MatchingFontConfigs, cfg);
      } <span class="keywordflow">else</span> {
        <a class="code" href="bitvec_8h.html#a1209b8bb0fa7e6e7323cdb48b4165f0d">reset_bit</a>(MatchingFontConfigs, cfg);
      }
    }
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(IClass, <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, MatchingFontConfigs,
              NumFeatures, IntFeatures,
              &amp;IntResult, <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>,
              <a class="code" href="adaptmatch_8cpp.html#a424f1b989129c5519f4df8f61ad6dcaf">NO_DEBUG</a>, <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(MatchingFontConfigs);

    <a class="code" href="classtesseract_1_1_classify.html#a5a3045639a3db979a8d1eb6dc4343e3b">SetAdaptiveThreshold</a>(Threshold);

    <span class="keywordflow">if</span> (IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a> &lt;= Threshold) {
      <span class="keywordflow">if</span> (<a class="code" href="adaptive_8h.html#a45d630ce43777ee1ab16048b0a846813">ConfigIsPermanent</a> (Class, IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>)) {
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
          <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Found good match to perm config %d = %4.1f%%.\n&quot;</span>,
            IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>, (1.0 - IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a>) * 100.0);
        <a class="code" href="ocrfeatures_8cpp.html#a72b29c3d875eb9a2241385b1f1388b2d">FreeFeatureSet</a>(FloatFeatures);
        <span class="keywordflow">return</span>;
      }

      TempConfig = <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a> (Class, IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>);
      <a class="code" href="adaptive_8h.html#ac59a542b45e0a63d6b99ef48a189e1e0">IncreaseConfidence</a>(TempConfig);
      <span class="keywordflow">if</span> (TempConfig-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a441b843c3b024cd12b0ab4115a9fd159">NumTimesSeen</a> &gt; Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a88d1300e6657fc7c98af721983018b36">MaxNumTimesSeen</a>) {
        Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a88d1300e6657fc7c98af721983018b36">MaxNumTimesSeen</a> = TempConfig-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a441b843c3b024cd12b0ab4115a9fd159">NumTimesSeen</a>;
      }
      <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
        <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Increasing reliability of temp config %d to %d.\n&quot;</span>,
          IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>, TempConfig-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a441b843c3b024cd12b0ab4115a9fd159">NumTimesSeen</a>);

      <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a786c5f6e2a5cd8aac2ed4dd89af84fea">TempConfigReliable</a>(ClassId, TempConfig)) {
        <a class="code" href="classtesseract_1_1_classify.html#aefb0cfe284dd67601798f7ae510b787f">MakePermanent</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>, ClassId, IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>, denorm,
                      Blob);
        <a class="code" href="classtesseract_1_1_classify.html#a954c9085f840572567462c9e0ff3551a">UpdateAmbigsGroup</a>(ClassId, denorm, Blob);
      }
    }
    <span class="keywordflow">else</span> {
      <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
        <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Found poor match to temp config %d = %4.1f%%.\n&quot;</span>,
          IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>, (1.0 - IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a>) * 100.0);
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt; 2)
          <a class="code" href="classtesseract_1_1_classify.html#aaa7b4a01a6f9bd1f088982a4011274e5">DisplayAdaptedChar</a>(Blob, denorm, IClass);
      }
      NewTempConfigId = <a class="code" href="classtesseract_1_1_classify.html#a59900939784eac1e2e6ebfec1f82bb58">MakeNewTemporaryConfig</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>,
                                               ClassId,
                                               FontinfoId,
                                               NumFeatures,
                                               IntFeatures,
                                               FloatFeatures);
      <span class="keywordflow">if</span> (NewTempConfigId &gt;= 0 &amp;&amp;
          <a class="code" href="classtesseract_1_1_classify.html#a786c5f6e2a5cd8aac2ed4dd89af84fea">TempConfigReliable</a>(ClassId, <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a>(Class, NewTempConfigId))) {
        <a class="code" href="classtesseract_1_1_classify.html#aefb0cfe284dd67601798f7ae510b787f">MakePermanent</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>, ClassId, NewTempConfigId, denorm, Blob);
        <a class="code" href="classtesseract_1_1_classify.html#a954c9085f840572567462c9e0ff3551a">UpdateAmbigsGroup</a>(ClassId, denorm, Blob);
      }

<span class="preprocessor">#ifndef GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>      <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt; 1) {
        <a class="code" href="classtesseract_1_1_classify.html#aaa7b4a01a6f9bd1f088982a4011274e5">DisplayAdaptedChar</a>(Blob, denorm, IClass);
      }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }
    <a class="code" href="ocrfeatures_8cpp.html#a72b29c3d875eb9a2241385b1f1388b2d">FreeFeatureSet</a>(FloatFeatures);
  }
}                                <span class="comment">/* AdaptToChar */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a7d9076164677e7e5a863a8a5d265b957"></a><!-- doxytag: member="tesseract::Classify::AdaptToPunc" ref="a7d9076164677e7e5a863a8a5d265b957" args="(TBLOB *Blob, const DENORM &amp;denorm, CLASS_ID ClassId, int FontinfoId, FLOAT32 Threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::AdaptToPunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FontinfoId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to add to templates for ClassId </td></tr>
    <tr><td class="paramname">LineStats</td><td>statistics about text line blob is in </td></tr>
    <tr><td class="paramname">ClassId</td><td>class to add blob to </td></tr>
    <tr><td class="paramname">FontinfoId</td><td>font information from pre-trained teamples </td></tr>
    <tr><td class="paramname">Threshold</td><td>minimum match rating to existing template</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>PreTrainedTemplates current set of built-in templates</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Thu Mar 14 09:36:03 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01076">1076</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results = <span class="keyword">new</span> <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a>();
  <span class="keywordtype">int</span> i;

  Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a450c3b1b225dfa0771edd50732e5d288">Initialize</a>();
  <a class="code" href="classtesseract_1_1_classify.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier</a>(Blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, Results);
  <a class="code" href="classtesseract_1_1_classify.html#a0e35029ac0c77ad18d35f08c27c99d15">RemoveBadMatches</a>(Results);

  <span class="keywordflow">if</span> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> != 1) {
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Rejecting punc = %s (Alternatives = &quot;</span>,
               <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId));

      <span class="keywordflow">for</span> (i = 0; i &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; i++)
        <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>));
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;)\n&quot;</span>);
    }
  } <span class="keywordflow">else</span> {
<span class="preprocessor">    #ifndef SECURE_NAMES</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Adapting to punc = %s, thr= %g\n&quot;</span>,
               <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId), Threshold);
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>    <a class="code" href="classtesseract_1_1_classify.html#a53629ef3f5562677ae096bbce864e5ab">AdaptToChar</a>(Blob, denorm, ClassId, FontinfoId, Threshold);
  }
  <span class="keyword">delete</span> Results;
}                                <span class="comment">/* AdaptToPunc */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a3681915077046082b4d99532a3f3da61"></a><!-- doxytag: member="tesseract::Classify::AddNewResult" ref="a3681915077046082b4d99532a3f3da61" args="(ADAPT_RESULTS *results, CLASS_ID class_id, int shape_id, FLOAT32 rating, bool adapted, int config, int fontinfo_id, int fontinfo_id2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::AddNewResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shape_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adapted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fontinfo_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fontinfo_id2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine adds the result of a classification into Results. If the new rating is much worse than the current best rating, it is not entered into results because it would end up being stripped later anyway. If the new rating is better than the old rating for the class, it replaces the old rating. If this is the first rating for the class, the class is added to the list of matched classes in Results. If the new rating is better than the best so far, it becomes the best so far.</p>
<p>Globals:</p>
<ul>
<li><a class="el" href="classtesseract_1_1_classify.html#a10595e84248f68a98f8e73bcdb6ae89a">matcher_bad_match_pad</a> defines limits of an acceptable match</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">results</td><td>results to add new result to </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">class_id</td><td>class of new result </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rating</td><td>rating of new result </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">config</td><td>config id of new result </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">config2</td><td>config id of 2nd choice result </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">fontinfo_id</td><td>font information of the new result </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">fontinfo_id2</td><td>font information of the 2nd choice result</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 18:19:29 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01135">1135</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <a class="code" href="struct_scored_class.html">ScoredClass</a> *old_match = <a class="code" href="adaptmatch_8cpp.html#a3cedbdc7ad221f31895c55506410fd98">FindScoredUnichar</a>(results, class_id);
  <a class="code" href="struct_scored_class.html">ScoredClass</a> match =
      { class_id,
        shape_id,
        rating,
        adapted,
        <span class="keyword">static_cast&lt;</span><a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a><span class="keyword">&gt;</span>(config),
        static_cast&lt;inT16&gt;(fontinfo_id),
        <span class="keyword">static_cast&lt;</span><a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a><span class="keyword">&gt;</span>(fontinfo_id2) };

  <span class="keywordflow">if</span> (rating &gt; results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> + <a class="code" href="classtesseract_1_1_classify.html#a10595e84248f68a98f8e73bcdb6ae89a">matcher_bad_match_pad</a> ||
      (old_match &amp;&amp; rating &gt;= old_match-&gt;<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>))
    <span class="keywordflow">return</span>;

  <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(class_id))
    results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#ab6a520c3c59a1f1a3f4d1c27bf5d3000">HasNonfragment</a> = <span class="keyword">true</span>;

  if (old_match)
    old_match-&gt;<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> = rating;
  <span class="keywordflow">else</span>
    results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>++] = match;

  <span class="keywordflow">if</span> (rating &lt; results-&gt;best_match.rating &amp;&amp;
      <span class="comment">// Ensure that fragments do not affect best rating, class and config.</span>
      <span class="comment">// This is needed so that at least one non-fragmented character is</span>
      <span class="comment">// always present in the results.</span>
      <span class="comment">// TODO(daria): verify that this helps accuracy and does not</span>
      <span class="comment">// hurt performance.</span>
      !<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(class_id)) {
    results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a> = match;
  }
}                                <span class="comment">/* AddNewResult */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ac7501f294525f6dd7fca4a3512ae0dcf"></a><!-- doxytag: member="tesseract::Classify::AmbigClassifier" ref="ac7501f294525f6dd7fca4a3512ae0dcf" args="(TBLOB *Blob, const DENORM &amp;denorm, INT_TEMPLATES Templates, ADAPT_CLASS *Classes, UNICHAR_ID *Ambiguities, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::AmbigClassifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *&#160;</td>
          <td class="paramname"><em>Classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *&#160;</td>
          <td class="paramname"><em>Ambiguities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine is identical to <a class="el" href="classtesseract_1_1_classify.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier()</a> except that it does no class pruning. It simply matches the unknown blob against the classes listed in Ambiguities.</p>
<p>Globals:</p>
<ul>
<li><a class="el" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> mask that enables all protos</li>
<li><a class="el" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a> mask that enables all configs</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Blob</td><td>blob to be classified </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">Templates</td><td>built-in templates to classify against </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">Ambiguities</td><td>array of class id's to match against </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Results</td><td>place to put match results</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 19:40:36 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01196">1196</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
  <span class="keywordtype">int</span> NumFeatures;
  <a class="code" href="baseapi_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures;
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* CharNormArray = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>()];
  <a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a> IntResult;
  <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId;

  AmbigClassifierCalls++;

  NumFeatures = <a class="code" href="classtesseract_1_1_classify.html#a1076d5d08686e48d39ef3eb07e711fb6">GetCharNormFeatures</a>(Blob, denorm, Templates, IntFeatures,
                                    <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, CharNormArray,
                                    &amp;(Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a>), <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <span class="keywordflow">if</span> (NumFeatures &lt;= 0) {
    <span class="keyword">delete</span> [] CharNormArray;
    <span class="keywordflow">return</span>;
  }

  <span class="keywordtype">bool</span> debug = <a class="code" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a> &gt;= 2 || <a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &gt; 1;
  <span class="keywordflow">if</span> (debug)
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;AM Matches =  &quot;</span>);

  <span class="keywordtype">int</span> top = Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>();
  <span class="keywordtype">int</span> bottom = Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>();
  <span class="keywordflow">while</span> (*Ambiguities &gt;= 0) {
    ClassId = *Ambiguities;

    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#adff6fd8fca725fa346db25010b3be21e">SetCharNormMatch</a>(<a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a>(Templates, ClassId),
              <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>,
              NumFeatures, IntFeatures,
              &amp;IntResult,
              <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>, <a class="code" href="adaptmatch_8cpp.html#a424f1b989129c5519f4df8f61ad6dcaf">NO_DEBUG</a>,
              <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);

    <a class="code" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a>(<a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, debug, ClassId, bottom, top, 0,
                                    Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a>, CharNormArray,
                                    IntResult, Results);
    Ambiguities++;

    NumAmbigClassesTried++;
  }
  <span class="keyword">delete</span> [] CharNormArray;
}                                <span class="comment">/* AmbigClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ab7022031939236cac2fe6b661e6f657b"></a><!-- doxytag: member="tesseract::Classify::BaselineClassifier" ref="ab7022031939236cac2fe6b661e6f657b" args="(TBLOB *Blob, const DENORM &amp;denorm, ADAPT_TEMPLATES Templates, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> * tesseract::Classify::BaselineClassifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine extracts baseline normalized features from the unknown character and matches them against the specified set of templates. The classes which match are added to Results.</p>
<p>Globals:</p>
<ul>
<li>BaselineCutoffs expected num features for each class</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to be classified </td></tr>
    <tr><td class="paramname">Templates</td><td>current set of adapted templates </td></tr>
    <tr><td class="paramname">Results</td><td>place to put match results</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array of possible ambiguous chars that should be checked. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 19:38:03 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01413">1413</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
  <span class="keywordtype">int</span> NumFeatures;
  <span class="keywordtype">int</span> NumClasses;
  <a class="code" href="baseapi_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures;
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* CharNormArray = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>()];
  <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId;

  BaselineClassifierCalls++;

  NumFeatures = <a class="code" href="classtesseract_1_1_classify.html#a4bf0e47e0ae00a0cec215a887cef8c65">GetBaselineFeatures</a>(
      Blob, denorm, Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, IntFeatures, CharNormArray,
      &amp;(Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a>));
  <span class="keywordflow">if</span> (NumFeatures &lt;= 0) {
    <span class="keyword">delete</span> [] CharNormArray;
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }

  NumClasses = <a class="code" href="classtesseract_1_1_classify.html#af60b52006bbea0cc1727d543c3fcd1ad">PruneClasses</a>(Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, NumFeatures, IntFeatures,
                            CharNormArray, BaselineCutoffs, Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>);

  NumBaselineClassesTried += NumClasses;

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a> &gt;= 2 || <a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &gt; 1)
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;BL Matches =  &quot;</span>);

  <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#a30a627213fe38d7ae508cf6eaa946b41">SetBaseLineMatch</a>();
  <a class="code" href="classtesseract_1_1_classify.html#a9df3ff8623acd0ab30286ace7362045c">MasterMatcher</a>(Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, NumFeatures, IntFeatures, CharNormArray,
                Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>, <a class="code" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a>, NumClasses,
                Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>(), Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>, Results);

  <span class="keyword">delete</span> [] CharNormArray;
  ClassId = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>;
  <span class="keywordflow">if</span> (ClassId == <a class="code" href="matchdefs_8h.html#a6ce548e51895ce0226ee145753a9c815">NO_CLASS</a>)
    <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <span class="comment">/* this is a bug - maybe should return &quot;&quot; */</span>

  <span class="keywordflow">return</span> Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ClassId]-&gt;
      <a class="code" href="commontraining_8cpp.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>[Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#aa8ff624b603b87dd4cc41304e1e72b05">config</a>].Perm-&gt;Ambigs;
}                                <span class="comment">/* BaselineClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a0e552819a03cc6f169e18a58b16696a6"></a><!-- doxytag: member="tesseract::Classify::CharNormClassifier" ref="a0e552819a03cc6f169e18a58b16696a6" args="(TBLOB *Blob, const DENORM &amp;denorm, INT_TEMPLATES Templates, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::CharNormClassifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine extracts character normalized features from the unknown character and matches them against the specified set of templates. The classes which match are added to Results.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to be classified </td></tr>
    <tr><td class="paramname">Templates</td><td>templates to classify unknown against </td></tr>
    <tr><td class="paramname">Results</td><td>place to put match results</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>CharNormCutoffs expected num features for each class</li>
<li>AllProtosOn mask that enables all protos</li>
<li>AllConfigsOn mask that enables all configs</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 16:02:52 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01476">1476</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
  <span class="keywordtype">int</span> NumFeatures;
  <span class="keywordtype">int</span> NumClasses;
  <a class="code" href="baseapi_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures;

  CharNormClassifierCalls++;

  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* CharNormArray = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>()];
  <span class="keywordtype">int</span> num_pruner_classes = <a class="code" href="ndminx_8h.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>(),
                               <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>);
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* PrunerNormArray = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[num_pruner_classes];
  NumFeatures = <a class="code" href="classtesseract_1_1_classify.html#a1076d5d08686e48d39ef3eb07e711fb6">GetCharNormFeatures</a>(Blob, denorm, Templates, IntFeatures,
                                    PrunerNormArray, CharNormArray,
                                    &amp;(Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a>), <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <span class="keywordflow">if</span> (NumFeatures &lt;= 0) {
    <span class="keyword">delete</span> [] CharNormArray;
    <span class="keyword">delete</span> [] PrunerNormArray;
    <span class="keywordflow">return</span> 0;
  }

  NumClasses = <a class="code" href="classtesseract_1_1_classify.html#af60b52006bbea0cc1727d543c3fcd1ad">PruneClasses</a>(Templates, NumFeatures, IntFeatures,
                            PrunerNormArray,
                            <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? &amp;shapetable_cutoffs_[0]
                                                 : CharNormCutoffs,
                            Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>);

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a96f1213af9f43f2ec0ab9e22f32da3b6">tessedit_single_match</a> &amp;&amp; NumClasses &gt; 1)
    NumClasses = 1;
  NumCharNormClassesTried += NumClasses;

  <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#adff6fd8fca725fa346db25010b3be21e">SetCharNormMatch</a>(<a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>);
  <a class="code" href="classtesseract_1_1_classify.html#a9df3ff8623acd0ab30286ace7362045c">MasterMatcher</a>(Templates, NumFeatures, IntFeatures, CharNormArray,
                <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a>, NumClasses,
                Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>(), Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>, Results);
  <span class="keyword">delete</span> [] CharNormArray;
  <span class="keyword">delete</span> [] PrunerNormArray;
  <span class="keywordflow">return</span> NumFeatures;
}                                <span class="comment">/* CharNormClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa3907b770bdeb45e652e0ab122568cf4"></a><!-- doxytag: member="tesseract::Classify::CharNormTrainingSample" ref="aa3907b770bdeb45e652e0ab122568cf4" args="(bool pruner_only, const TrainingSample &amp;sample, GenericVector&lt; ShapeRating &gt; *results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::CharNormTrainingSample </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pruner_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtesseract_1_1_training_sample.html">TrainingSample</a> &amp;&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_generic_vector.html">GenericVector</a>&lt; <a class="el" href="structtesseract_1_1_shape_rating.html">ShapeRating</a> &gt; *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01520">1520</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
  results-&gt;<a class="code" href="class_generic_vector.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();
  <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a>* adapt_results = <span class="keyword">new</span> <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a>();
  adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a450c3b1b225dfa0771edd50732e5d288">Initialize</a>();
  <span class="comment">// Compute the bounding box of the features.</span>
  <span class="keywordtype">int</span> num_features = <a class="code" href="structsample.html">sample</a>.num_features();
  <a class="code" href="class_t_b_o_x.html">TBOX</a> blob_box;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a> = 0; <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a> &lt; num_features; ++<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>) {
    <span class="keyword">const</span> <a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE_STRUCT</a> feature = <a class="code" href="structsample.html">sample</a>.features()[<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>];
    <a class="code" href="class_t_b_o_x.html">TBOX</a> fbox(feature.<a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html#a6b250df12a9b06b5ed0c1a7c403f0275">X</a>, feature.<a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html#a09931683890fb52d22ec6c75048a2bce">Y</a>, feature.<a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html#a6b250df12a9b06b5ed0c1a7c403f0275">X</a>, feature.<a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html#a09931683890fb52d22ec6c75048a2bce">Y</a>);
    blob_box += fbox;
  }
  <span class="comment">// Compute the char_norm_array from the saved cn_feature.</span>
  <a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE</a> norm_feature = <a class="code" href="ocrfeatures_8cpp.html#a32a08c42617c8dd6a156c1c8d7fb2cbb">NewFeature</a>(&amp;CharNormDesc);
  norm_feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>] = <a class="code" href="structsample.html">sample</a>.cn_feature(<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>);
  norm_feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506af859d8f455da531fb41201c80187dccf">CharNormLength</a>] = <a class="code" href="structsample.html">sample</a>.cn_feature(<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506af859d8f455da531fb41201c80187dccf">CharNormLength</a>);
  norm_feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>] = <a class="code" href="structsample.html">sample</a>.cn_feature(<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>);
  norm_feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>] = <a class="code" href="structsample.html">sample</a>.cn_feature(<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>);
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* char_norm_array = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>()];
  <span class="keywordtype">int</span> num_pruner_classes = <a class="code" href="ndminx_8h.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>(),
                               <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>);
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* pruner_norm_array = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[num_pruner_classes];
  adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a> =
      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="normfeat_8cpp.html#a42d064127b80043f5af5a4e77305d412">ActualOutlineLength</a>(norm_feature) * 20 + 0.5);
  <a class="code" href="classtesseract_1_1_classify.html#a8f49de2f8da7b066bd8ece0641edcca1">ComputeCharNormArrays</a>(norm_feature, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, char_norm_array,
                        pruner_norm_array);

  <span class="keywordtype">int</span> num_classes = <a class="code" href="classtesseract_1_1_classify.html#af60b52006bbea0cc1727d543c3fcd1ad">PruneClasses</a>(<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, num_features,
                                 <a class="code" href="structsample.html">sample</a>.features(),
                                 pruner_norm_array,
                                 <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? &amp;shapetable_cutoffs_[0]
                                                      : CharNormCutoffs,
                                 adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>);
  <span class="keyword">delete</span> [] pruner_norm_array;
  <span class="keywordflow">if</span> (pruner_only) {
    <span class="comment">// Convert pruner results to output format.</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_classes; ++i) {
      <span class="keywordtype">int</span> class_id = adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>[i].Class;
      <span class="keywordtype">int</span> shape_id = class_id;
      <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <span class="comment">// All shapes in a class have the same combination of unichars, so</span>
        <span class="comment">// it doesn&#39;t really matter which config we give it, as we aren&#39;t</span>
        <span class="comment">// trying to get the font here.</span>
        shape_id = <a class="code" href="classtesseract_1_1_classify.html#a1002c7f80352c6ceac4af82ee35e5e06">ClassAndConfigIDToFontOrShapeID</a>(class_id, 0);
      }
      results-&gt;<a class="code" href="class_generic_vector.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(
          ShapeRating(shape_id, 1.0<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a> - adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>[i].Rating));
    }
  } <span class="keywordflow">else</span> {
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#adff6fd8fca725fa346db25010b3be21e">SetCharNormMatch</a>(<a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a9df3ff8623acd0ab30286ace7362045c">MasterMatcher</a>(<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, num_features, <a class="code" href="structsample.html">sample</a>.features(),
                  char_norm_array,
                  <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a>, num_classes,
                  blob_box, adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a66adcc458cd1f9b662e9e2ef5b88b74f">CPResults</a>, adapt_results);
    <span class="comment">// Convert master matcher results to output format.</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; i++) {
      <a class="code" href="struct_scored_class.html">ScoredClass</a> next = adapt_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i];
      results-&gt;<a class="code" href="class_generic_vector.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(ShapeRating(next.<a class="code" href="struct_scored_class.html#ab3db24ffe2690f52d86053ba1f631520">shape_id</a>, 1.0f - next.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>));
    }
    results-&gt;<a class="code" href="class_generic_vector.html#a999bbd8ff336c81fe1198ea714c7936d">sort</a>(&amp;<a class="code" href="structtesseract_1_1_shape_rating.html#a2e3c1c3af03514c4dc2faef9b99c1eb1">ShapeRating::SortDescendingRating</a>);
  }
  <span class="keyword">delete</span> [] char_norm_array;
  <span class="keyword">delete</span> adapt_results;
  <span class="keywordflow">return</span> num_features;
}                                <span class="comment">/* CharNormTrainingSample */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a1002c7f80352c6ceac4af82ee35e5e06"></a><!-- doxytag: member="tesseract::Classify::ClassAndConfigIDToFontOrShapeID" ref="a1002c7f80352c6ceac4af82ee35e5e06" args="(int class_id, int int_result_config) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::ClassAndConfigIDToFontOrShapeID </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>int_result_config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02715">2715</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                           {
  <span class="keywordtype">int</span> font_set_id = <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a2083307ebe623a6617ff38291a2f3614">Class</a>[class_id]-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>;
  <span class="comment">// Older inttemps have no font_ids.</span>
  <span class="keywordflow">if</span> (font_set_id &lt; 0)
    <span class="keywordflow">return</span> kBlankFontinfoId;
  <span class="keyword">const</span> FontSet &amp;fs = <a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a3b3107bc72d9edfe501eaba7404de7eb" title="Return the object from an id.">get</a>(font_set_id);
  <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(int_result_config &gt;= 0 &amp;&amp; int_result_config &lt; fs.size);
  <span class="keywordflow">return</span> fs.configs[int_result_config];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6fc9e3752efb2fe0d74920e082a59bd7"></a><!-- doxytag: member="tesseract::Classify::ClassIDToDebugStr" ref="a6fc9e3752efb2fe0d74920e082a59bd7" args="(const INT_TEMPLATES_STRUCT *templates, int class_id, int config_id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_t_r_i_n_g.html">STRING</a> tesseract::Classify::ClassIDToDebugStr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>config_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02702">2702</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
  <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> class_string;
  <span class="keywordflow">if</span> (templates == <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a> &amp;&amp; <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="keywordtype">int</span> shape_id = <a class="code" href="classtesseract_1_1_classify.html#a1002c7f80352c6ceac4af82ee35e5e06">ClassAndConfigIDToFontOrShapeID</a>(class_id, config_id);
    class_string = <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;DebugStr(shape_id);
  } <span class="keywordflow">else</span> {
    class_string = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a2543f3cb2b8da0160a87088940cc58d2">debug_str</a>(class_id);
  }
  <span class="keywordflow">return</span> class_string;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8a68035cfc5ee866f2d39360072ab77c"></a><!-- doxytag: member="tesseract::Classify::ClassifyAsNoise" ref="a8a68035cfc5ee866f2d39360072ab77c" args="(ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ClassifyAsNoise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine computes a rating which reflects the likelihood that the blob being classified is a noise blob. NOTE: assumes that the blob length has already been computed and placed into Results.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Results</td><td>results to add noise classification to</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>matcher_avg_noise_size avg. length of a noise blob</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 18:36:52 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01604">1604</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <span class="keyword">register</span> <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Rating;

  Rating = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a> / <a class="code" href="classtesseract_1_1_classify.html#a9723b1f4a341f42ddfc68d2f531c7dd3">matcher_avg_noise_size</a>;
  Rating *= Rating;
  Rating /= 1.0 + Rating;

  <a class="code" href="classtesseract_1_1_classify.html#a3681915077046082b4d99532a3f3da61">AddNewResult</a>(Results, <a class="code" href="matchdefs_8h.html#a6ce548e51895ce0226ee145753a9c815">NO_CLASS</a>, -1, Rating, <span class="keyword">false</span>, -1,
               kBlankFontinfoId, kBlankFontinfoId);
}                                <span class="comment">/* ClassifyAsNoise */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ac0de90c99552cdc286f934d344790085"></a><!-- doxytag: member="tesseract::Classify::ClearCharNormArray" ref="ac0de90c99552cdc286f934d344790085" args="(uinT8 *char_norm_array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ClearCharNormArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>char_norm_array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For each class in the unicharset, clears the corresponding entry in char_norm_array. char_norm_array is indexed by unichar_id.</p>
<p>Globals:</p>
<ul>
<li>none</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">char_norm_array</td><td>array to be cleared</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Feb 20 11:20:54 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="float2int_8cpp_source.html#l00048">48</a> of file <a class="el" href="float2int_8cpp_source.html">float2int.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
  memset(char_norm_array, 0, <span class="keyword">sizeof</span>(*char_norm_array) * <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>());
}                                <span class="comment">/* ClearCharNormArray */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8f49de2f8da7b066bd8ece0641edcca1"></a><!-- doxytag: member="tesseract::Classify::ComputeCharNormArrays" ref="a8f49de2f8da7b066bd8ece0641edcca1" args="(FEATURE_STRUCT *norm_feature, INT_TEMPLATES_STRUCT *templates, uinT8 *char_norm_array, uinT8 *pruner_array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ComputeCharNormArrays </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>norm_feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>char_norm_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>pruner_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02072">2072</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
  <a class="code" href="classtesseract_1_1_classify.html#a3abc0b280fe8a88d57a35d2d578ef47a">ComputeIntCharNormArray</a>(*norm_feature, char_norm_array);
  <span class="keywordflow">if</span> (pruner_array != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <a class="code" href="classtesseract_1_1_classify.html#a3abc0b280fe8a88d57a35d2d578ef47a">ComputeIntCharNormArray</a>(*norm_feature, pruner_array);
    } <span class="keywordflow">else</span> {
      memset(pruner_array, <a class="code" href="host_8h.html#a05682ca8de174141447ff05a2289a27c">MAX_UINT8</a>,
             templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a> * <span class="keyword">sizeof</span>(pruner_array[0]));
      <span class="comment">// Each entry in the pruner norm array is the MIN of all the entries of</span>
      <span class="comment">// the corresponding unichars in the CharNormArray.</span>
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; ++id) {
        <span class="keywordtype">int</span> font_set_id = templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a2083307ebe623a6617ff38291a2f3614">Class</a>[id]-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>;
        <span class="keyword">const</span> FontSet &amp;fs = <a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a3b3107bc72d9edfe501eaba7404de7eb" title="Return the object from an id.">get</a>(font_set_id);
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> config = 0; config &lt; fs.size; ++config) {
          <span class="keyword">const</span> Shape&amp; shape = <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;GetShape(fs.configs[config]);
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; shape.size(); ++c) {
            <span class="keywordflow">if</span> (char_norm_array[shape[c].unichar_id] &lt; pruner_array[<span class="keywordtype">id</span>])
              pruner_array[id] = char_norm_array[shape[c].unichar_id];
          }
        }
      }
    }
  }
  <a class="code" href="ocrfeatures_8cpp.html#acaf54a6410150ec74f66ec6621f1352f">FreeFeature</a>(norm_feature);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c6031863d4dafb400551cc4f151f3b5"></a><!-- doxytag: member="tesseract::Classify::ComputeCorrectedRating" ref="a7c6031863d4dafb400551cc4f151f3b5" args="(bool debug, int unichar_id, double cp_rating, double im_rating, int feature_misses, int bottom, int top, int blob_length, const uinT8 *cn_factors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Classify::ComputeCorrectedRating </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unichar_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cp_rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>im_rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>feature_misses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bottom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blob_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>cn_factors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01351">1351</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
  <span class="comment">// Compute class feature corrections.</span>
  <span class="keywordtype">double</span> cn_corrected = <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#ab943619d1ec5d510c5fd9a2ba7bbb55d">ApplyCNCorrection</a>(im_rating, blob_length,
                                              cn_factors[unichar_id]);
  <span class="keywordtype">double</span> miss_penalty = <a class="code" href="classtesseract_1_1_classify.html#a0be36efceb5fcf41dfbc032516af2ace">tessedit_class_miss_scale</a> * feature_misses;
  <span class="keywordtype">double</span> vertical_penalty = 0.0;
  <span class="comment">// Penalize non-alnums for being vertical misfits.</span>
  <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ad1dd0929edfb0e9e4905cc2fbeff42c2">get_isalpha</a>(unichar_id) &amp;&amp;
      !<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a5951dde3ab90c12c309d776570a10725">get_isdigit</a>(unichar_id) &amp;&amp;
      cn_factors[unichar_id] != 0 &amp;&amp; <a class="code" href="classtesseract_1_1_classify.html#a67a98c273b9c1b7cc951fcb20e376bf3">classify_misfit_junk_penalty</a> &gt; 0.0) {
    <span class="keywordtype">int</span> min_bottom, max_bottom, min_top, max_top;
    <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#af2e0d12e80aa3aa985652d73eaf1e95f">get_top_bottom</a>(unichar_id, &amp;min_bottom, &amp;max_bottom,
                              &amp;min_top, &amp;max_top);
    <span class="keywordflow">if</span> (debug) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;top=%d, vs [%d, %d], bottom=%d, vs [%d, %d]\n&quot;</span>,
              top, min_top, max_top, bottom, min_bottom, max_bottom);
    }
    <span class="keywordflow">if</span> (top &lt; min_top || top &gt; max_top ||
        bottom &lt; min_bottom || bottom &gt; max_bottom) {
      vertical_penalty = <a class="code" href="classtesseract_1_1_classify.html#a67a98c273b9c1b7cc951fcb20e376bf3">classify_misfit_junk_penalty</a>;
    }
  }
  <span class="keywordtype">double</span> result =cn_corrected + miss_penalty + vertical_penalty;
  <span class="keywordflow">if</span> (result &gt; <a class="code" href="adaptmatch_8cpp.html#a93902888a2216c8e4a03ddc10aed7f41">WORST_POSSIBLE_RATING</a>)
    result = <a class="code" href="adaptmatch_8cpp.html#a93902888a2216c8e4a03ddc10aed7f41">WORST_POSSIBLE_RATING</a>;
  <span class="keywordflow">if</span> (debug) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s: %2.1f(CP%2.1f, IM%2.1f + CN%.2f(%d) + MP%2.1f + VP%2.1f)\n&quot;</span>,
            <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id),
            result * 100.0,
            cp_rating * 100.0,
            im_rating * 100.0,
            (cn_corrected - im_rating) * 100.0,
            cn_factors[unichar_id],
            miss_penalty * 100.0,
            vertical_penalty * 100.0);
  }
  <span class="keywordflow">return</span> result;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3abc0b280fe8a88d57a35d2d578ef47a"></a><!-- doxytag: member="tesseract::Classify::ComputeIntCharNormArray" ref="a3abc0b280fe8a88d57a35d2d578ef47a" args="(const FEATURE_STRUCT &amp;norm_feature, uinT8 *char_norm_array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ComputeIntCharNormArray </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE_STRUCT</a> &amp;&#160;</td>
          <td class="paramname"><em>norm_feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>char_norm_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For each class in unicharset, computes the match between norm_feature and the normalization protos for that class. Converts this number to the range from 0 - 255 and stores it into char_norm_array. CharNormArray is indexed by unichar_id.</p>
<p>Globals:</p>
<ul>
<li>none</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">norm_feature</td><td>character normalization feature </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">char_norm_array</td><td>place to put results of size unicharset.size()</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Feb 20 11:20:54 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="float2int_8cpp_source.html#l00069">69</a> of file <a class="el" href="float2int_8cpp_source.html">float2int.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>(); i++) {
    <span class="keywordtype">int</span> norm_adjust = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="intproto_8h.html#a5a763027f420d44c110f0887f297259c">INT_CHAR_NORM_RANGE</a> *
      <a class="code" href="classtesseract_1_1_classify.html#a3205427bd0f3abae31ab6c3092ca0662">ComputeNormMatch</a>(i, norm_feature, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>));
    char_norm_array[i] = <a class="code" href="helpers_8h.html#af8739168d5b3235996eeb25dac3c4044">ClipToRange</a>(norm_adjust, 0, <a class="code" href="float2int_8cpp.html#a507d2964a00ad9a1d82e6c5ae21720be">MAX_INT_CHAR_NORM</a>);
  }
}                                <span class="comment">/* ComputeIntCharNormArray */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae1f3fc88bf28a4a169273bcf2515610e"></a><!-- doxytag: member="tesseract::Classify::ComputeIntFeatures" ref="ae1f3fc88bf28a4a169273bcf2515610e" args="(FEATURE_SET Features, INT_FEATURE_ARRAY IntFeatures)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ComputeIntFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td>
          <td class="paramname"><em>Features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a>&#160;</td>
          <td class="paramname"><em>IntFeatures</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine converts each floating point pico-feature in Features into integer format and saves it into IntFeatures.</p>
<p>Globals:</p>
<ul>
<li>none</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Features</td><td>floating point pico-features to be converted </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IntFeatures</td><td>array to put converted features into</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Feb 20 10:58:45 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="float2int_8cpp_source.html#l00094">94</a> of file <a class="el" href="float2int_8cpp_source.html">float2int.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
  <span class="keywordtype">int</span> Fid;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE</a> Feature;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> YShift;

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a> == <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>)
    YShift = <a class="code" href="float2int_8h.html#a0cd5a36a70bcf28d6727fe56e419b5a2">BASELINE_Y_SHIFT</a>;
  <span class="keywordflow">else</span>
    YShift = <a class="code" href="intproto_8h.html#abd4c49783ccd23c297ef5650ccce9c9c">Y_SHIFT</a>;

  <span class="keywordflow">for</span> (Fid = 0; Fid &lt; Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a154a6ca419f3f16fccf11b7217351570">NumFeatures</a>; Fid++) {
    Feature = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a4664d6a22a9d12f4011de4d877664c45">Features</a>[Fid];

    IntFeatures[Fid].X = <a class="code" href="intproto_8cpp.html#aae1e369081aff0da8ca513a261973598">BucketFor</a> (Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>],
      <a class="code" href="intproto_8h.html#a7c72e90cfafe9834907d05ddf55bff09">X_SHIFT</a>, <a class="code" href="float2int_8h.html#ae30a299d1150890d3f3606094fbf1169">INT_FEAT_RANGE</a>);
    IntFeatures[Fid].Y = <a class="code" href="intproto_8cpp.html#aae1e369081aff0da8ca513a261973598">BucketFor</a> (Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>],
      YShift, <a class="code" href="float2int_8h.html#ae30a299d1150890d3f3606094fbf1169">INT_FEAT_RANGE</a>);
    IntFeatures[Fid].Theta = <a class="code" href="intproto_8cpp.html#ae3184eb086a2f8eb3b7b4c42bae5ca22">CircBucketFor</a> (Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>],
      <a class="code" href="intproto_8h.html#a0be004c4069c9a09479eef2955f1097e">ANGLE_SHIFT</a>, <a class="code" href="float2int_8h.html#ae30a299d1150890d3f3606094fbf1169">INT_FEAT_RANGE</a>);
    IntFeatures[Fid].CP_misses = 0;
  }
}                                <span class="comment">/* ComputeIntFeatures */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a3205427bd0f3abae31ab6c3092ca0662"></a><!-- doxytag: member="tesseract::Classify::ComputeNormMatch" ref="a3205427bd0f3abae31ab6c3092ca0662" args="(CLASS_ID ClassId, const FEATURE_STRUCT &amp;feature, BOOL8 DebugMatch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Classify::ComputeNormMatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE_STRUCT</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td>
          <td class="paramname"><em>DebugMatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="normmatch_8cpp_source.html#l00073">73</a> of file <a class="el" href="normmatch_8cpp_source.html">normmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             ClassId         id of class to match against</span>
<span class="comment"> **             Feature         character normalization feature</span>
<span class="comment"> **             DebugMatch      controls dump of debug info</span>
<span class="comment"> **     Globals:</span>
<span class="comment"> **             NormProtos      character normalization prototypes</span>
<span class="comment"> **     Operation: This routine compares Features against each character</span>
<span class="comment"> **             normalization proto for ClassId and returns the match</span>
<span class="comment"> **             rating of the best match.</span>
<span class="comment"> **     Return: Best match rating for Feature against protos of ClassId.</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Wed Dec 19 16:56:12 1990, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="structlist__rec.html">LIST</a> Protos;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> BestMatch;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Match;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Delta;
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;
  <span class="keywordtype">int</span> ProtoId;

  <span class="comment">/* handle requests for classification as noise */</span>
  <span class="keywordflow">if</span> (ClassId == <a class="code" href="matchdefs_8h.html#a6ce548e51895ce0226ee145753a9c815">NO_CLASS</a>) {
    <span class="comment">/* kludge - clean up constants and make into control knobs later */</span>
    Match = (feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506af859d8f455da531fb41201c80187dccf">CharNormLength</a>] *
      feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506af859d8f455da531fb41201c80187dccf">CharNormLength</a>] * 500.0 +
      feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>] *
      feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>] * 8000.0 +
      feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>] *
      feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>] * 8000.0);
    <span class="keywordflow">return</span> (1.0 - <a class="code" href="normmatch_8cpp.html#aabdd8bad43c2e04682813cb96494d5bb">NormEvidenceOf</a> (Match));
  }

  BestMatch = <a class="code" href="host_8h.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;
  Protos = <a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a>[ClassId];

  <span class="keywordflow">if</span> (DebugMatch) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\nChar norm for class %s\n&quot;</span>, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId));
  }

  ProtoId = 0;
  <a class="code" href="oldlist_8h.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Protos) {
    Proto = (<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (Protos);
    Delta = feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>] - Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>];
    Match = Delta * Delta * Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>];
    <span class="keywordflow">if</span> (DebugMatch) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;YMiddle: Proto=%g, Delta=%g, Var=%g, Dist=%g\n&quot;</span>,
              Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>], Delta,
              Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>], Match);
    }
    Delta = feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>] - Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>];
    Match += Delta * Delta * Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>];
    <span class="keywordflow">if</span> (DebugMatch) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Height: Proto=%g, Delta=%g, Var=%g, Dist=%g\n&quot;</span>,
              Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>], Delta,
              Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>], Match);
    }
    <span class="comment">// Ry is width! See intfx.cpp.</span>
    Delta = feature.<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>] - Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>];
    <span class="keywordflow">if</span> (DebugMatch) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Width: Proto=%g, Delta=%g, Var=%g\n&quot;</span>,
              Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>], Delta,
              Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>]);
    }
    Delta = Delta * Delta * Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>];
    Delta *= <a class="code" href="normmatch_8cpp.html#a3882ddbdbe2c0e1c7f84ef7f01aae0a2">kWidthErrorWeighting</a>;
    Match += Delta;
    <span class="keywordflow">if</span> (DebugMatch) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Total Dist=%g, scaled=%g, sigmoid=%g, penalty=%g\n&quot;</span>,
              Match, Match / <a class="code" href="normmatch_8cpp.html#a5b39e06af338d5d0623762a84246e7a6">classify_norm_adj_midpoint</a>,
              <a class="code" href="normmatch_8cpp.html#aabdd8bad43c2e04682813cb96494d5bb">NormEvidenceOf</a>(Match), 256 * (1 - <a class="code" href="normmatch_8cpp.html#aabdd8bad43c2e04682813cb96494d5bb">NormEvidenceOf</a>(Match)));
    }

    <span class="keywordflow">if</span> (Match &lt; BestMatch)
      BestMatch = Match;

    ProtoId++;
  }
  <span class="keywordflow">return</span> 1.0 - <a class="code" href="normmatch_8cpp.html#aabdd8bad43c2e04682813cb96494d5bb">NormEvidenceOf</a>(BestMatch);
}                                <span class="comment">/* ComputeNormMatch */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af1f1f794092ce44dff7c242822b6cf68"></a><!-- doxytag: member="tesseract::Classify::ConvertMatchesToChoices" ref="af1f1f794092ce44dff7c242822b6cf68" args="(const DENORM &amp;denorm, const TBOX &amp;box, ADAPT_RESULTS *Results, BLOB_CHOICE_LIST *Choices)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ConvertMatchesToChoices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_b_o_x.html">TBOX</a> &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>Choices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function converts the given match ratings to the list of blob choices with ratings and certainties (used by the context checkers). If character fragments are present in the results, this function also makes sure that there is at least one non-fragmented classification included. For each classification result check the unicharset for "definite" ambiguities and modify the resulting Choices accordingly. </p>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01664">1664</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {
  assert(Choices != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Rating;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Certainty;
  BLOB_CHOICE_IT temp_it;
  <span class="keywordtype">bool</span> contains_nonfrag = <span class="keyword">false</span>;
  temp_it.set_to_list(Choices);
  <span class="keywordtype">int</span> choices_length = 0;
  <span class="comment">// With no shape_table_ maintain the previous MAX_MATCHES as the maximum</span>
  <span class="comment">// number of returned results, but with a shape_table_ we want to have room</span>
  <span class="comment">// for at least the biggest shape (which might contain hundreds of Indic</span>
  <span class="comment">// grapheme fragments) and more, so use double the size of the biggest shape</span>
  <span class="comment">// if that is more than the default.</span>
  <span class="keywordtype">int</span> max_matches = <a class="code" href="adaptmatch_8cpp.html#ae731492acc3b2e54043c2dfbf1338be6">MAX_MATCHES</a>;
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    max_matches = <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;MaxNumUnichars() * 2;
    <span class="keywordflow">if</span> (max_matches &lt; <a class="code" href="adaptmatch_8cpp.html#ae731492acc3b2e54043c2dfbf1338be6">MAX_MATCHES</a>)
      max_matches = <a class="code" href="adaptmatch_8cpp.html#ae731492acc3b2e54043c2dfbf1338be6">MAX_MATCHES</a>;
  }

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; i++) {
    <a class="code" href="struct_scored_class.html">ScoredClass</a> next = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i];
    <span class="keywordtype">int</span> fontinfo_id = next.<a class="code" href="struct_scored_class.html#aef50f14f803115ac96f57bf3d7e519f9">fontinfo_id</a>;
    <span class="keywordtype">int</span> fontinfo_id2 = next.<a class="code" href="struct_scored_class.html#ac30be99b1e1ac98855c624896f9f0389">fontinfo_id2</a>;
    <span class="keywordtype">bool</span> adapted = next.<a class="code" href="struct_scored_class.html#a090f44ac2eedadd72c93fb628dfaf167">adapted</a>;
    <span class="keywordtype">bool</span> current_is_frag = (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(next.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
    <span class="keywordflow">if</span> (temp_it.length()+1 == max_matches &amp;&amp;
        !contains_nonfrag &amp;&amp; current_is_frag) {
      <span class="keywordflow">continue</span>;  <span class="comment">// look for a non-fragmented character to fill the</span>
                 <span class="comment">// last spot in Choices if only fragments are present</span>
    }
    <span class="comment">// BlobLength can never be legally 0, this means recognition failed.</span>
    <span class="comment">// But we must return a classification result because some invoking</span>
    <span class="comment">// functions (chopper/permuter) do not anticipate a null blob choice.</span>
    <span class="comment">// So we need to assign a poor, but not infinitely bad score.</span>
    <span class="keywordflow">if</span> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a> == 0) {
      Certainty = -20;
      Rating = 100;    <span class="comment">// should be -certainty * real_blob_length</span>
    } <span class="keywordflow">else</span> {
      Rating = Certainty = next.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>;
      Rating *= <a class="code" href="classtesseract_1_1_classify.html#ab2ed08d2587e66a131f7fcd229102566">rating_scale</a> * Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a>;
      Certainty *= -(<a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().certainty_scale);
    }
    <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> min_xheight, max_xheight;
    denorm.<a class="code" href="class_d_e_n_o_r_m.html#a5b886acd9e1220ff409268e007adffe1">XHeightRange</a>(next.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>, box,
                        &amp;min_xheight, &amp;max_xheight);
    temp_it.add_to_end(<span class="keyword">new</span> <a class="code" href="class_b_l_o_b___c_h_o_i_c_e.html">BLOB_CHOICE</a>(next.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>, Rating, Certainty,
                                        fontinfo_id, fontinfo_id2,
                                        <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a77cdfcf9338d6565e6321a583392d5a1">get_script</a>(next.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>),
                                        min_xheight, max_xheight, adapted));
    contains_nonfrag |= !current_is_frag;  <span class="comment">// update contains_nonfrag</span>
    choices_length++;
    <span class="keywordflow">if</span> (choices_length &gt;= max_matches) <span class="keywordflow">break</span>;
  }
  Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> = choices_length;
}  <span class="comment">// ConvertMatchesToChoices</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af27d604585502bd447d52bf5daf15d0d"></a><!-- doxytag: member="tesseract::Classify::ConvertProto" ref="af27d604585502bd447d52bf5daf15d0d" args="(PROTO Proto, int ProtoId, INT_CLASS Class)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ConvertProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>Proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ProtoId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a>&#160;</td>
          <td class="paramname"><em>Class</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intproto_8cpp_source.html#l00528">528</a> of file <a class="el" href="intproto_8cpp_source.html">intproto.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
<span class="comment">/*</span>
<span class="comment"> ** Parameters:</span>
<span class="comment"> **   Proto floating-pt proto to be converted to integer format</span>
<span class="comment"> **   ProtoId id of proto</span>
<span class="comment"> **   Class integer class to add converted proto to</span>
<span class="comment"> ** Globals: none</span>
<span class="comment"> ** Operation: This routine converts Proto to integer format and</span>
<span class="comment"> **   installs it as ProtoId in Class.</span>
<span class="comment"> ** Return: none</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Fri Feb  8 11:22:43 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html">INT_PROTO</a> P;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Param;

  assert(ProtoId &lt; Class-&gt;NumProtos);

  P = <a class="code" href="intproto_8h.html#aff1a8cea9b56061e344b3b3f256f5253">ProtoForProtoId</a>(Class, ProtoId);

  Param = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#ae3211a725f109fbd40efc6cd154330f7">A</a> * 128;
  P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a1a04b5d1566d1ec88d99da275208f064">A</a> = <a class="code" href="intproto_8cpp.html#a12134f53d5a57bb1dc79acf2711aae5d">TruncateParam</a>(Param, -128, 127, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  Param = -Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a884630c87acb7606ac02516d1ea4ea9e">B</a> * 256;
  P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#ae3a26a69bb3e3dcc7138fa036d3cb9e8">B</a> = <a class="code" href="intproto_8cpp.html#a12134f53d5a57bb1dc79acf2711aae5d">TruncateParam</a>(Param, 0, 255, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  Param = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a09d1e20c0a8362582127fa3554bb83ae">C</a> * 128;
  P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#af1c3246d7de60562deed8d58d292bb01">C</a> = <a class="code" href="intproto_8cpp.html#a12134f53d5a57bb1dc79acf2711aae5d">TruncateParam</a>(Param, -128, 127, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  Param = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> * 256;
  <span class="keywordflow">if</span> (Param &lt; 0 || Param &gt;= 256)
    P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a3595512379d43a12f92efef287db17d9">Angle</a> = 0;
  <span class="keywordflow">else</span>
    P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a3595512379d43a12f92efef287db17d9">Angle</a> = (<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>) Param;

  <span class="comment">/* round proto length to nearest integer number of pico-features */</span>
  Param = (Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> / <a class="code" href="picofeat_8h.html#a35f5a174efc9c6197837aaf5544c78f2">GetPicoFeatureLength</a>()) + 0.5;
  Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a9b4f333b97970433f1c34d45103281d3">ProtoLengths</a>[ProtoId] = <a class="code" href="intproto_8cpp.html#a12134f53d5a57bb1dc79acf2711aae5d">TruncateParam</a>(Param, 1, 255, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 2)
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Converted ffeat to (A=%d,B=%d,C=%d,L=%d)&quot;</span>,
            P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a1a04b5d1566d1ec88d99da275208f064">A</a>, P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#ae3a26a69bb3e3dcc7138fa036d3cb9e8">B</a>, P-&gt;<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#af1c3246d7de60562deed8d58d292bb01">C</a>, Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a9b4f333b97970433f1c34d45103281d3">ProtoLengths</a>[ProtoId]);
}                                <span class="comment">/* ConvertProto */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af3d15c15c9f2dce72a400233d4bf366f"></a><!-- doxytag: member="tesseract::Classify::CreateIntTemplates" ref="af3d15c15c9f2dce72a400233d4bf366f" args="(CLASSES FloatProtos, const UNICHARSET &amp;target_unicharset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> tesseract::Classify::CreateIntTemplates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#ad299b5cb6e6ab5713fce00dbd6a787ed">CLASSES</a>&#160;</td>
          <td class="paramname"><em>FloatProtos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>target_unicharset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intproto_8cpp_source.html#l00573">573</a> of file <a class="el" href="intproto_8cpp_source.html">intproto.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
<span class="comment">/*</span>
<span class="comment"> ** Parameters:</span>
<span class="comment"> **   FloatProtos prototypes in old floating pt format</span>
<span class="comment"> ** Globals: none</span>
<span class="comment"> ** Operation: This routine converts from the old floating point format</span>
<span class="comment"> **   to the new integer format.</span>
<span class="comment"> ** Return: New set of training templates in integer format.</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Thu Feb  7 14:40:42 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES</a> IntTemplates;
  <a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html">CLASS_TYPE</a> FClass;
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> IClass;
  <span class="keywordtype">int</span> ClassId;
  <span class="keywordtype">int</span> ProtoId;
  <span class="keywordtype">int</span> ConfigId;

  IntTemplates = <a class="code" href="intproto_8cpp.html#a020880b72d2d68c69edba44494fce647">NewIntTemplates</a>();

  <span class="keywordflow">for</span> (ClassId = 0; ClassId &lt; target_unicharset.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>(); ClassId++) {
    FClass = &amp;(FloatProtos[ClassId]);
    <span class="keywordflow">if</span> (FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#aed122893fec98b9ebccee234bbb00292">NumProtos</a> == 0 &amp;&amp; FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#a452c42efe7ec87439ef16f1e51d57f2c">NumConfigs</a> == 0 &amp;&amp;
        strcmp(target_unicharset.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId), <span class="stringliteral">&quot; &quot;</span>) != 0) {
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Warning: no protos/configs for %s in CreateIntTemplates()\n&quot;</span>,
              target_unicharset.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId));
    }
    assert(<a class="code" href="intproto_8h.html#a3e7ae3ffbac606326937a4c701aeeaf2">UnusedClassIdIn</a>(IntTemplates, ClassId));
    IClass = <a class="code" href="intproto_8cpp.html#af77150e8523be2b3f6449e194eb55e7b">NewIntClass</a>(FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#aed122893fec98b9ebccee234bbb00292">NumProtos</a>, FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#a452c42efe7ec87439ef16f1e51d57f2c">NumConfigs</a>);
    <a class="code" href="structtesseract_1_1_font_set.html">FontSet</a> fs;
    fs.<a class="code" href="structtesseract_1_1_font_set.html#a2f474cedd75889b35a8b5f401eab3c01">size</a> = FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#a42fd551c9f2ee48e5873ae7308df64b4">font_set</a>.<a class="code" href="class_unicity_table.html#a834de17f090dcfcc6625b01c5a627c2f" title="Return the size used.">size</a>();
    fs.<a class="code" href="structtesseract_1_1_font_set.html#a466a7c0f34a22d2b112658de14f6a376">configs</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[fs.<a class="code" href="structtesseract_1_1_font_set.html#a2f474cedd75889b35a8b5f401eab3c01">size</a>];
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fs.<a class="code" href="structtesseract_1_1_font_set.html#a2f474cedd75889b35a8b5f401eab3c01">size</a>; ++i) {
      fs.<a class="code" href="structtesseract_1_1_font_set.html#a466a7c0f34a22d2b112658de14f6a376">configs</a>[i] = FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#a42fd551c9f2ee48e5873ae7308df64b4">font_set</a>.<a class="code" href="class_unicity_table.html#a3b3107bc72d9edfe501eaba7404de7eb" title="Return the object from an id.">get</a>(i);
    }
    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#ae2ca9cd7a9bf7837306df260c218772b" title="Return true if T is in the table.">contains</a>(fs)) {
      IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a> = this-&gt;<a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a4820bb7a54cf6ecda86856161c6d5a2f">get_id</a>(fs);
      <span class="keyword">delete</span>[] fs.<a class="code" href="structtesseract_1_1_font_set.html#a466a7c0f34a22d2b112658de14f6a376">configs</a>;
    } <span class="keywordflow">else</span> {
      IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a> = this-&gt;<a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a659534293ab0e46a46cab4421bebfb8f" title="Add an element in the table.">push_back</a>(fs);
    }
    <a class="code" href="intproto_8cpp.html#a66f71b82c006e385d6e3ce7c677c6ad8">AddIntClass</a>(IntTemplates, ClassId, IClass);

    <span class="keywordflow">for</span> (ProtoId = 0; ProtoId &lt; FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#aed122893fec98b9ebccee234bbb00292">NumProtos</a>; ProtoId++) {
      <a class="code" href="intproto_8cpp.html#a4c27266652a51cf8aaa866d299f57301">AddIntProto</a>(IClass);
      <a class="code" href="classtesseract_1_1_classify.html#af27d604585502bd447d52bf5daf15d0d">ConvertProto</a>(<a class="code" href="protos_8h.html#a3def7bc87c3ad9ad793128f0dc5b8fce">ProtoIn</a>(FClass, ProtoId), ProtoId, IClass);
      <a class="code" href="intproto_8cpp.html#aec09adc2735bb4caaf226df7124e4ed7">AddProtoToProtoPruner</a>(<a class="code" href="protos_8h.html#a3def7bc87c3ad9ad793128f0dc5b8fce">ProtoIn</a>(FClass, ProtoId), ProtoId, IClass,
                            <a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 2);
      <a class="code" href="intproto_8cpp.html#a117c6df38172671a3f3fce9cdb4f3299">AddProtoToClassPruner</a>(<a class="code" href="protos_8h.html#a3def7bc87c3ad9ad793128f0dc5b8fce">ProtoIn</a>(FClass, ProtoId), ClassId, IntTemplates);
    }

    <span class="keywordflow">for</span> (ConfigId = 0; ConfigId &lt; FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#a452c42efe7ec87439ef16f1e51d57f2c">NumConfigs</a>; ConfigId++) {
      <a class="code" href="intproto_8cpp.html#a569488473772d42004fec43399e6d5a9">AddIntConfig</a>(IClass);
      <a class="code" href="intproto_8cpp.html#a57b07752bea2110e2503cf78747228c5">ConvertConfig</a>(FClass-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#ac5524279d10e5bafe306355d72309b69">Configurations</a>[ConfigId], ConfigId, IClass);
    }
  }
  <span class="keywordflow">return</span> (IntTemplates);
}                                <span class="comment">/* CreateIntTemplates */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af9a9def4a6b3bb1a2e36bceff2976c2c"></a><!-- doxytag: member="tesseract::Classify::DebugAdaptiveClassifier" ref="af9a9def4a6b3bb1a2e36bceff2976c2c" args="(TBLOB *Blob, const DENORM &amp;denorm, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::DebugAdaptiveClassifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob whose classification is being debugged </td></tr>
    <tr><td class="paramname">Results</td><td>results of match being debugged</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Mar 13 16:44:41 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01736">1736</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; i++) {
    <span class="keywordflow">if</span> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>)
      Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a> = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i];
  }
  <span class="keyword">const</span> <span class="keywordtype">char</span> *Prompt =
    <span class="stringliteral">&quot;Left-click in IntegerMatch Window to continue or right click to debug...&quot;</span>;
  <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> unichar_id = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>;
  <span class="keywordtype">int</span> shape_id = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#ab3db24ffe2690f52d86053ba1f631520">shape_id</a>;
  <span class="keywordtype">bool</span> adaptive_on = <span class="keyword">true</span>;
  <span class="keywordtype">bool</span> pretrained_on = <span class="keyword">true</span>;

  <span class="keyword">const</span> <span class="keywordtype">char</span>* debug_mode;
  <span class="keywordflow">do</span> {
    <span class="keywordflow">if</span> (!pretrained_on)
      debug_mode = <span class="stringliteral">&quot;Adaptive Templates Only&quot;</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!adaptive_on)
      debug_mode = <span class="stringliteral">&quot;PreTrained Templates Only&quot;</span>;
    <span class="keywordflow">else</span>
      debug_mode = <span class="stringliteral">&quot;All Templates&quot;</span>;
    <a class="code" href="classtesseract_1_1_classify.html#a44e1b8840fb841e621b902f3abdd8522">ShowMatchDisplay</a>();
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Debugging class %d = %s in mode %s ...&quot;</span>,
            unichar_id, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id), debug_mode);
    <span class="keywordflow">if</span> (shape_id &gt;= 0 &amp;&amp; <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot; from shape %s\n&quot;</span>, <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;DebugStr(shape_id).string());
    }
    <a class="code" href="classtesseract_1_1_classify.html#abf81bc54d31591d9da5f95529583b99d">ShowBestMatchFor</a>(Blob, denorm, unichar_id, shape_id, adaptive_on,
                     pretrained_on, Results);
    <a class="code" href="intproto_8cpp.html#a3827f6daeeb1efd88fa0bf418c83d984">UpdateMatchDisplay</a>();
  } <span class="keywordflow">while</span> ((unichar_id = <a class="code" href="classtesseract_1_1_classify.html#a76f4e180bcab3a7cd2da75d42b524eba">GetClassToDebug</a>(Prompt, &amp;adaptive_on,
                                         &amp;pretrained_on, &amp;shape_id)) != 0);
}                                <span class="comment">/* DebugAdaptiveClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aaa7b4a01a6f9bd1f088982a4011274e5"></a><!-- doxytag: member="tesseract::Classify::DisplayAdaptedChar" ref="aaa7b4a01a6f9bd1f088982a4011274e5" args="(TBLOB *blob, const DENORM &amp;denorm, INT_CLASS_STRUCT *int_class)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::DisplayAdaptedChar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>int_class</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01030">1030</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
<span class="preprocessor">#ifndef GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>  <span class="keywordtype">int</span> bloblength = 0;
  <a class="code" href="baseapi_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> features;
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>* norm_array = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>()];
  <span class="keywordtype">int</span> num_features = <a class="code" href="classtesseract_1_1_classify.html#a4bf0e47e0ae00a0cec215a887cef8c65">GetBaselineFeatures</a>(blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>,
                                         features,
                                         norm_array, &amp;bloblength);
  <span class="keyword">delete</span> [] norm_array;
  <a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a> IntResult;

  <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(int_class, <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>,
            num_features, features,
            &amp;IntResult, <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>,
            <a class="code" href="adaptmatch_8cpp.html#a424f1b989129c5519f4df8f61ad6dcaf">NO_DEBUG</a>, <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
  <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Best match to temp config %d = %4.1f%%.\n&quot;</span>,
    IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>, (1.0 - IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a>) * 100.0);
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 2) {
    <a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> ConfigMask;
    ConfigMask = 1 &lt;&lt; IntResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>;
    <a class="code" href="classtesseract_1_1_classify.html#a44e1b8840fb841e621b902f3abdd8522">ShowMatchDisplay</a>();
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(int_class, <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, (<a class="code" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>)&amp;ConfigMask,
              num_features, features,
              &amp;IntResult, <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>,
              6 | 0x19, <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
    <a class="code" href="intproto_8cpp.html#a3827f6daeeb1efd88fa0bf418c83d984">UpdateMatchDisplay</a>();
  }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a8575af5f97d4037d4fdd2e21b477dd38"></a><!-- doxytag: member="tesseract::Classify::DoAdaptiveMatch" ref="a8575af5f97d4037d4fdd2e21b477dd38" args="(TBLOB *Blob, const DENORM &amp;denorm, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::DoAdaptiveMatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine performs an adaptive classification. If we have not yet adapted to enough classes, a simple classification to the pre-trained templates is performed. Otherwise, we match the blob against the adapted templates. If the adapted templates do not match well, we try a match against the pre-trained templates. If an adapted template match is found, we do a match to any pre-trained templates which could be ambiguous. The results from all of these classifications are merged together into Results.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to be classified </td></tr>
    <tr><td class="paramname">Results</td><td>place to put match results</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>PreTrainedTemplates built-in training templates</li>
<li>AdaptedTemplates templates adapted for this page</li>
<li>matcher_great_threshold rating limit for a great match</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 08:50:11 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01795">1795</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
  <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *Ambiguities;

  AdaptiveMatcherCalls++;
  <a class="code" href="adaptmatch_8cpp.html#aca8523f0becfd3cca333fd48d103735d">InitIntFX</a>();

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#ac4e39261d76ebdd092eeb754fe1e15c3">NumPermClasses</a> &lt; <a class="code" href="classtesseract_1_1_classify.html#a727f2429705dabdd078d6748f0e81c42">matcher_permanent_classes_min</a> ||
      <a class="code" href="classtesseract_1_1_classify.html#a746dbbd1c99e99f3d213077cceedf80e">tess_cn_matching</a>) {
    <a class="code" href="classtesseract_1_1_classify.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier</a>(Blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, Results);
  } <span class="keywordflow">else</span> {
    Ambiguities = <a class="code" href="classtesseract_1_1_classify.html#ab7022031939236cac2fe6b661e6f657b">BaselineClassifier</a>(Blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>, Results);
    <span class="keywordflow">if</span> ((Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> &gt; 0 &amp;&amp;
         <a class="code" href="adaptmatch_8cpp.html#a212c1ba628a1cd30b51a902c35fb23eb">MarginalMatch</a> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>) &amp;&amp;
         !<a class="code" href="classtesseract_1_1_classify.html#a85fcc9966cddbc38adf1014dd0cd778c">tess_bn_matching</a>) ||
        Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> == 0) {
      <a class="code" href="classtesseract_1_1_classify.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier</a>(Blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, Results);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Ambiguities &amp;&amp; *Ambiguities &gt;= 0 &amp;&amp; !<a class="code" href="classtesseract_1_1_classify.html#a85fcc9966cddbc38adf1014dd0cd778c">tess_bn_matching</a>) {
      <a class="code" href="classtesseract_1_1_classify.html#ac7501f294525f6dd7fca4a3512ae0dcf">AmbigClassifier</a>(Blob, denorm,
                      <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>,
                      <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>,
                      Ambiguities,
                      Results);
    }
  }

  <span class="comment">// Force the blob to be classified as noise</span>
  <span class="comment">// if the results contain only fragments.</span>
  <span class="comment">// TODO(daria): verify that this is better than</span>
  <span class="comment">// just adding a NULL classification.</span>
  <span class="keywordflow">if</span> (!Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#ab6a520c3c59a1f1a3f4d1c27bf5d3000">HasNonfragment</a> || Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> == 0)
    <a class="code" href="classtesseract_1_1_classify.html#a8a68035cfc5ee866f2d39360072ab77c">ClassifyAsNoise</a>(Results);
}   <span class="comment">/* DoAdaptiveMatch */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae5e4880c5acc91b77308fbd6ab706b13"></a><!-- doxytag: member="tesseract::Classify::EndAdaptiveClassifier" ref="ae5e4880c5acc91b77308fbd6ab706b13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::EndAdaptiveClassifier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine performs cleanup operations on the adaptive classifier. It should be called before the program is terminated. Its main function is to save the adapted templates to a file.</p>
<p>Globals:</p>
<ul>
<li><a class="el" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> current set of adapted templates</li>
<li><a class="el" href="classtesseract_1_1_classify.html#a27fe54e49f64e61f40b4e50e8ff4084c">classify_save_adapted_templates</a> TRUE if templates should be saved</li>
<li><a class="el" href="classtesseract_1_1_classify.html#adaa9bf9e188634ffa99c83204be2129f">classify_enable_adaptive_matcher</a> TRUE if adaptive matcher is enabled</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 19 14:37:06 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00477">477</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
  <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> Filename;
  FILE *File;

<span class="preprocessor">  #ifndef SECURE_NAMES</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;
      <a class="code" href="classtesseract_1_1_classify.html#adaa9bf9e188634ffa99c83204be2129f">classify_enable_adaptive_matcher</a> &amp;&amp; <a class="code" href="classtesseract_1_1_classify.html#a27fe54e49f64e61f40b4e50e8ff4084c">classify_save_adapted_templates</a>) {
    Filename = <a class="code" href="classtesseract_1_1_c_c_util.html#a5eea0d996032e28207d801a1ee92d388">imagefile</a> + <a class="code" href="adaptmatch_8cpp.html#a788df8e37c3d6f36e3d18a7bb7a603f0">ADAPT_TEMPLATE_SUFFIX</a>;
    File = fopen (Filename.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), <span class="stringliteral">&quot;wb&quot;</span>);
    <span class="keywordflow">if</span> (File == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Unable to save adapted templates to %s!\n&quot;</span>, Filename.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());
    <span class="keywordflow">else</span> {
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;\nSaving adapted templates to %s ...&quot;</span>, Filename.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());
      fflush(stdout);
      <a class="code" href="classtesseract_1_1_classify.html#a1718afe45a09c6631f11ae224e6d5db6">WriteAdaptedTemplates</a>(File, <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;\n&quot;</span>);
      fclose(File);
    }
  }
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="adaptive_8cpp.html#accee3ce0fad02a088149b714621dc21d">free_adapted_templates</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="intproto_8cpp.html#aed61c96f41cad7c9871e809124987ca8">free_int_templates</a>(<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }
  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().EndDangerousAmbigs();
  <a class="code" href="classtesseract_1_1_classify.html#ab6e270cecf7e7c62e1319e7889caf716">FreeNormProtos</a>();
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(<a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>);
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(<a class="code" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a>);
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(<a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>);
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(<a class="code" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a>);
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(<a class="code" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a>);
    <a class="code" href="bitvec_8cpp.html#adc1a7f52bb1fce0746e1e5725ad679f6">FreeBitVector</a>(<a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <a class="code" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <a class="code" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <a class="code" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }
  <span class="keyword">delete</span> <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}                                <span class="comment">/* EndAdaptiveClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a7d663f1e02d6e7b2d1783fdca6154a4d"></a><!-- doxytag: member="tesseract::Classify::ExpandShapesAndApplyCorrections" ref="a7d663f1e02d6e7b2d1783fdca6154a4d" args="(ADAPT_CLASS *classes, bool debug, int class_id, int bottom, int top, float cp_rating, int blob_length, const uinT8 *cn_factors, INT_RESULT_STRUCT &amp;int_result, ADAPT_RESULTS *final_results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ExpandShapesAndApplyCorrections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *&#160;</td>
          <td class="paramname"><em>classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bottom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>cp_rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blob_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>cn_factors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a> &amp;&#160;</td>
          <td class="paramname"><em>int_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>final_results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01286">1286</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
  <span class="comment">// Compute the fontinfo_ids.</span>
  <span class="keywordtype">int</span> fontinfo_id = kBlankFontinfoId;
  <span class="keywordtype">int</span> fontinfo_id2 = kBlankFontinfoId;
  <span class="keywordflow">if</span> (classes != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="comment">// Adapted result.</span>
    fontinfo_id = <a class="code" href="classtesseract_1_1_classify.html#afae8a55c28ee68de92ab1b1dd37c6905">GetFontinfoId</a>(classes[class_id], int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>);
    <span class="keywordflow">if</span> (int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#a836e323aea6abcaa3f1a758f569fe0c9">Config2</a> &gt;= 0)
      fontinfo_id2 = <a class="code" href="classtesseract_1_1_classify.html#afae8a55c28ee68de92ab1b1dd37c6905">GetFontinfoId</a>(classes[class_id], int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#a836e323aea6abcaa3f1a758f569fe0c9">Config2</a>);
  } <span class="keywordflow">else</span> {
    <span class="comment">// Pre-trained result.</span>
    fontinfo_id = <a class="code" href="classtesseract_1_1_classify.html#a1002c7f80352c6ceac4af82ee35e5e06">ClassAndConfigIDToFontOrShapeID</a>(class_id, int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>);
    <span class="keywordflow">if</span> (int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#a836e323aea6abcaa3f1a758f569fe0c9">Config2</a> &gt;= 0) {
      fontinfo_id2 = <a class="code" href="classtesseract_1_1_classify.html#a1002c7f80352c6ceac4af82ee35e5e06">ClassAndConfigIDToFontOrShapeID</a>(class_id,
                                                     int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#a836e323aea6abcaa3f1a758f569fe0c9">Config2</a>);
    }
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <span class="comment">// Actually fontinfo_id is an index into the shape_table_ and it</span>
      <span class="comment">// contains a list of unchar_id/font_id pairs.</span>
      <span class="keywordtype">int</span> shape_id = fontinfo_id;
      <span class="keyword">const</span> Shape&amp; shape = <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;GetShape(fontinfo_id);
      <span class="keywordtype">double</span> min_rating = 0.0;
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; shape.size(); ++c) {
        <span class="keywordtype">int</span> unichar_id = shape[c].unichar_id;
        fontinfo_id = shape[c].font_ids[0];
        <span class="keywordflow">if</span> (shape[c].font_ids.size() &gt; 1)
          fontinfo_id2 = shape[c].font_ids[1];
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fontinfo_id2 != kBlankFontinfoId)
          fontinfo_id2 = <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;GetShape(fontinfo_id2)[0].font_ids[0];
        <span class="keywordtype">double</span> rating = <a class="code" href="classtesseract_1_1_classify.html#a7c6031863d4dafb400551cc4f151f3b5">ComputeCorrectedRating</a>(debug, unichar_id, cp_rating,
                                               int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a>,
                                               int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#a7b679d879f68fc70f4af3d983cea4036">FeatureMisses</a>,
                                               bottom, top, blob_length,
                                               cn_factors);
        <span class="keywordflow">if</span> (c == 0 || rating &lt; min_rating)
          min_rating = rating;
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa5f5f5b010151daf76255777aebeea18">get_enabled</a>(unichar_id)) {
          <a class="code" href="classtesseract_1_1_classify.html#a3681915077046082b4d99532a3f3da61">AddNewResult</a>(final_results, unichar_id, shape_id, rating,
                       classes != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>,
                       fontinfo_id, fontinfo_id2);
        }
      }
      int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a> = min_rating;
      <span class="keywordflow">return</span>;
    }
  }
  <span class="keywordtype">double</span> rating = <a class="code" href="classtesseract_1_1_classify.html#a7c6031863d4dafb400551cc4f151f3b5">ComputeCorrectedRating</a>(debug, class_id, cp_rating,
                                         int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a>,
                                         int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#a7b679d879f68fc70f4af3d983cea4036">FeatureMisses</a>,
                                         bottom, top, blob_length,
                                         cn_factors);
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa5f5f5b010151daf76255777aebeea18">get_enabled</a>(class_id)) {
    <a class="code" href="classtesseract_1_1_classify.html#a3681915077046082b4d99532a3f3da61">AddNewResult</a>(final_results, class_id, -1, rating,
                 classes != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>,
                 fontinfo_id, fontinfo_id2);
  }
  int_result.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a> = rating;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af1ef43f77139dc879d27a510adcb4bb3"></a><!-- doxytag: member="tesseract::Classify::ExtractOutlineFeatures" ref="af1ef43f77139dc879d27a510adcb4bb3" args="(TBLOB *Blob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> tesseract::Classify::ExtractOutlineFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="outfeat_8cpp_source.html#l00036">36</a> of file <a class="el" href="outfeat_8cpp_source.html">outfeat.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Blob            blob to extract pico-features from</span>
<span class="comment"> **             LineStats       statistics on text row blob is in</span>
<span class="comment"> **     Globals: none</span>
<span class="comment"> **     Operation: Convert each segment in the outline to a feature</span>
<span class="comment"> **             and return the features.</span>
<span class="comment"> **     Return: Outline-features for Blob.</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: 11/13/90, DSJ, Created.</span>
<span class="comment"> **             05/24/91, DSJ, Updated for either char or baseline normalize.</span>
<span class="comment"> */</span>
  <a class="code" href="structlist__rec.html">LIST</a> Outlines;
  <a class="code" href="structlist__rec.html">LIST</a> RemainingOutlines;
  <a class="code" href="structlist__rec.html">MFOUTLINE</a> Outline;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html">FEATURE_SET</a> FeatureSet;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> XScale, YScale;

  FeatureSet = <a class="code" href="ocrfeatures_8cpp.html#acdf1bcf73857cfc37fe8d667203bc875">NewFeatureSet</a> (<a class="code" href="outfeat_8h.html#ac29e72cf5bfbadc9a7b2490ffdda297f">MAX_OUTLINE_FEATURES</a>);
  <span class="keywordflow">if</span> (Blob == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> (FeatureSet);

  Outlines = <a class="code" href="mfoutline_8cpp.html#a4acb6328d74e385e88c02c45e1306b97">ConvertBlob</a> (Blob);

  <a class="code" href="classtesseract_1_1_classify.html#a8cbc3c255f888cc49c713c0a7408d2ad">NormalizeOutlines</a>(Outlines, &amp;XScale, &amp;YScale);
  RemainingOutlines = Outlines;
  <a class="code" href="oldlist_8h.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(RemainingOutlines) {
    Outline = (<a class="code" href="mfoutline_8h.html#a7ccab0cdf14413921e017ad0af14e1de">MFOUTLINE</a>) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (RemainingOutlines);
    <a class="code" href="outfeat_8cpp.html#a46e551093fc5d100adbb071067948bd9">ConvertToOutlineFeatures</a>(Outline, FeatureSet);
  }
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a> == <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>)
    <a class="code" href="outfeat_8cpp.html#a31e740a46d077ad41735bbd17b0bef34">NormalizeOutlineX</a>(FeatureSet);
  <a class="code" href="mfoutline_8cpp.html#a553352ad44661adad2a80a24ac78aeaf">FreeOutlines</a>(Outlines);
  <span class="keywordflow">return</span> (FeatureSet);
}                                <span class="comment">/* ExtractOutlineFeatures */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ad6d1f9f29655ffe18fab3832b113e00b"></a><!-- doxytag: member="tesseract::Classify::ExtractPicoFeatures" ref="ad6d1f9f29655ffe18fab3832b113e00b" args="(TBLOB *Blob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> tesseract::Classify::ExtractPicoFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="picofeat_8cpp_source.html#l00057">57</a> of file <a class="el" href="picofeat_8cpp_source.html">picofeat.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Blob            blob to extract pico-features from</span>
<span class="comment"> **             LineStats       statistics on text row blob is in</span>
<span class="comment"> **     Globals:</span>
<span class="comment"> **             classify_norm_method    normalization method currently specified</span>
<span class="comment"> **     Operation: Dummy for now.</span>
<span class="comment"> **     Return: Pico-features for Blob.</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: 9/4/90, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="structlist__rec.html">LIST</a> Outlines;
  <a class="code" href="structlist__rec.html">LIST</a> RemainingOutlines;
  <a class="code" href="structlist__rec.html">MFOUTLINE</a> Outline;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html">FEATURE_SET</a> FeatureSet;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> XScale, YScale;

  FeatureSet = <a class="code" href="ocrfeatures_8cpp.html#acdf1bcf73857cfc37fe8d667203bc875">NewFeatureSet</a>(<a class="code" href="picofeat_8h.html#a547a9b8f4afa51bb6c9066d5848c068d">MAX_PICO_FEATURES</a>);
  Outlines = <a class="code" href="mfoutline_8cpp.html#a4acb6328d74e385e88c02c45e1306b97">ConvertBlob</a>(Blob);
  <a class="code" href="classtesseract_1_1_classify.html#a8cbc3c255f888cc49c713c0a7408d2ad">NormalizeOutlines</a>(Outlines, &amp;XScale, &amp;YScale);
  RemainingOutlines = Outlines;
  <a class="code" href="oldlist_8h.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(RemainingOutlines) {
    Outline = (<a class="code" href="mfoutline_8h.html#a7ccab0cdf14413921e017ad0af14e1de">MFOUTLINE</a>) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (RemainingOutlines);
    <a class="code" href="picofeat_8cpp.html#a0ef34dbe10ce0b1c08b63a640c1f1009">ConvertToPicoFeatures2</a>(Outline, FeatureSet);
  }
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a> == <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>)
    <a class="code" href="picofeat_8cpp.html#a0d34691eace89769641af5a13f448310">NormalizePicoX</a>(FeatureSet);
  <a class="code" href="mfoutline_8cpp.html#a553352ad44661adad2a80a24ac78aeaf">FreeOutlines</a>(Outlines);
  <span class="keywordflow">return</span> (FeatureSet);

}                                <span class="comment">/* ExtractPicoFeatures */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ab6e270cecf7e7c62e1319e7889caf716"></a><!-- doxytag: member="tesseract::Classify::FreeNormProtos" ref="ab6e270cecf7e7c62e1319e7889caf716" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::FreeNormProtos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="normmatch_8cpp_source.html#l00157">157</a> of file <a class="el" href="normmatch_8cpp_source.html">normmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                              {
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#a5fb6b18adc50b9ab250cad15f26450b2">NumProtos</a>; i++)
      <a class="code" href="cluster_8cpp.html#a7e5357920f0bded023b15d29ddf15ebf">FreeProtoList</a>(&amp;<a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a>[i]);
    <a class="code" href="emalloc_8cpp.html#af846576ae65dc13e49ddc616e17baa27">Efree</a>(<a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a>);
    <a class="code" href="emalloc_8cpp.html#af846576ae65dc13e49ddc616e17baa27">Efree</a>(<a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#a57382d35825f360d88f32032e05239f3">ParamDesc</a>);
    <a class="code" href="emalloc_8cpp.html#af846576ae65dc13e49ddc616e17baa27">Efree</a>(<a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>);
    <a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a62597f182a5e23c3b8a030c06e699e99"></a><!-- doxytag: member="tesseract::Classify::get_fontinfo_table" ref="a62597f182a5e23c3b8a030c06e699e99" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt;<a class="el" href="structtesseract_1_1_font_info.html">FontInfo</a>&gt;&amp; tesseract::Classify::get_fontinfo_table </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00336">336</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
    <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="a84d0021ef7ddbc98196801f9808fa33d"></a><!-- doxytag: member="tesseract::Classify::get_fontset_table" ref="a84d0021ef7ddbc98196801f9808fa33d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt;<a class="el" href="structtesseract_1_1_font_set.html">FontSet</a>&gt;&amp; tesseract::Classify::get_fontset_table </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00339">339</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
    <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="a1f21b989c93ff1d297b5bde442fc430c"></a><!-- doxytag: member="tesseract::Classify::GetAdaptiveFeatures" ref="a1f21b989c93ff1d297b5bde442fc430c" args="(TBLOB *Blob, INT_FEATURE_ARRAY IntFeatures, FEATURE_SET *FloatFeatures)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::GetAdaptiveFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a>&#160;</td>
          <td class="paramname"><em>IntFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> *&#160;</td>
          <td class="paramname"><em>FloatFeatures</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine sets up the feature extractor to extract baseline normalized pico-features.</p>
<p>The extracted pico-features are converted to integer form and placed in IntFeatures. The original floating-pt. features are returned in FloatFeatures.</p>
<p>Globals: none </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Blob</td><td>blob to extract features from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">LineStats</td><td>statistics about text row blob is in </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IntFeatures</td><td>array to fill with integer features </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FloatFeatures</td><td>place to return actual floating-pt features</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of pico-features returned (0 if an error occurred) </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 17:55:18 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00855">855</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  <a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html">FEATURE_SET</a> Features;
  <span class="keywordtype">int</span> NumFeatures;

  <a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>.set_value(<a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>);
  Features = <a class="code" href="classtesseract_1_1_classify.html#ad6d1f9f29655ffe18fab3832b113e00b">ExtractPicoFeatures</a>(Blob);

  NumFeatures = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a154a6ca419f3f16fccf11b7217351570">NumFeatures</a>;
  <span class="keywordflow">if</span> (NumFeatures &gt; <a class="code" href="adaptmatch_8cpp.html#a17b4f36c5132ab55beb280e0cc233228">UNLIKELY_NUM_FEAT</a>) {
    <a class="code" href="ocrfeatures_8cpp.html#a72b29c3d875eb9a2241385b1f1388b2d">FreeFeatureSet</a>(Features);
    <span class="keywordflow">return</span> 0;
  }

  <a class="code" href="classtesseract_1_1_classify.html#ae1f3fc88bf28a4a169273bcf2515610e">ComputeIntFeatures</a>(Features, IntFeatures);
  *FloatFeatures = Features;

  <span class="keywordflow">return</span> NumFeatures;
}                                <span class="comment">/* GetAdaptiveFeatures */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a57d34f380d093913f3c3e74f7a7a9840"></a><!-- doxytag: member="tesseract::Classify::GetAdaptThresholds" ref="a57d34f380d093913f3c3e74f7a7a9840" args="(TWERD *Word, const DENORM &amp;denorm, const WERD_CHOICE &amp;BestChoice, const WERD_CHOICE &amp;BestRawChoice, FLOAT32 Thresholds[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::GetAdaptThresholds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_w_e_r_d.html">TWERD</a> *&#160;</td>
          <td class="paramname"><em>Word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>BestChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>BestRawChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Thresholds</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine tries to estimate how tight the adaptation threshold should be set for each character in the current word. In general, the routine tries to set tighter thresholds for a character when the current set of templates would have made an error on that character. It tries to set a threshold tight enough to eliminate the error. Two different sets of rules can be used to determine the desired thresholds.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Word</td><td>current word </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">BestChoice</td><td>best choice for current word with context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">BestRawChoice</td><td>best choice for current word without context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Thresholds</td><td>array of thresholds to be filled in</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>matcher_good_threshold</li>
<li>matcher_perfect_threshold</li>
<li>matcher_rating_margin</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>none (results are returned in Thresholds) </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Fri May 31 09:22:08 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01855">1855</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().FindClassifierErrors(<a class="code" href="classtesseract_1_1_classify.html#a3d9ace4f4ae0ddf01942ced19410adbe">matcher_perfect_threshold</a>,
                                 <a class="code" href="classtesseract_1_1_classify.html#adc3a809a1a219f741a9e45a32e0d11bc">matcher_good_threshold</a>,
                                 <a class="code" href="classtesseract_1_1_classify.html#a7940573dfb85992433c6f51965a9fea5">matcher_rating_margin</a>,
                                 Thresholds);
}                              <span class="comment">/* GetAdaptThresholds */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af4c186f6ec1019d17912d2cf36326f1f"></a><!-- doxytag: member="tesseract::Classify::GetAmbiguities" ref="af4c186f6ec1019d17912d2cf36326f1f" args="(TBLOB *Blob, const DENORM &amp;denorm, CLASS_ID CorrectClass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> * tesseract::Classify::GetAmbiguities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>CorrectClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine matches blob to the built-in templates to find out if there are any classes other than the correct class which are potential ambiguities.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to get classification ambiguities for </td></tr>
    <tr><td class="paramname">CorrectClass</td><td>correct class for Blob</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>CurrentRatings used by qsort compare routine</li>
<li>PreTrainedTemplates built-in templates</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>String containing all possible ambiguous classes. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Fri Mar 15 08:08:22 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01883">1883</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
  <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *Results = <span class="keyword">new</span> <a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a>();
  <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *Ambiguities;
  <span class="keywordtype">int</span> i;

  Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a450c3b1b225dfa0771edd50732e5d288">Initialize</a>();

  <a class="code" href="classtesseract_1_1_classify.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier</a>(Blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, Results);
  <a class="code" href="classtesseract_1_1_classify.html#a0e35029ac0c77ad18d35f08c27c99d15">RemoveBadMatches</a>(Results);
  qsort((<span class="keywordtype">void</span> *)Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>, Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>,
        <span class="keyword">sizeof</span>(<a class="code" href="struct_scored_class.html">ScoredClass</a>), <a class="code" href="adaptmatch_8cpp.html#a82aaab0580160422d3587ca9cc533e60">CompareByRating</a>);

  <span class="comment">/* copy the class id&#39;s into an string of ambiguities - don&#39;t copy if</span>
<span class="comment">     the correct class is the only class id matched */</span>
  Ambiguities = (<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>) *
                                        (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> + 1));
  <span class="keywordflow">if</span> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> &gt; 1 ||
      (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> == 1 &amp;&amp;
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[0].<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a> != CorrectClass)) {
    <span class="keywordflow">for</span> (i = 0; i &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; i++)
      Ambiguities[i] = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>;
    Ambiguities[i] = -1;
  } <span class="keywordflow">else</span> {
    Ambiguities[0] = -1;
  }

  <span class="keyword">delete</span> Results;
  <span class="keywordflow">return</span> Ambiguities;
}                              <span class="comment">/* GetAmbiguities */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a4bf0e47e0ae00a0cec215a887cef8c65"></a><!-- doxytag: member="tesseract::Classify::GetBaselineFeatures" ref="a4bf0e47e0ae00a0cec215a887cef8c65" args="(TBLOB *Blob, const DENORM &amp;denorm, INT_TEMPLATES Templates, INT_FEATURE_ARRAY IntFeatures, uinT8 *CharNormArray, inT32 *BlobLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::GetBaselineFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a>&#160;</td>
          <td class="paramname"><em>IntFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>CharNormArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *&#160;</td>
          <td class="paramname"><em>BlobLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine calls the integer (Hardware) feature extractor if it has not been called before for this blob. The results from the feature extractor are placed into globals so that they can be used in other routines without re-extracting the features. It then copies the baseline features into the IntFeatures array provided by the caller.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to extract features from </td></tr>
    <tr><td class="paramname">Templates</td><td>used to compute char norm adjustments </td></tr>
    <tr><td class="paramname">IntFeatures</td><td>array to fill with integer features </td></tr>
    <tr><td class="paramname">CharNormArray</td><td>array to fill with dummy char norm adjustments </td></tr>
    <tr><td class="paramname">BlobLength</td><td>length of blob in baseline-normalized units</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>FeaturesHaveBeenExtracted TRUE if fx has been done</li>
<li>BaselineFeatures holds extracted baseline feat</li>
<li>CharNormFeatures holds extracted char norm feat</li>
<li>FXInfo holds misc. FX info</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of features extracted or 0 if an error occured. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue May 28 10:40:52 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01941">1941</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <span class="keyword">register</span> <a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE</a> Src, Dest, End;

  <span class="keywordflow">if</span> (!FeaturesHaveBeenExtracted) {
    FeaturesOK = <a class="code" href="intfx_8cpp.html#a508a06732c67c00efc9db362bd8b970e">ExtractIntFeat</a>(Blob, denorm, BaselineFeatures,
                                CharNormFeatures, &amp;FXInfo, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
    FeaturesHaveBeenExtracted = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  }

  <span class="keywordflow">if</span> (!FeaturesOK) {
    *BlobLength = FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a1ad9961af805ce0f4d6f8f4c5e60d368">NumBL</a>;
    <span class="keywordflow">return</span> 0;
  }

  <span class="keywordflow">for</span> (Src = BaselineFeatures, End = Src + FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a1ad9961af805ce0f4d6f8f4c5e60d368">NumBL</a>, Dest = IntFeatures;
       Src &lt; End;
       *Dest++ = *Src++);

  <a class="code" href="classtesseract_1_1_classify.html#ac0de90c99552cdc286f934d344790085">ClearCharNormArray</a>(CharNormArray);
  *BlobLength = FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a1ad9961af805ce0f4d6f8f4c5e60d368">NumBL</a>;
  <span class="keywordflow">return</span> FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a1ad9961af805ce0f4d6f8f4c5e60d368">NumBL</a>;
}                              <span class="comment">/* GetBaselineFeatures */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a1076d5d08686e48d39ef3eb07e711fb6"></a><!-- doxytag: member="tesseract::Classify::GetCharNormFeatures" ref="a1076d5d08686e48d39ef3eb07e711fb6" args="(TBLOB *Blob, const DENORM &amp;denorm, INT_TEMPLATES Templates, INT_FEATURE_ARRAY IntFeatures, uinT8 *PrunerNormArray, uinT8 *CharNormArray, inT32 *BlobLength, inT32 *FeatureOutlineIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::GetCharNormFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a>&#160;</td>
          <td class="paramname"><em>IntFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>PrunerNormArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>CharNormArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *&#160;</td>
          <td class="paramname"><em>BlobLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *&#160;</td>
          <td class="paramname"><em>FeatureOutlineArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine calls the integer (Hardware) feature extractor if it has not been called before for this blob.</p>
<p>The results from the feature extractor are placed into globals so that they can be used in other routines without re-extracting the features.</p>
<p>It then copies the char norm features into the IntFeatures array provided by the caller.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to extract features from </td></tr>
    <tr><td class="paramname">Templates</td><td>used to compute char norm adjustments </td></tr>
    <tr><td class="paramname">IntFeatures</td><td>array to fill with integer features </td></tr>
    <tr><td class="paramname">CharNormArray</td><td>array to fill with dummy char norm adjustments </td></tr>
    <tr><td class="paramname">BlobLength</td><td>length of blob in baseline-normalized units</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>FeaturesHaveBeenExtracted TRUE if fx has been done</li>
<li>BaselineFeatures holds extracted baseline feat</li>
<li>CharNormFeatures holds extracted char norm feat</li>
<li>FXInfo holds misc. FX info</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of features extracted or 0 if an error occured. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue May 28 10:40:52 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02025">2025</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  <span class="keyword">register</span> <a class="code" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE</a> Src, Dest, End;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE</a> NormFeature;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Baseline, Scale;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> FeatureOutlineIndex[<a class="code" href="baseapi_8h.html#a4f7caedc4bed99355cae19efa51ade51">MAX_NUM_INT_FEATURES</a>];

  <span class="keywordflow">if</span> (!FeaturesHaveBeenExtracted) {
    FeaturesOK = <a class="code" href="intfx_8cpp.html#a508a06732c67c00efc9db362bd8b970e">ExtractIntFeat</a>(Blob, denorm, BaselineFeatures,
                                CharNormFeatures, &amp;FXInfo,
                                FeatureOutlineIndex);
    FeaturesHaveBeenExtracted = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  }

  <span class="keywordflow">if</span> (!FeaturesOK) {
    *BlobLength = FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a1ad9961af805ce0f4d6f8f4c5e60d368">NumBL</a>;
    <span class="keywordflow">return</span> (0);
  }

  <span class="keywordflow">for</span> (Src = CharNormFeatures, End = Src + FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#ac2c7a180de0d0778efed530aa06e47ad">NumCN</a>, Dest = IntFeatures;
       Src &lt; End;
       *Dest++ = *Src++);
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0;  FeatureOutlineArray &amp;&amp; i &lt; FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#ac2c7a180de0d0778efed530aa06e47ad">NumCN</a>; ++i) {
    FeatureOutlineArray[i] = FeatureOutlineIndex[i];
  }

  NormFeature = <a class="code" href="ocrfeatures_8cpp.html#a32a08c42617c8dd6a156c1c8d7fb2cbb">NewFeature</a>(&amp;CharNormDesc);
  Baseline = <a class="code" href="baseline_8h.html#a011c4f289bef07581a2aed5570f1918c">BASELINE_OFFSET</a>;
  Scale = <a class="code" href="mfoutline_8h.html#a91645597f620e8307a65e8ab35d963b8">MF_SCALE_FACTOR</a>;
  NormFeature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a9309b18966f93d05a857e8ee0f81c557">CharNormY</a>] = (FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a7acb1b39e74035eb698d8ab2ca8f689e">Ymean</a> - Baseline) * Scale;
  NormFeature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506af859d8f455da531fb41201c80187dccf">CharNormLength</a>] =
    FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#afea938630215615240c35afad4e6df0e">Length</a> * Scale / <a class="code" href="normfeat_8h.html#a528f356e3cb082911b33645da06ccf04">LENGTH_COMPRESSION</a>;
  NormFeature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506a5a6745d4958b44c8c3481742021428f9">CharNormRx</a>] = FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a761357b2a8e539be5dd5be9ab6427535">Rx</a> * Scale;
  NormFeature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="normfeat_8h.html#ab5ff0a2380362fa488e17c0c1b858506ac21a54078a6ec6e1470a21d65feb58d5">CharNormRy</a>] = FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a5bc44d7c44209bf894b7c806839cb62d">Ry</a> * Scale;
  <a class="code" href="classtesseract_1_1_classify.html#a8f49de2f8da7b066bd8ece0641edcca1">ComputeCharNormArrays</a>(NormFeature, Templates, CharNormArray, PrunerNormArray);
  *BlobLength = FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#a1ad9961af805ce0f4d6f8f4c5e60d368">NumBL</a>;
  <span class="keywordflow">return</span> (FXInfo.<a class="code" href="struct_i_n_t___f_x___r_e_s_u_l_t___s_t_r_u_c_t.html#ac2c7a180de0d0778efed530aa06e47ad">NumCN</a>);
}                              <span class="comment">/* GetCharNormFeatures */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a76f4e180bcab3a7cd2da75d42b524eba"></a><!-- doxytag: member="tesseract::Classify::GetClassToDebug" ref="a76f4e180bcab3a7cd2da75d42b524eba" args="(const char *Prompt, bool *adaptive_on, bool *pretrained_on, int *shape_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> tesseract::Classify::GetClassToDebug </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>Prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>adaptive_on</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pretrained_on</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>shape_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intproto_8cpp_source.html#l01432">1432</a> of file <a class="el" href="intproto_8cpp_source.html">intproto.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                       {
<span class="comment">/*</span>
<span class="comment"> ** Parameters:</span>
<span class="comment"> **   Prompt  prompt to print while waiting for input from window</span>
<span class="comment"> ** Globals: none</span>
<span class="comment"> ** Operation: This routine prompts the user with Prompt and waits</span>
<span class="comment"> **   for the user to enter something in the debug window.</span>
<span class="comment"> ** Return: Character entered in the debug window.</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Thu Mar 21 16:55:13 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, Prompt);
  <a class="code" href="struct_s_v_event.html">SVEvent</a>* ev;
  <a class="code" href="scrollview_8h.html#a3688a0cf2f95d10a57e095222ccfe9a0">SVEventType</a> ev_type;
  <span class="keywordtype">int</span> unichar_id = INVALID_UNICHAR_ID;
  <span class="comment">// Wait until a click or popup event.</span>
  <span class="keywordflow">do</span> {
    ev = <a class="code" href="intproto_8cpp.html#a3e2601e005e31466f29ed35791e280dc">IntMatchWindow</a>-&gt;<a class="code" href="class_scroll_view.html#a0b820b3fe7a2ce083da0784e9339a1ad">AwaitEvent</a>(<a class="code" href="scrollview_8h.html#a3688a0cf2f95d10a57e095222ccfe9a0a6eec81ed585bda7ff47ec38918cb2a0e">SVET_ANY</a>);
    ev_type = ev-&gt;<a class="code" href="struct_s_v_event.html#a5bf8585bd1901b9103eb2783f8afe508">type</a>;
    <span class="keywordflow">if</span> (ev_type == <a class="code" href="scrollview_8h.html#a3688a0cf2f95d10a57e095222ccfe9a0a3752863b11af097f289eb55405df8fa5">SVET_POPUP</a>) {
      <span class="keywordflow">if</span> (ev-&gt;<a class="code" href="struct_s_v_event.html#ad0db5c2aa893a41b6c6f65b9d3f62318">command_id</a> == <a class="code" href="intproto_8h.html#aaf26255ca73d9de95dc331fda7b25059a911e6b43103ceebb21666a23b77a0f73">IDA_SHAPE_INDEX</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
          *shape_id = atoi(ev-&gt;<a class="code" href="struct_s_v_event.html#a6e0de466c57df117c731bfb4db68fc79">parameter</a>);
          *adaptive_on = <span class="keyword">false</span>;
          *pretrained_on = <span class="keyword">true</span>;
          <span class="keywordflow">if</span> (*shape_id &gt;= 0 &amp;&amp; *shape_id &lt; shape_table_-&gt;NumShapes()) {
            <span class="keywordtype">int</span> font_id;
            <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;GetFirstUnicharAndFont(*shape_id, &amp;unichar_id,
                                                 &amp;font_id);
            <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Shape %d, first unichar=%d, font=%d\n&quot;</span>,
                    *shape_id, unichar_id, font_id);
            <span class="keywordflow">return</span> unichar_id;
          }
          <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Shape index &#39;%s&#39; not found in shape table\n&quot;</span>, ev-&gt;<a class="code" href="struct_s_v_event.html#a6e0de466c57df117c731bfb4db68fc79">parameter</a>);
        } <span class="keywordflow">else</span> {
          <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;No shape table loaded!\n&quot;</span>);
        }
      } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a9f8861ffb917e7341c821928da5865f0">contains_unichar</a>(ev-&gt;<a class="code" href="struct_s_v_event.html#a6e0de466c57df117c731bfb4db68fc79">parameter</a>)) {
          unichar_id = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(ev-&gt;<a class="code" href="struct_s_v_event.html#a6e0de466c57df117c731bfb4db68fc79">parameter</a>);
          <span class="keywordflow">if</span> (ev-&gt;<a class="code" href="struct_s_v_event.html#ad0db5c2aa893a41b6c6f65b9d3f62318">command_id</a> == <a class="code" href="intproto_8h.html#aaf26255ca73d9de95dc331fda7b25059ad993f1c95a8775a97134029a0637e793">IDA_ADAPTIVE</a>) {
            *adaptive_on = <span class="keyword">true</span>;
            *pretrained_on = <span class="keyword">false</span>;
            *shape_id = -1;
          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev-&gt;<a class="code" href="struct_s_v_event.html#ad0db5c2aa893a41b6c6f65b9d3f62318">command_id</a> == <a class="code" href="intproto_8h.html#aaf26255ca73d9de95dc331fda7b25059a7e375f63c9aa7b991d070fb71afdf8a2">IDA_STATIC</a>) {
            *adaptive_on = <span class="keyword">false</span>;
            *pretrained_on = <span class="keyword">true</span>;
          } <span class="keywordflow">else</span> {
            *adaptive_on = <span class="keyword">true</span>;
            *pretrained_on = <span class="keyword">true</span>;
          }
          <span class="keywordflow">if</span> (ev-&gt;<a class="code" href="struct_s_v_event.html#ad0db5c2aa893a41b6c6f65b9d3f62318">command_id</a> == <a class="code" href="intproto_8h.html#aaf26255ca73d9de95dc331fda7b25059ad993f1c95a8775a97134029a0637e793">IDA_ADAPTIVE</a> || <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
            *shape_id = -1;
            <span class="keywordflow">return</span> unichar_id;
          }
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;NumShapes(); ++s) {
            <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;GetShape(s).ContainsUnichar(unichar_id)) {
              <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;DebugStr(s).string());
            }
          }
        } <span class="keywordflow">else</span> {
          <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Char class &#39;%s&#39; not found in unicharset&quot;</span>,
                  ev-&gt;<a class="code" href="struct_s_v_event.html#a6e0de466c57df117c731bfb4db68fc79">parameter</a>);
        }
      }
    }
    <span class="keyword">delete</span> ev;
  } <span class="keywordflow">while</span> (ev_type != <a class="code" href="scrollview_8h.html#a3688a0cf2f95d10a57e095222ccfe9a0a2afe407abe8c055c45765b85d20e7946">SVET_CLICK</a>);
  <span class="keywordflow">return</span> 0;
}                                <span class="comment">/* GetClassToDebug */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a83e4207353a1bb07adfaa6a82a74c9ce"></a><!-- doxytag: member="tesseract::Classify::getDict" ref="a83e4207353a1bb07adfaa6a82a74c9ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtesseract_1_1_dict.html">Dict</a>&amp; tesseract::Classify::getDict </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00062">62</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>
<div class="fragment"><pre class="fragment">                  {
    <span class="keywordflow">return</span> dict_;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="afae8a55c28ee68de92ab1b1dd37c6905"></a><!-- doxytag: member="tesseract::Classify::GetFontinfoId" ref="afae8a55c28ee68de92ab1b1dd37c6905" args="(ADAPT_CLASS Class, uinT8 ConfigId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::GetFontinfoId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a>&#160;</td>
          <td class="paramname"><em>Class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>&#160;</td>
          <td class="paramname"><em>ConfigId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptive_8cpp_source.html#l00190">190</a> of file <a class="el" href="adaptive_8cpp_source.html">adaptive.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
  <span class="keywordflow">return</span> (<a class="code" href="adaptive_8h.html#a45d630ce43777ee1ab16048b0a846813">ConfigIsPermanent</a>(Class, ConfigId) ?
      <a class="code" href="adaptive_8h.html#aea4d5dd0059c222f111f9537af74a325">PermConfigFor</a>(Class, ConfigId)-&gt;FontinfoId :
      <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a>(Class, ConfigId)-&gt;FontinfoId);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aee9e5bd336bf1a37a7a1f3b712eb045d"></a><!-- doxytag: member="tesseract::Classify::InitAdaptedClass" ref="aee9e5bd336bf1a37a7a1f3b712eb045d" args="(TBLOB *Blob, const DENORM &amp;denorm, CLASS_ID ClassId, int FontinfoId, ADAPT_CLASS Class, ADAPT_TEMPLATES Templates)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::InitAdaptedClass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FontinfoId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a>&#160;</td>
          <td class="paramname"><em>Class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine creates a new adapted class and uses Blob as the model for the first config in that class.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to model new class after </td></tr>
    <tr><td class="paramname">ClassId</td><td>id of the class to be initialized </td></tr>
    <tr><td class="paramname">FontinfoId</td><td>font information inferred from pre-trained templates </td></tr>
    <tr><td class="paramname">Class</td><td>adapted class to be initialized </td></tr>
    <tr><td class="paramname">Templates</td><td>adapted templates to add new class to</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li><a class="el" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> dummy mask with all 1's</li>
<li>BaselineCutoffs kludge needed to get cutoffs</li>
<li><a class="el" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a> kludge needed to get cutoffs</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Thu Mar 14 12:49:39 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00758">758</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
  <a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html">FEATURE_SET</a> Features;
  <span class="keywordtype">int</span> Fid, Pid;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE</a> Feature;
  <span class="keywordtype">int</span> NumFeatures;
  <a class="code" href="struct_t_e_m_p___p_r_o_t_o___s_t_r_u_c_t.html">TEMP_PROTO</a> TempProto;
  <a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html">PROTO</a> Proto;
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> IClass;
  <a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html">TEMP_CONFIG</a> <a class="code" href="commontraining_8cpp.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>;

  <a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>.set_value(<a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>);
  Features = <a class="code" href="classtesseract_1_1_classify.html#af1ef43f77139dc879d27a510adcb4bb3">ExtractOutlineFeatures</a>(Blob);
  NumFeatures = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a154a6ca419f3f16fccf11b7217351570">NumFeatures</a>;
  <span class="keywordflow">if</span> (NumFeatures &gt; <a class="code" href="adaptmatch_8cpp.html#a17b4f36c5132ab55beb280e0cc233228">UNLIKELY_NUM_FEAT</a> || NumFeatures &lt;= 0) {
    <a class="code" href="ocrfeatures_8cpp.html#a72b29c3d875eb9a2241385b1f1388b2d">FreeFeatureSet</a>(Features);
    <span class="keywordflow">return</span>;
  }

  Config = <a class="code" href="adaptive_8cpp.html#af29bddcf8cc7f50548382c9594716559">NewTempConfig</a>(NumFeatures - 1, FontinfoId);
  <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a>(Class, 0) = <a class="code" href="commontraining_8cpp.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>;

  <span class="comment">/* this is a kludge to construct cutoffs for adapted templates */</span>
  <span class="keywordflow">if</span> (Templates == <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>)
    BaselineCutoffs[ClassId] = CharNormCutoffs[ClassId];

  IClass = <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, ClassId);

  <span class="keywordflow">for</span> (Fid = 0; Fid &lt; Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a154a6ca419f3f16fccf11b7217351570">NumFeatures</a>; Fid++) {
    Pid = <a class="code" href="intproto_8cpp.html#a4c27266652a51cf8aaa866d299f57301">AddIntProto</a> (IClass);
    assert (Pid != <a class="code" href="matchdefs_8h.html#a4d2ae3978d57e3b05f984a0fedc51812">NO_PROTO</a>);

    Feature = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a4664d6a22a9d12f4011de4d877664c45">Features</a>[Fid];
    TempProto = <a class="code" href="adaptive_8cpp.html#a5dec565ee3ad1656d02860db322e4448">NewTempProto</a> ();
    Proto = &amp;(TempProto-&gt;<a class="code" href="struct_t_e_m_p___p_r_o_t_o___s_t_r_u_c_t.html#acf720eb61d4a91e84d949a6f772ea7c5">Proto</a>);

    <span class="comment">/* compute proto params - NOTE that Y_DIM_OFFSET must be used because</span>
<span class="comment">       ConvertProto assumes that the Y dimension varies from -0.5 to 0.5</span>
<span class="comment">       instead of the -0.25 to 0.75 used in baseline normalization */</span>
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> = Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="outfeat_8h.html#ab73697b859e4921472c6cf1de43267a1a0bb02f3ddb0f407e51cbf8967c3d78cb">OutlineFeatDir</a>];
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> = Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="outfeat_8h.html#ab73697b859e4921472c6cf1de43267a1ab72d959dbf0e92bfdb6f3ebf9d0b35e6">OutlineFeatX</a>];
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> = Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="outfeat_8h.html#ab73697b859e4921472c6cf1de43267a1ae64bdd03ed6e7dd59482f7e2d8054379">OutlineFeatY</a>] - <a class="code" href="adaptmatch_8cpp.html#ac5fe456fd5a30097c95a104b29c45cc3">Y_DIM_OFFSET</a>;
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> = Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="outfeat_8h.html#ab73697b859e4921472c6cf1de43267a1afc77106ded4ebd69ae6c596a2536e741">OutlineFeatLength</a>];
    <a class="code" href="protos_8cpp.html#ac0d58978bbcf0c732ae94fb554bccd3b">FillABC</a>(Proto);

    TempProto-&gt;<a class="code" href="struct_t_e_m_p___p_r_o_t_o___s_t_r_u_c_t.html#a93992200ebfddd13e25d0e9122af9b5b">ProtoId</a> = Pid;
    <a class="code" href="bitvec_8h.html#ab02d606cf8dca49ccadb00248bdbafe9">SET_BIT</a> (Config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a2ea5edb90b556766fce2105dcdfe3141">Protos</a>, Pid);

    <a class="code" href="classtesseract_1_1_classify.html#af27d604585502bd447d52bf5daf15d0d">ConvertProto</a>(Proto, Pid, IClass);
    <a class="code" href="intproto_8cpp.html#aec09adc2735bb4caaf226df7124e4ed7">AddProtoToProtoPruner</a>(Proto, Pid, IClass,
                          <a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 2);

    Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a> = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a>, TempProto);
  }
  <a class="code" href="ocrfeatures_8cpp.html#a72b29c3d875eb9a2241385b1f1388b2d">FreeFeatureSet</a>(Features);

  <a class="code" href="intproto_8cpp.html#a569488473772d42004fec43399e6d5a9">AddIntConfig</a>(IClass);
  <a class="code" href="intproto_8cpp.html#a57b07752bea2110e2503cf78747228c5">ConvertConfig</a> (<a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, 0, IClass);

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Added new class &#39;%s&#39; with class id %d and %d protos.\n&quot;</span>,
             <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId), ClassId, NumFeatures);
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt; 1)
      <a class="code" href="classtesseract_1_1_classify.html#aaa7b4a01a6f9bd1f088982a4011274e5">DisplayAdaptedChar</a>(Blob, denorm, IClass);
  }

  <span class="keywordflow">if</span> (<a class="code" href="adaptive_8h.html#a1d2aa2b696e73525cb57373fcc5a83ae">IsEmptyAdaptedClass</a>(Class))
    (Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#aa644a299b7046916ce731566866df325">NumNonEmptyClasses</a>)++;
}                                <span class="comment">/* InitAdaptedClass */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a2f9389a2d855d2a59e7892d3ba884887"></a><!-- doxytag: member="tesseract::Classify::InitAdaptiveClassifier" ref="a2f9389a2d855d2a59e7892d3ba884887" args="(bool load_pre_trained_templates)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::InitAdaptiveClassifier </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>load_pre_trained_templates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine reads in the training information needed by the adaptive classifier and saves it into global variables. Parameters: load_pre_trained_templates Indicates whether the pre-trained templates (inttemp, normproto and pffmtable components) should be lodaded. Should only be set to true if the necesary classifier components are present in the [lang].traineddata file. Globals: BuiltInTemplatesFile file to get built-in temps from BuiltInCutoffsFile file to get avg. feat per class from classify_use_pre_adapted_templates enables use of pre-adapted templates </p>
<dl class="note"><dt><b>Note:</b></dt><dd>History: Mon Mar 11 12:49:34 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00546">546</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
  <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_classify.html#adaa9bf9e188634ffa99c83204be2129f">classify_enable_adaptive_matcher</a>)
    <span class="keywordflow">return</span>;
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="classtesseract_1_1_classify.html#ae5e4880c5acc91b77308fbd6ab706b13">EndAdaptiveClassifier</a>();  <span class="comment">// Don&#39;t leak with multiple inits.</span>

  <span class="comment">// If there is no language_data_path_prefix, the classifier will be</span>
  <span class="comment">// adaptive only.</span>
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a259fbb37f1e940892938c71496c4d6ba">language_data_path_prefix</a>.<a class="code" href="class_s_t_r_i_n_g.html#a168505a533eda60219c93e25adf4cdc5">length</a>() &gt; 0 &amp;&amp;
      load_pre_trained_templates) {
    <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.SeekToStart(<a class="code" href="namespacetesseract.html#a5f278974ef80900b460194614d4f1899adfd87e838c95bfbdab3d08399e36b362">TESSDATA_INTTEMP</a>));
    <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a> =
      <a class="code" href="classtesseract_1_1_classify.html#a98459996e5e6ab1dc1de71411fd32b89">ReadIntTemplates</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.GetDataFilePtr());
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.DebugLevel() &gt; 0) <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Loaded inttemp\n&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.SeekToStart(<a class="code" href="namespacetesseract.html#a5f278974ef80900b460194614d4f1899ae3c25bcbffa5055814464c04388a8035">TESSDATA_SHAPE_TABLE</a>)) {
      <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> = <span class="keyword">new</span> ShapeTable(<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);
      <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>-&gt;DeSerialize(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.swap(),
                                     <a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.GetDataFilePtr())) {
        <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Error loading shape table!\n&quot;</span>);
        <span class="keyword">delete</span> <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>;
        <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.DebugLevel() &gt; 0) {
        <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Successfully loaded shape table!\n&quot;</span>);
      }
    }

    <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.SeekToStart(<a class="code" href="namespacetesseract.html#a5f278974ef80900b460194614d4f1899afe6ffc645055800e632965abcbc9c501">TESSDATA_PFFMTABLE</a>));
    <a class="code" href="classtesseract_1_1_classify.html#a49a37c1ce02f5e114f0d57e49871b802">ReadNewCutoffs</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.GetDataFilePtr(),
                   <a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.swap(),
                   <a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.GetEndOffset(<a class="code" href="namespacetesseract.html#a5f278974ef80900b460194614d4f1899afe6ffc645055800e632965abcbc9c501">TESSDATA_PFFMTABLE</a>),
                   CharNormCutoffs);
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.DebugLevel() &gt; 0) <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Loaded pffmtable\n&quot;</span>);

    <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.SeekToStart(<a class="code" href="namespacetesseract.html#a5f278974ef80900b460194614d4f1899a54f23d768a3b4d9d8cfd2513f5101d66">TESSDATA_NORMPROTO</a>));
    <a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a> =
      <a class="code" href="classtesseract_1_1_classify.html#aabd742c09ff530922005e015a9e8bc2b">ReadNormProtos</a>(<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.GetDataFilePtr(),
                     <a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.GetEndOffset(<a class="code" href="namespacetesseract.html#a5f278974ef80900b460194614d4f1899a54f23d768a3b4d9d8cfd2513f5101d66">TESSDATA_NORMPROTO</a>));
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>.DebugLevel() &gt; 0) <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Loaded normproto\n&quot;</span>);
  }

  <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#ac248b864f3f5effc9225c6f68d4b9e5b">Init</a>(&amp;<a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a>, <a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>);
  <a class="code" href="intfx_8cpp.html#a1281b17b87e56c99d53fe6bb1f7c2d55">InitIntegerFX</a>();

  <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a> = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>);
  <a class="code" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a> = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>);
  <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a> = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>);
  <a class="code" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a> = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>);
  <a class="code" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a> = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>);
  <a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a> = <a class="code" href="bitvec_8cpp.html#a502314dc3ee4b178df067713b324b868">NewBitVector</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>);
  <a class="code" href="bitvec_8h.html#a137dcf6c3453d2a2b5cbfa7d369c754f">set_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, <a class="code" href="bitvec_8h.html#a905ff9b6c51cb231dd8baf1713a3c9b8">WordsInVectorOfSize</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>));
  <a class="code" href="bitvec_8h.html#a137dcf6c3453d2a2b5cbfa7d369c754f">set_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a>, <a class="code" href="bitvec_8h.html#a905ff9b6c51cb231dd8baf1713a3c9b8">WordsInVectorOfSize</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>));
  <a class="code" href="bitvec_8h.html#a137dcf6c3453d2a2b5cbfa7d369c754f">set_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>, <a class="code" href="bitvec_8h.html#a905ff9b6c51cb231dd8baf1713a3c9b8">WordsInVectorOfSize</a>(<a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>));
  <a class="code" href="bitvec_8h.html#a33e25946d45a1e004a961dc46cb5226a">zero_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a>, <a class="code" href="bitvec_8h.html#a905ff9b6c51cb231dd8baf1713a3c9b8">WordsInVectorOfSize</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>));
  <a class="code" href="bitvec_8h.html#a33e25946d45a1e004a961dc46cb5226a">zero_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a>, <a class="code" href="bitvec_8h.html#a905ff9b6c51cb231dd8baf1713a3c9b8">WordsInVectorOfSize</a>(<a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>));

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>; i++) {
     BaselineCutoffs[i] = 0;
  }

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a52c6bf81f09a61859f999707e37c47f0">classify_use_pre_adapted_templates</a>) {
    FILE *File;
    <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> Filename;

    Filename = <a class="code" href="classtesseract_1_1_c_c_util.html#a5eea0d996032e28207d801a1ee92d388">imagefile</a>;
    Filename += <a class="code" href="adaptmatch_8cpp.html#a788df8e37c3d6f36e3d18a7bb7a603f0">ADAPT_TEMPLATE_SUFFIX</a>;
    File = fopen(Filename.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), <span class="stringliteral">&quot;rb&quot;</span>);
    <span class="keywordflow">if</span> (File == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="classtesseract_1_1_classify.html#a28ddc270cb5d2613f5f0f24ad53a5a21">NewAdaptedTemplates</a>(<span class="keyword">true</span>);
    } <span class="keywordflow">else</span> {
<span class="preprocessor">      #ifndef SECURE_NAMES</span>
<span class="preprocessor"></span>      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;\nReading pre-adapted templates from %s ...\n&quot;</span>,
              Filename.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());
      fflush(stdout);
<span class="preprocessor">      #endif</span>
<span class="preprocessor"></span>      <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="classtesseract_1_1_classify.html#aa74ebd96d85efc39d71c37985e50c8aa">ReadAdaptedTemplates</a>(File);
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
      fclose(File);
      <a class="code" href="classtesseract_1_1_classify.html#a15d6951abc586793270de0825bdb7dd7">PrintAdaptedTemplates</a>(stdout, <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; i++) {
        BaselineCutoffs[i] = CharNormCutoffs[i];
      }
    }
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="adaptive_8cpp.html#accee3ce0fad02a088149b714621dc21d">free_adapted_templates</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="classtesseract_1_1_classify.html#a28ddc270cb5d2613f5f0f24ad53a5a21">NewAdaptedTemplates</a>(<span class="keyword">true</span>);
  }
}                                <span class="comment">/* InitAdaptiveClassifier */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a0a6455e61097b98b01d180cd0b2748c9"></a><!-- doxytag: member="tesseract::Classify::LearnPieces" ref="a0a6455e61097b98b01d180cd0b2748c9" args="(const char *filename, int start, int length, float threshold, CharSegmentationType segmentation, const char *correct_text, WERD_RES *word)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::LearnPieces </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240">CharSegmentationType</a>&#160;</td>
          <td class="paramname"><em>segmentation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>correct_text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00395">395</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
  <span class="comment">// TODO(daria) Remove/modify this if/when we want</span>
  <span class="comment">// to train and/or adapt to n-grams.</span>
  <span class="keywordflow">if</span> (segmentation != <a class="code" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240ab74e41d8efe1a9beae832eb1652096f5">CST_WHOLE</a> &amp;&amp;
      (segmentation != <a class="code" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240af7f038dab34772b9ddb631d46aa4126a">CST_FRAGMENT</a> || <a class="code" href="classtesseract_1_1_classify.html#ab9c25bf0ebc01c57728e19b2bbc980ef">disable_character_fragments</a>))
    <span class="keywordflow">return</span>;

  <span class="keywordflow">if</span> (length &gt; 1) {
    <a class="code" href="seam_8cpp.html#a919dc51833c934e6738e5e18d2dd43f6">join_pieces</a>(word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>, word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>,
                start, start + length - 1);
  }
  <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a>* blob = word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; start; ++i)
    blob = blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;
  <span class="comment">// Rotate the blob if needed for classification.</span>
  <span class="keyword">const</span> <a class="code" href="class_d_e_n_o_r_m.html">DENORM</a>* denorm = &amp;word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a202d9d5d2a462d84012011c689e16605">denorm</a>;
  <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a>* rotated_blob = blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a01a7a878b92170eaa04d65435b0ef4cc">ClassifyNormalizeIfNeeded</a>(&amp;denorm);
  <span class="keywordflow">if</span> (rotated_blob == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    rotated_blob = blob;

<span class="preprocessor">  #ifndef GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>  <span class="comment">// Draw debug windows showing the blob that is being learned if needed.</span>
  <span class="keywordflow">if</span> (strcmp(<a class="code" href="classtesseract_1_1_classify.html#abdd8831d44ce5ea36f7bbee1ed9c4e8a">classify_learn_debug_str</a>.string(), correct_text) == 0) {
    <a class="code" href="classtesseract_1_1_classify.html#a6e36e01c8147d95bbd64c6609e1b8f45">RefreshDebugWindow</a>(&amp;learn_debug_win_, <span class="stringliteral">&quot;LearnPieces&quot;</span>, 600,
                       word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#a8278c9db39975f181ad074bf343ea402">bounding_box</a>());
    rotated_blob-&gt;plot(learn_debug_win_, <a class="code" href="class_scroll_view.html#a100504544a5423a94222149ee9ed0fe8a9d8c87be486dead41d198d6b97a22174">ScrollView::GREEN</a>, <a class="code" href="class_scroll_view.html#a100504544a5423a94222149ee9ed0fe8a3147083bcb68eb690858099c736e6857">ScrollView::BROWN</a>);
    learn_debug_win_-&gt;<a class="code" href="class_scroll_view.html#a0830a51981a20c8700b5ec49137e46e9">Update</a>();
    <a class="code" href="callcpp_8cpp.html#a51dc37eb580fe7f758275685e5ce0d59">window_wait</a>(learn_debug_win_);
  }
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a> &amp;&amp; segmentation == <a class="code" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240af7f038dab34772b9ddb631d46aa4126a">CST_FRAGMENT</a>) {
    <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(learn_fragments_debug_win_ != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);  <span class="comment">// set up in LearnWord</span>
    blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#aea2abdf5701d97f2aece1a5fbabaf77e">plot</a>(learn_fragments_debug_win_,
               <a class="code" href="class_scroll_view.html#a100504544a5423a94222149ee9ed0fe8a66e5117e4930fdd9a43bdb674d57a719">ScrollView::BLUE</a>, <a class="code" href="class_scroll_view.html#a100504544a5423a94222149ee9ed0fe8a3147083bcb68eb690858099c736e6857">ScrollView::BROWN</a>);
    learn_fragments_debug_win_-&gt;<a class="code" href="class_scroll_view.html#a0830a51981a20c8700b5ec49137e46e9">Update</a>();
  }
<span class="preprocessor">  #endif  // GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>
  <span class="keywordflow">if</span> (filename != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>.set_value(<a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>);  <span class="comment">// force char norm spc 30/11/93</span>
    <a class="code" href="classtesseract_1_1_classify.html#a85fcc9966cddbc38adf1014dd0cd778c">tess_bn_matching</a>.set_value(<span class="keyword">false</span>);    <span class="comment">// turn it off</span>
    <a class="code" href="classtesseract_1_1_classify.html#a746dbbd1c99e99f3d213077cceedf80e">tess_cn_matching</a>.set_value(<span class="keyword">false</span>);
    <a class="code" href="blobclass_8cpp.html#aa38d9ea697967c87442bc9a97a64f7e5">LearnBlob</a>(<a class="code" href="classtesseract_1_1_classify.html#a6ebcfd2968c704f99efd40075ecdb138">feature_defs_</a>, filename, rotated_blob, *denorm,
              correct_text);
  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a9f8861ffb917e7341c821928da5865f0">contains_unichar</a>(correct_text)) {
    <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> class_id = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(correct_text);
    <span class="keywordtype">int</span> font_id = word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a37a6c598c67dcbcce6af7fbd6e2c595f">fontinfo</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>
                ? <a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#a4820bb7a54cf6ecda86856161c6d5a2f">get_id</a>(*word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a37a6c598c67dcbcce6af7fbd6e2c595f">fontinfo</a>)
                : 0;
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Adapting to char = %s, thr= %g font_id= %d\n&quot;</span>,
              <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(class_id), threshold, font_id);
    <span class="comment">// If filename is not NULL we are doing recognition</span>
    <span class="comment">// (as opposed to training), so we must have already set word fonts.</span>
    <a class="code" href="classtesseract_1_1_classify.html#a53629ef3f5562677ae096bbce864e5ab">AdaptToChar</a>(rotated_blob, *denorm, class_id, font_id, threshold);
  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &gt;= 1) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Can&#39;t adapt to %s not in unicharset\n&quot;</span>, correct_text);
  }
  <span class="keywordflow">if</span> (rotated_blob != blob) {
    <span class="keyword">delete</span> rotated_blob;
    <span class="keyword">delete</span> denorm;
  }

  <a class="code" href="seam_8cpp.html#ac76b2d230d4c44cb0346f516b8a7134a">break_pieces</a>(blob, word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>, start, start + length - 1);
}  <span class="comment">// LearnPieces.</span>
</pre></div>
</div>
</div>
<a class="anchor" id="abbbd86871758c036d7ba2af682abb45f"></a><!-- doxytag: member="tesseract::Classify::LearnWord" ref="abbbd86871758c036d7ba2af682abb45f" args="(const char *filename, const char *rejmap, WERD_RES *word)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::LearnWord </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rejmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00255">255</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keywordtype">int</span> word_len = word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ae524416d2398009c92a5678105f3cbfb">correct_text</a>.<a class="code" href="class_generic_vector.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>();
  <span class="keywordflow">if</span> (word_len == 0) <span class="keywordflow">return</span>;

  <span class="keywordtype">float</span>* thresholds = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">if</span> (filename == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="comment">// Adaption mode.</span>
    <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a> || word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||
        <span class="comment">// If word-&gt;best_choice is not recorded at the top of accumulator&#39;s</span>
        <span class="comment">// best choices (which could happen for choices that are</span>
        <span class="comment">// altered with ReplaceAmbig()) we skip the adaption.</span>
        !<a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().CurrentBestChoiceIs(*(word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>)))
      <span class="keywordflow">return</span>;  <span class="comment">// Can&#39;t or won&#39;t adapt.</span>

    NumWordsAdaptedTo++;
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\nAdapting to word = %s\n&quot;</span>,
              word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());
    thresholds = <span class="keyword">new</span> <span class="keywordtype">float</span>[word_len];
    <a class="code" href="classtesseract_1_1_classify.html#a57d34f380d093913f3c3e74f7a7a9840">GetAdaptThresholds</a>(word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a211ab5c5a13123ee7bdc7459d3363f9d">rebuild_word</a>, word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a202d9d5d2a462d84012011c689e16605">denorm</a>, *word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,
                       *word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a>, thresholds);
  }
  <span class="keywordtype">int</span> start_blob = 0;
  <span class="keywordtype">char</span> prev_map_char = <span class="charliteral">&#39;0&#39;</span>;

<span class="preprocessor">  #ifndef GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a>) {
    <span class="keywordflow">if</span> (learn_fragmented_word_debug_win_ != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <a class="code" href="callcpp_8cpp.html#a51dc37eb580fe7f758275685e5ce0d59">window_wait</a>(learn_fragmented_word_debug_win_);
    }
    <a class="code" href="classtesseract_1_1_classify.html#a6e36e01c8147d95bbd64c6609e1b8f45">RefreshDebugWindow</a>(&amp;learn_fragments_debug_win_, <span class="stringliteral">&quot;LearnPieces&quot;</span>, 400,
                       word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#a8278c9db39975f181ad074bf343ea402">bounding_box</a>());
    <a class="code" href="classtesseract_1_1_classify.html#a6e36e01c8147d95bbd64c6609e1b8f45">RefreshDebugWindow</a>(&amp;learn_fragmented_word_debug_win_, <span class="stringliteral">&quot;LearnWord&quot;</span>, 200,
                       word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#a8278c9db39975f181ad074bf343ea402">bounding_box</a>());
    word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#afe89f2f31b48fa578028f2527b55e144">plot</a>(learn_fragmented_word_debug_win_);
    <a class="code" href="class_scroll_view.html#a0830a51981a20c8700b5ec49137e46e9">ScrollView::Update</a>();
  }
<span class="preprocessor">  #endif  // GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ch = 0; ch &lt; word_len; ++ch) {
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a>) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\nLearning %s\n&quot;</span>,  word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ae524416d2398009c92a5678105f3cbfb">correct_text</a>[ch].string());
    }
    <span class="keywordtype">char</span> rej_map_char = rejmap != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? *rejmap++ : <span class="charliteral">&#39;1&#39;</span>;

    <span class="keywordflow">if</span> (word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ae524416d2398009c92a5678105f3cbfb">correct_text</a>[ch].<a class="code" href="class_generic_vector.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; 0 &amp;&amp; rej_map_char == <span class="charliteral">&#39;1&#39;</span>) {
      <span class="keywordtype">float</span> threshold = thresholds != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? thresholds[ch] : 0.0f;

      <a class="code" href="classtesseract_1_1_classify.html#a0a6455e61097b98b01d180cd0b2748c9">LearnPieces</a>(filename, start_blob, word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch],
                  threshold, <a class="code" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240ab74e41d8efe1a9beae832eb1652096f5">CST_WHOLE</a>, word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ae524416d2398009c92a5678105f3cbfb">correct_text</a>[ch].string(), word);

      <span class="keywordflow">if</span> (word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch] &gt; 1 &amp;&amp; !<a class="code" href="classtesseract_1_1_classify.html#ab9c25bf0ebc01c57728e19b2bbc980ef">disable_character_fragments</a>) {
        <span class="comment">// Check that the character breaks into meaningful fragments</span>
        <span class="comment">// that each match a whole character with at least</span>
        <span class="comment">// classify_character_fragments_garbage_certainty_threshold</span>
        <span class="keywordtype">bool</span> garbage = <span class="keyword">false</span>;
        <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a>* frag_blob = word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="struct_t_w_e_r_d.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; start_blob; ++i) frag_blob = frag_blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;
        <span class="keywordtype">int</span> frag;
        for (frag = 0; frag &lt; word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch]; ++frag) {
          <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a342dfc4f244244bd1bc211ea910e2b12">classify_character_fragments_garbage_certainty_threshold</a> &lt; 0) {
            garbage |= <a class="code" href="classtesseract_1_1_classify.html#ab72f687048a2e1eba44b8ae2cfb07fa9">LooksLikeGarbage</a>(word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a202d9d5d2a462d84012011c689e16605">denorm</a>, frag_blob);
          }
          frag_blob = frag_blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;
        }
        <span class="comment">// Learn the fragments.</span>
        <span class="keywordflow">if</span> (!garbage) {
          <span class="keywordtype">bool</span> pieces_all_natural = word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#a96ed4fc2d1583d0e35e088432ab00a21">PiecesAllNatural</a>(start_blob,
              word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch]);
          <span class="keywordflow">if</span> (pieces_all_natural || !<a class="code" href="classtesseract_1_1_classify.html#a22717c4d299d3a52683ad90114b20200">prioritize_division</a>) {
            <span class="keywordflow">for</span> (frag = 0; frag &lt; word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch]; ++frag) {
              <a class="code" href="class_generic_vector.html">GenericVector&lt;STRING&gt;</a> tokens;
              word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ae524416d2398009c92a5678105f3cbfb">correct_text</a>[ch].split(<span class="charliteral">&#39; &#39;</span>, &amp;tokens);

              tokens[0] = <a class="code" href="class_c_h_a_r___f_r_a_g_m_e_n_t.html#ab7a7a173907f187f44677d2ad2679e09">CHAR_FRAGMENT::to_string</a>(
                  tokens[0].<span class="keywordtype">string</span>(), frag, word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch],
                  pieces_all_natural);

              <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> full_string;
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tokens.<a class="code" href="class_generic_vector.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); i++) {
                full_string += tokens[i];
                <span class="keywordflow">if</span> (i != tokens.<a class="code" href="class_generic_vector.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>() - 1)
                  full_string += <span class="charliteral">&#39; &#39;</span>;
              }
              <a class="code" href="classtesseract_1_1_classify.html#a0a6455e61097b98b01d180cd0b2748c9">LearnPieces</a>(filename, start_blob + frag, 1,
                          threshold, <a class="code" href="namespacetesseract.html#afe12112c1ca56d41c919d0f18dfdf240af7f038dab34772b9ddb631d46aa4126a">CST_FRAGMENT</a>, full_string.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), word);
            }
          }
        }
      }

      <span class="comment">// TODO(rays): re-enable this part of the code when we switch to the</span>
      <span class="comment">// new classifier that needs to see examples of garbage.</span>
      <span class="comment">/*</span>
<span class="comment">      char next_map_char = ch + 1 &lt; word_len</span>
<span class="comment">                           ? (rejmap != NULL ? *rejmap : &#39;1&#39;)</span>
<span class="comment">                           : &#39;0&#39;;</span>
<span class="comment">      if (word-&gt;best_state[ch] &gt; 1) {</span>
<span class="comment">        // If the next blob is good, make junk with the rightmost fragment.</span>
<span class="comment">        if (ch + 1 &lt; word_len &amp;&amp; word-&gt;correct_text[ch + 1].length() &gt; 0 &amp;&amp;</span>
<span class="comment">            next_map_char == &#39;1&#39;) {</span>
<span class="comment">          LearnPieces(filename, start_blob + word-&gt;best_state[ch] - 1,</span>
<span class="comment">                      word-&gt;best_state[ch + 1] + 1,</span>
<span class="comment">                      threshold, CST_IMPROPER, INVALID_UNICHAR, word);</span>
<span class="comment">        }</span>
<span class="comment">        // If the previous blob is good, make junk with the leftmost fragment.</span>
<span class="comment">        if (ch &gt; 0 &amp;&amp; word-&gt;correct_text[ch - 1].length() &gt; 0 &amp;&amp;</span>
<span class="comment">            prev_map_char == &#39;1&#39;) {</span>
<span class="comment">          LearnPieces(filename, start_blob - word-&gt;best_state[ch - 1],</span>
<span class="comment">                      word-&gt;best_state[ch - 1] + 1,</span>
<span class="comment">                      threshold, CST_IMPROPER, INVALID_UNICHAR, word);</span>
<span class="comment">        }</span>
<span class="comment">      }</span>
<span class="comment">      // If the next blob is good, make a join with it.</span>
<span class="comment">      if (ch + 1 &lt; word_len &amp;&amp; word-&gt;correct_text[ch + 1].length() &gt; 0 &amp;&amp;</span>
<span class="comment">          next_map_char == &#39;1&#39;) {</span>
<span class="comment">        STRING joined_text = word-&gt;correct_text[ch];</span>
<span class="comment">        joined_text += word-&gt;correct_text[ch + 1];</span>
<span class="comment">        LearnPieces(filename, start_blob,</span>
<span class="comment">                    word-&gt;best_state[ch] + word-&gt;best_state[ch + 1],</span>
<span class="comment">                    threshold, CST_NGRAM, joined_text.string(), word);</span>
<span class="comment">      }</span>
<span class="comment">      */</span>
    }
    start_blob += word-&gt;<a class="code" href="class_w_e_r_d___r_e_s.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[ch];
    prev_map_char = rej_map_char;
  }
  <span class="keyword">delete</span> [] thresholds;
}  <span class="comment">// LearnWord.</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ab72f687048a2e1eba44b8ae2cfb07fa9"></a><!-- doxytag: member="tesseract::Classify::LooksLikeGarbage" ref="ab72f687048a2e1eba44b8ae2cfb07fa9" args="(const DENORM &amp;denorm, TBLOB *blob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Classify::LooksLikeGarbage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01975">1975</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
  BLOB_CHOICE_LIST *ratings = <span class="keyword">new</span> BLOB_CHOICE_LIST();
  <a class="code" href="classtesseract_1_1_classify.html#a1f058451e32538b4dc2c853b82bc6600">AdaptiveClassifier</a>(blob, denorm, ratings, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  BLOB_CHOICE_IT ratings_it(ratings);
  <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a> = <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset();
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a>) {
    <a class="code" href="ratngs_8cpp.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;======================\nLooksLikeGarbage() got &quot;</span>,
                       ratings, unicharset);
  }
  <span class="keywordflow">for</span> (ratings_it.mark_cycle_pt(); !ratings_it.cycled_list();
       ratings_it.forward()) {
    <span class="keywordflow">if</span> (unicharset.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(ratings_it.data()-&gt;unichar_id()) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <span class="keywordflow">continue</span>;
    }
    <span class="keyword">delete</span> ratings;
    <span class="keywordflow">return</span> (ratings_it.data()-&gt;certainty() &lt;
            <a class="code" href="classtesseract_1_1_classify.html#a342dfc4f244244bd1bc211ea910e2b12">classify_character_fragments_garbage_certainty_threshold</a>);
  }
  <span class="keyword">delete</span> ratings;
  <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// no whole characters in ratings</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a59900939784eac1e2e6ebfec1f82bb58"></a><!-- doxytag: member="tesseract::Classify::MakeNewTemporaryConfig" ref="a59900939784eac1e2e6ebfec1f82bb58" args="(ADAPT_TEMPLATES Templates, CLASS_ID ClassId, int FontinfoId, int NumFeatures, INT_FEATURE_ARRAY Features, FEATURE_SET FloatFeatures)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::MakeNewTemporaryConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FontinfoId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NumFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a>&#160;</td>
          <td class="paramname"><em>Features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td>
          <td class="paramname"><em>FloatFeatures</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Templates</td><td>adapted templates to add new config to </td></tr>
    <tr><td class="paramname">ClassId</td><td>class id to associate with new config </td></tr>
    <tr><td class="paramname">FontinfoId</td><td>font information inferred from pre-trained templates </td></tr>
    <tr><td class="paramname">NumFeatures</td><td>number of features in IntFeatures </td></tr>
    <tr><td class="paramname">Features</td><td>features describing model for new config </td></tr>
    <tr><td class="paramname">FloatFeatures</td><td>floating-pt representation of features</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The id of the new config created, a negative integer in case of error. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Fri Mar 15 08:49:46 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02116">2116</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                      {
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> IClass;
  <a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html">ADAPT_CLASS</a> Class;
  <a class="code" href="matchdefs_8h.html#ac80a5d84c2805bfd10ac129d949f8b80">PROTO_ID</a> OldProtos[<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>];
  <a class="code" href="matchdefs_8h.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a> BadFeatures[<a class="code" href="baseapi_8h.html#a4f7caedc4bed99355cae19efa51ade51">MAX_NUM_INT_FEATURES</a>];
  <span class="keywordtype">int</span> NumOldProtos;
  <span class="keywordtype">int</span> NumBadFeatures;
  <span class="keywordtype">int</span> MaxProtoId, OldMaxProtoId;
  <span class="keywordtype">int</span> BlobLength = 0;
  <span class="keywordtype">int</span> MaskSize;
  <span class="keywordtype">int</span> ConfigId;
  <a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html">TEMP_CONFIG</a> <a class="code" href="commontraining_8cpp.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>;
  <span class="keywordtype">int</span> i;
  <span class="keywordtype">int</span> debug_level = <a class="code" href="adaptmatch_8cpp.html#a424f1b989129c5519f4df8f61ad6dcaf">NO_DEBUG</a>;

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 3)
    debug_level =
        <a class="code" href="intproto_8h.html#aa2ca7d346731ee98e1ef445c0313d0db">PRINT_MATCH_SUMMARY</a> | <a class="code" href="intproto_8h.html#af5131c6984c3afc47e8344ae4a440ccd">PRINT_FEATURE_MATCHES</a> | <a class="code" href="intproto_8h.html#aed2eae56505e79fb4ad49057437bd377">PRINT_PROTO_MATCHES</a>;

  IClass = <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a>(Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, ClassId);
  Class = Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ClassId];

  <span class="keywordflow">if</span> (IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a> &gt;= <a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>) {
    ++NumAdaptationsFailed;
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Cannot make new temporary config: maximum number exceeded.\n&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  OldMaxProtoId = IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a> - 1;

  NumOldProtos = <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aca707de9917b1cf3f19859aa94762ec8">FindGoodProtos</a>(IClass, <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, <a class="code" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a>,
                                    BlobLength, NumFeatures, Features,
                                    OldProtos, <a class="code" href="classtesseract_1_1_classify.html#a3d74369343952e81efa5ac8858d5e9d1">classify_adapt_proto_threshold</a>,
                                    debug_level);

  MaskSize = <a class="code" href="bitvec_8h.html#a905ff9b6c51cb231dd8baf1713a3c9b8">WordsInVectorOfSize</a>(<a class="code" href="intproto_8h.html#a3e890a5d21d8456ad197510fd7caf277">MAX_NUM_PROTOS</a>);
  <a class="code" href="bitvec_8h.html#a33e25946d45a1e004a961dc46cb5226a">zero_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>, MaskSize);
  <span class="keywordflow">for</span> (i = 0; i &lt; NumOldProtos; i++)
    <a class="code" href="bitvec_8h.html#ab02d606cf8dca49ccadb00248bdbafe9">SET_BIT</a>(<a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>, OldProtos[i]);

  NumBadFeatures = <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#a174bbfbb928c62b6e36c4f116e480de0">FindBadFeatures</a>(IClass, <a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>, <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>,
                                       BlobLength, NumFeatures, Features,
                                       BadFeatures,
                                       <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>,
                                       debug_level);

  MaxProtoId = <a class="code" href="classtesseract_1_1_classify.html#adc0facdf672d23f65612b56b4a5f523a">MakeNewTempProtos</a>(FloatFeatures, NumBadFeatures, BadFeatures,
                                 IClass, Class, <a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>);
  <span class="keywordflow">if</span> (MaxProtoId == <a class="code" href="matchdefs_8h.html#a4d2ae3978d57e3b05f984a0fedc51812">NO_PROTO</a>) {
    ++NumAdaptationsFailed;
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Cannot make new temp protos: maximum number exceeded.\n&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  ConfigId = <a class="code" href="intproto_8cpp.html#a569488473772d42004fec43399e6d5a9">AddIntConfig</a>(IClass);
  <a class="code" href="intproto_8cpp.html#a57b07752bea2110e2503cf78747228c5">ConvertConfig</a>(<a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>, ConfigId, IClass);
  Config = <a class="code" href="adaptive_8cpp.html#af29bddcf8cc7f50548382c9594716559">NewTempConfig</a>(MaxProtoId, FontinfoId);
  <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a>(Class, ConfigId) = <a class="code" href="commontraining_8cpp.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>;
  <a class="code" href="bitvec_8h.html#ae535f23da300bdf6ea284fc5e85ca14a">copy_all_bits</a>(<a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>, Config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a2ea5edb90b556766fce2105dcdfe3141">Protos</a>, Config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#ab21bd28ad8f7448dcdc327ac13dbe553">ProtoVectorSize</a>);

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1)
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Making new temp config %d fontinfo id %d&quot;</span>
            <span class="stringliteral">&quot; using %d old and %d new protos.\n&quot;</span>,
            ConfigId, Config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a76b02dedaede2e6e34653155be6f8c7b">FontinfoId</a>,
            NumOldProtos, MaxProtoId - OldMaxProtoId);

  <span class="keywordflow">return</span> ConfigId;
}                              <span class="comment">/* MakeNewTemporaryConfig */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="adc0facdf672d23f65612b56b4a5f523a"></a><!-- doxytag: member="tesseract::Classify::MakeNewTempProtos" ref="adc0facdf672d23f65612b56b4a5f523a" args="(FEATURE_SET Features, int NumBadFeat, FEATURE_ID BadFeat[], INT_CLASS IClass, ADAPT_CLASS Class, BIT_VECTOR TempProtoMask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="matchdefs_8h.html#ac80a5d84c2805bfd10ac129d949f8b80">PROTO_ID</a> tesseract::Classify::MakeNewTempProtos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ocrfeatures_8h.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td>
          <td class="paramname"><em>Features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NumBadFeat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a>&#160;</td>
          <td class="paramname"><em>BadFeat</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a>&#160;</td>
          <td class="paramname"><em>IClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a>&#160;</td>
          <td class="paramname"><em>Class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td>
          <td class="paramname"><em>TempProtoMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine finds sets of sequential bad features that all have the same angle and converts each set into a new temporary proto. The temp proto is added to the proto pruner for IClass, pushed onto the list of temp protos in Class, and added to TempProtoMask.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Features</td><td>floating-pt features describing new character </td></tr>
    <tr><td class="paramname">NumBadFeat</td><td>number of bad features to turn into protos </td></tr>
    <tr><td class="paramname">BadFeat</td><td>feature id's of bad features </td></tr>
    <tr><td class="paramname">IClass</td><td>integer class templates to add new protos to </td></tr>
    <tr><td class="paramname">Class</td><td>adapted class templates to add new protos to </td></tr>
    <tr><td class="paramname">TempProtoMask</td><td>proto mask to add new protos to</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Max proto id in class after all protos have been added. Exceptions: none History: Fri Mar 15 11:39:38 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02213">2213</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
  <a class="code" href="matchdefs_8h.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a> *ProtoStart;
  <a class="code" href="matchdefs_8h.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a> *ProtoEnd;
  <a class="code" href="matchdefs_8h.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a> *LastBad;
  <a class="code" href="struct_t_e_m_p___p_r_o_t_o___s_t_r_u_c_t.html">TEMP_PROTO</a> TempProto;
  <a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html">PROTO</a> Proto;
  <a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE</a> F1, F2;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> X1, X2, Y1, Y2;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> A1, A2, AngleDelta;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> SegmentLength;
  <a class="code" href="matchdefs_8h.html#ac80a5d84c2805bfd10ac129d949f8b80">PROTO_ID</a> Pid;

  <span class="keywordflow">for</span> (ProtoStart = BadFeat, LastBad = ProtoStart + NumBadFeat;
       ProtoStart &lt; LastBad; ProtoStart = ProtoEnd) {
    F1 = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a4664d6a22a9d12f4011de4d877664c45">Features</a>[*ProtoStart];
    X1 = F1-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>];
    Y1 = F1-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>];
    A1 = F1-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>];

    <span class="keywordflow">for</span> (ProtoEnd = ProtoStart + 1,
         SegmentLength = <a class="code" href="picofeat_8h.html#a35f5a174efc9c6197837aaf5544c78f2">GetPicoFeatureLength</a>();
         ProtoEnd &lt; LastBad;
         ProtoEnd++, SegmentLength += <a class="code" href="picofeat_8h.html#a35f5a174efc9c6197837aaf5544c78f2">GetPicoFeatureLength</a>()) {
      F2 = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a4664d6a22a9d12f4011de4d877664c45">Features</a>[*ProtoEnd];
      X2 = F2-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>];
      Y2 = F2-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>];
      A2 = F2-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>];

      AngleDelta = fabs(A1 - A2);
      <span class="keywordflow">if</span> (AngleDelta &gt; 0.5)
        AngleDelta = 1.0 - AngleDelta;

      <span class="keywordflow">if</span> (AngleDelta &gt; <a class="code" href="classtesseract_1_1_classify.html#a76bc2aed534982a6b67afe8a6653b04f">matcher_clustering_max_angle_delta</a> ||
          fabs(X1 - X2) &gt; SegmentLength ||
          fabs(Y1 - Y2) &gt; SegmentLength)
        <span class="keywordflow">break</span>;
    }

    F2 = Features-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_e_t___s_t_r_u_c_t.html#a4664d6a22a9d12f4011de4d877664c45">Features</a>[*(ProtoEnd - 1)];
    X2 = F2-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>];
    Y2 = F2-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>];
    A2 = F2-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>];

    Pid = <a class="code" href="intproto_8cpp.html#a4c27266652a51cf8aaa866d299f57301">AddIntProto</a>(IClass);
    <span class="keywordflow">if</span> (Pid == <a class="code" href="matchdefs_8h.html#a4d2ae3978d57e3b05f984a0fedc51812">NO_PROTO</a>)
      <span class="keywordflow">return</span> (<a class="code" href="matchdefs_8h.html#a4d2ae3978d57e3b05f984a0fedc51812">NO_PROTO</a>);

    TempProto = <a class="code" href="adaptive_8cpp.html#a5dec565ee3ad1656d02860db322e4448">NewTempProto</a>();
    Proto = &amp;(TempProto-&gt;<a class="code" href="struct_t_e_m_p___p_r_o_t_o___s_t_r_u_c_t.html#acf720eb61d4a91e84d949a6f772ea7c5">Proto</a>);

    <span class="comment">/* compute proto params - NOTE that Y_DIM_OFFSET must be used because</span>
<span class="comment">       ConvertProto assumes that the Y dimension varies from -0.5 to 0.5</span>
<span class="comment">       instead of the -0.25 to 0.75 used in baseline normalization */</span>
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> = SegmentLength;
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> = A1;
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> = (X1 + X2) / 2.0;
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> = (Y1 + Y2) / 2.0 - <a class="code" href="adaptmatch_8cpp.html#ac5fe456fd5a30097c95a104b29c45cc3">Y_DIM_OFFSET</a>;
    <a class="code" href="protos_8cpp.html#ac0d58978bbcf0c732ae94fb554bccd3b">FillABC</a>(Proto);

    TempProto-&gt;<a class="code" href="struct_t_e_m_p___p_r_o_t_o___s_t_r_u_c_t.html#a93992200ebfddd13e25d0e9122af9b5b">ProtoId</a> = Pid;
    <a class="code" href="bitvec_8h.html#ab02d606cf8dca49ccadb00248bdbafe9">SET_BIT</a>(<a class="code" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>, Pid);

    <a class="code" href="classtesseract_1_1_classify.html#af27d604585502bd447d52bf5daf15d0d">ConvertProto</a>(Proto, Pid, IClass);
    <a class="code" href="intproto_8cpp.html#aec09adc2735bb4caaf226df7124e4ed7">AddProtoToProtoPruner</a>(Proto, Pid, IClass,
                          <a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 2);

    Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a> = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a>(Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a>, TempProto);
  }
  <span class="keywordflow">return</span> IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a> - 1;
}                              <span class="comment">/* MakeNewTempProtos */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aefb0cfe284dd67601798f7ae510b787f"></a><!-- doxytag: member="tesseract::Classify::MakePermanent" ref="aefb0cfe284dd67601798f7ae510b787f" args="(ADAPT_TEMPLATES Templates, CLASS_ID ClassId, int ConfigId, const DENORM &amp;denorm, TBLOB *Blob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::MakePermanent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ConfigId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Templates</td><td>current set of adaptive templates </td></tr>
    <tr><td class="paramname">ClassId</td><td>class containing config to be made permanent </td></tr>
    <tr><td class="paramname">ConfigId</td><td>config to be made permanent </td></tr>
    <tr><td class="paramname">Blob</td><td>current blob being adapted to</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Thu Mar 14 15:54:08 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02302">2302</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
  <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *Ambigs;
  <a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html">TEMP_CONFIG</a> <a class="code" href="commontraining_8cpp.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>;
  <a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html">ADAPT_CLASS</a> Class;
  <a class="code" href="struct_p_r_o_t_o___k_e_y.html">PROTO_KEY</a> ProtoKey;

  Class = Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ClassId];
  Config = <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a>(Class, ConfigId);

  <a class="code" href="adaptive_8h.html#a43dd293941046156e425af5080c56228">MakeConfigPermanent</a>(Class, ConfigId);
  <span class="keywordflow">if</span> (Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#afe5769d3f67549e0938480aab2d2b1cd">NumPermConfigs</a> == 0)
    Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#ac4e39261d76ebdd092eeb754fe1e15c3">NumPermClasses</a>++;
  Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#afe5769d3f67549e0938480aab2d2b1cd">NumPermConfigs</a>++;

  <span class="comment">// Initialize permanent config.</span>
  Ambigs = <a class="code" href="classtesseract_1_1_classify.html#af4c186f6ec1019d17912d2cf36326f1f">GetAmbiguities</a>(Blob, denorm, ClassId);
  <a class="code" href="struct_p_e_r_m___c_o_n_f_i_g___s_t_r_u_c_t.html">PERM_CONFIG</a> Perm = (<a class="code" href="adaptive_8h.html#a461ee34b392d9264f8ff553d28029c52">PERM_CONFIG</a>) <a class="code" href="memry_8cpp.html#a4f4e6728de23eb0530f9bdc8b3a114d3">alloc_struct</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_p_e_r_m___c_o_n_f_i_g___s_t_r_u_c_t.html">PERM_CONFIG_STRUCT</a>),
                                                <span class="stringliteral">&quot;PERM_CONFIG_STRUCT&quot;</span>);
  Perm-&gt;<a class="code" href="struct_p_e_r_m___c_o_n_f_i_g___s_t_r_u_c_t.html#ad64b24b19468c44594a84a71f5515bf8">Ambigs</a> = Ambigs;
  Perm-&gt;<a class="code" href="struct_p_e_r_m___c_o_n_f_i_g___s_t_r_u_c_t.html#a81ce1dd96fbaed7c30c47bc6a1d19d92">FontinfoId</a> = Config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a76b02dedaede2e6e34653155be6f8c7b">FontinfoId</a>;

  <span class="comment">// Free memory associated with temporary config (since ADAPTED_CONFIG</span>
  <span class="comment">// is a union we need to clean up before we record permanent config).</span>
  ProtoKey.<a class="code" href="struct_p_r_o_t_o___k_e_y.html#a88e8ec3116b1ca5e8c0a57a2236f83ed">Templates</a> = Templates;
  ProtoKey.<a class="code" href="struct_p_r_o_t_o___k_e_y.html#a45ade2ad8d07fe98968e6a6795680f0a">ClassId</a> = ClassId;
  ProtoKey.<a class="code" href="struct_p_r_o_t_o___k_e_y.html#ab4a673ae9bd6272302ea460d336bc80e">ConfigId</a> = ConfigId;
  Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a> = <a class="code" href="oldlist_8cpp.html#a1fa3ecce52a0563f595b8f1428cc1211">delete_d</a>(Class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a>, &amp;ProtoKey, <a class="code" href="adaptmatch_8cpp.html#aeb798d8e9e1be9d25261b8a604910d0d">MakeTempProtoPerm</a>);
  <a class="code" href="adaptive_8cpp.html#a69bbd5a22930a7f4cc2d85f49b468b67">FreeTempConfig</a>(Config);

  <span class="comment">// Record permanent config.</span>
  <a class="code" href="adaptive_8h.html#aea4d5dd0059c222f111f9537af74a325">PermConfigFor</a>(Class, ConfigId) = Perm;

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Making config %d for %s (ClassId %d) permanent:&quot;</span>
            <span class="stringliteral">&quot; fontinfo id %d, ambiguities &#39;&quot;</span>,
            ConfigId, <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().debug_str(ClassId).<span class="keywordtype">string</span>(),
            ClassId, <a class="code" href="adaptive_8h.html#aea4d5dd0059c222f111f9537af74a325">PermConfigFor</a>(Class, ConfigId)-&gt;FontinfoId);
    <span class="keywordflow">for</span> (<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *AmbigsPointer = Ambigs;
        *AmbigsPointer &gt;= 0; ++AmbigsPointer)
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(*AmbigsPointer));
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;&#39;.\n&quot;</span>);
  }
}                              <span class="comment">/* MakePermanent */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a9df3ff8623acd0ab30286ace7362045c"></a><!-- doxytag: member="tesseract::Classify::MasterMatcher" ref="a9df3ff8623acd0ab30286ace7362045c" args="(INT_TEMPLATES templates, inT16 num_features, const INT_FEATURE_STRUCT *features, const uinT8 *norm_factors, ADAPT_CLASS *classes, int debug, int num_classes, const TBOX &amp;blob_box, CLASS_PRUNER_RESULTS results, ADAPT_RESULTS *final_results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::MasterMatcher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>norm_factors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *&#160;</td>
          <td class="paramname"><em>classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_b_o_x.html">TBOX</a> &amp;&#160;</td>
          <td class="paramname"><em>blob_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intmatcher_8h.html#aad58739a624ab51ab180aac3342c6efc">CLASS_PRUNER_RESULTS</a>&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>final_results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Factored-out calls to <a class="el" href="class_integer_matcher.html">IntegerMatcher</a> based on class pruner results. Returns integer matcher results inside CLASS_PRUNER_RESULTS structure. </p>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01248">1248</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
  <span class="keywordtype">int</span> top = blob_box.<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>();
  <span class="keywordtype">int</span> bottom = blob_box.<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>();
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; num_classes; c++) {
    <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id = results[c].Class;
    <a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a>&amp; int_result = results[c].IMResult;
    <a class="code" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> protos = classes != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? classes[class_id]-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a0dd8b01d8c5cc59c77098cdb268ce1ea">PermProtos</a>
                                        : <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>;
    <a class="code" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> configs = classes != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? classes[class_id]-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#ad19f8e0d6520b447871c5d958b367bf4">PermConfigs</a>
                                         : <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>;

    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a>(templates, class_id),
              protos, configs,
              num_features, features,
              &amp;int_result, <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>, debug,
              <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
    <span class="keywordtype">bool</span> debug = <a class="code" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a> &gt;= 2 || <a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &gt; 1;
    <a class="code" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a>(classes, debug, class_id, bottom, top,
                                    results[c].Rating,
                                    final_results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a96c25b6f847b7f8ebc3817ee73f73236">BlobLength</a>, norm_factors,
                                    int_result, final_results);
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a28ddc270cb5d2613f5f0f24ad53a5a21"></a><!-- doxytag: member="tesseract::Classify::NewAdaptedTemplates" ref="a28ddc270cb5d2613f5f0f24ad53a5a21" args="(bool InitFromUnicharset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> tesseract::Classify::NewAdaptedTemplates </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>InitFromUnicharset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocates memory for adapted tempates. each char in unicharset to the newly created templates</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">PopulateFromUnicharset</td><td>if true, add an empty class for </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Ptr to new adapted templates.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Globals: none </dd>
<dd>
Exceptions: none </dd>
<dd>
History: Fri Mar 8 10:15:28 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptive_8cpp_source.html#l00167">167</a> of file <a class="el" href="adaptive_8cpp_source.html">adaptive.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
  <a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">ADAPT_TEMPLATES</a> Templates;
  <span class="keywordtype">int</span> i;

  Templates = (<a class="code" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">ADAPT_TEMPLATES_STRUCT</a>));

  Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a> = <a class="code" href="intproto_8cpp.html#a020880b72d2d68c69edba44494fce647">NewIntTemplates</a> ();
  Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#ac4e39261d76ebdd092eeb754fe1e15c3">NumPermClasses</a> = 0;
  Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#aa644a299b7046916ce731566866df325">NumNonEmptyClasses</a> = 0;

  <span class="comment">/* Insert an empty class for each unichar id in unicharset */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>; i++) {
    Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[i] = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <span class="keywordflow">if</span> (InitFromUnicharset &amp;&amp; i &lt; <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>()) {
      <a class="code" href="adaptive_8cpp.html#a24dee29813d20462932722df976fd062">AddAdaptedClass</a>(Templates, <a class="code" href="adaptive_8cpp.html#ab0586da849c1ffcb5f1ba8c7de9c571a">NewAdaptedClass</a>(), i);
    }
  }

  <span class="keywordflow">return</span> (Templates);

}                                <span class="comment">/* NewAdaptedTemplates */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8cbc3c255f888cc49c713c0a7408d2ad"></a><!-- doxytag: member="tesseract::Classify::NormalizeOutlines" ref="a8cbc3c255f888cc49c713c0a7408d2ad" args="(LIST Outlines, FLOAT32 *XScale, FLOAT32 *YScale)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::NormalizeOutlines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a>&#160;</td>
          <td class="paramname"><em>Outlines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>XScale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>YScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mfoutline_8cpp_source.html#l00346">346</a> of file <a class="el" href="mfoutline_8cpp_source.html">mfoutline.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
<span class="comment">/*</span>
<span class="comment"> ** Parameters:</span>
<span class="comment"> **   Outlines  list of outlines to be normalized</span>
<span class="comment"> **   XScale    x-direction scale factor used by routine</span>
<span class="comment"> **   YScale    y-direction scale factor used by routine</span>
<span class="comment"> ** Globals:</span>
<span class="comment"> **   classify_norm_method  method being used for normalization</span>
<span class="comment"> **   classify_char_norm_range map radius of gyration to this value</span>
<span class="comment"> ** Operation: This routine normalizes every outline in Outlines</span>
<span class="comment"> **   according to the currently selected normalization method.</span>
<span class="comment"> **   It also returns the scale factors that it used to do this</span>
<span class="comment"> **   scaling.  The scale factors returned represent the x and</span>
<span class="comment"> **   y sizes in the normalized coordinate system that correspond</span>
<span class="comment"> **   to 1 pixel in the original coordinate system.</span>
<span class="comment"> ** Return: none (Outlines are changed and XScale and YScale are updated)</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Fri Dec 14 08:14:55 1990, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="structlist__rec.html">MFOUTLINE</a> Outline;
  <a class="code" href="struct_o_u_t_l_i_n_e___s_t_a_t_s.html">OUTLINE_STATS</a> OutlineStats;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> BaselineScale;

  <span class="keywordflow">switch</span> (<a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>) {
    <span class="keywordflow">case</span> <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>:
      <a class="code" href="mfoutline_8cpp.html#a84a628621cc7dc5eb36614c785a098a9">ComputeOutlineStats</a>(Outlines, &amp;OutlineStats);

      <span class="comment">/* limit scale factor to avoid overscaling small blobs (.,`&#39;),</span>
<span class="comment">         thin blobs (l1ift), and merged blobs */</span>
      *XScale = *YScale = BaselineScale = <a class="code" href="mfoutline_8h.html#a91645597f620e8307a65e8ab35d963b8">MF_SCALE_FACTOR</a>;
      *XScale *= OutlineStats.<a class="code" href="struct_o_u_t_l_i_n_e___s_t_a_t_s.html#afb6d2229fa00b3a255aa11efa7894527">Ry</a>;
      *YScale *= OutlineStats.<a class="code" href="struct_o_u_t_l_i_n_e___s_t_a_t_s.html#a44df0e96a471cc5e0380b52d04eec549">Rx</a>;
      <span class="keywordflow">if</span> (*XScale &lt; <a class="code" href="classtesseract_1_1_classify.html#a8ffda27cc071fa6c63c406fe9749f276">classify_min_norm_scale_x</a>)
        *XScale = <a class="code" href="classtesseract_1_1_classify.html#a8ffda27cc071fa6c63c406fe9749f276">classify_min_norm_scale_x</a>;
      <span class="keywordflow">if</span> (*YScale &lt; <a class="code" href="classtesseract_1_1_classify.html#a0d1928e7dac3c17776220d35f08a48ec">classify_min_norm_scale_y</a>)
        *YScale = <a class="code" href="classtesseract_1_1_classify.html#a0d1928e7dac3c17776220d35f08a48ec">classify_min_norm_scale_y</a>;
      <span class="keywordflow">if</span> (*XScale &gt; <a class="code" href="classtesseract_1_1_classify.html#a3f89a54fbee53fa65e3d2c2947dab449">classify_max_norm_scale_x</a> &amp;&amp;
          *YScale &lt;= <a class="code" href="classtesseract_1_1_classify.html#addf6334cb29c021e52587f20ac5b30b2">classify_max_norm_scale_y</a>)
        *XScale = <a class="code" href="classtesseract_1_1_classify.html#a3f89a54fbee53fa65e3d2c2947dab449">classify_max_norm_scale_x</a>;
      *XScale = <a class="code" href="classtesseract_1_1_classify.html#a7bef23fa815b3c02261800ca82b05911">classify_char_norm_range</a> * BaselineScale / *XScale;
      *YScale = <a class="code" href="classtesseract_1_1_classify.html#a7bef23fa815b3c02261800ca82b05911">classify_char_norm_range</a> * BaselineScale / *YScale;

      <a class="code" href="oldlist_8h.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Outlines) {
        Outline = (<a class="code" href="mfoutline_8h.html#a7ccab0cdf14413921e017ad0af14e1de">MFOUTLINE</a>) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (Outlines);
        <a class="code" href="mfoutline_8cpp.html#a5918c653f568c2a6e5aa43569c01f346">CharNormalizeOutline</a> (Outline,
          OutlineStats.<a class="code" href="struct_o_u_t_l_i_n_e___s_t_a_t_s.html#a2e72d57afc14290aef97b17bba52cd98">x</a>, OutlineStats.<a class="code" href="struct_o_u_t_l_i_n_e___s_t_a_t_s.html#a27f428c88f5d21ad9125a93c30d73699">y</a>,
          *XScale, *YScale);
      }
      <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>:
      <a class="code" href="oldlist_8h.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Outlines) {
        Outline = (<a class="code" href="mfoutline_8h.html#a7ccab0cdf14413921e017ad0af14e1de">MFOUTLINE</a>) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a>(Outlines);
        <a class="code" href="mfoutline_8cpp.html#a30b1492f0756c31499da0157ecba50ff">NormalizeOutline</a>(Outline, 0.0);
      }
      *XScale = *YScale = <a class="code" href="mfoutline_8h.html#a91645597f620e8307a65e8ab35d963b8">MF_SCALE_FACTOR</a>;
      <span class="keywordflow">break</span>;
  }
}                                <span class="comment">/* NormalizeOutlines */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a15d6951abc586793270de0825bdb7dd7"></a><!-- doxytag: member="tesseract::Classify::PrintAdaptedTemplates" ref="a15d6951abc586793270de0825bdb7dd7" args="(FILE *File, ADAPT_TEMPLATES Templates)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::PrintAdaptedTemplates </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine prints a summary of the adapted templates in Templates to File.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">File</td><td>open text file to print Templates to </td></tr>
    <tr><td class="paramname">Templates</td><td>adapted templates to print to File</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Globals: none </dd>
<dd>
Exceptions: none </dd>
<dd>
History: Wed Mar 20 13:35:29 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptive_8cpp_source.html#l00273">273</a> of file <a class="el" href="adaptive_8cpp_source.html">adaptive.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
  <span class="keywordtype">int</span> i;
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> IClass;
  <a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html">ADAPT_CLASS</a> AClass;

<span class="preprocessor">  #ifndef SECURE_NAMES</span>
<span class="preprocessor"></span>  fprintf (File, <span class="stringliteral">&quot;\n\nSUMMARY OF ADAPTED TEMPLATES:\n\n&quot;</span>);
  fprintf (File, <span class="stringliteral">&quot;Num classes = %d;  Num permanent classes = %d\n\n&quot;</span>,
           Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#aa644a299b7046916ce731566866df325">NumNonEmptyClasses</a>, Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#ac4e39261d76ebdd092eeb754fe1e15c3">NumPermClasses</a>);
  fprintf (File, <span class="stringliteral">&quot;   Id  NC NPC  NP NPP\n&quot;</span>);
  fprintf (File, <span class="stringliteral">&quot;------------------------\n&quot;</span>);

  <span class="keywordflow">for</span> (i = 0; i &lt; (Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>)-&gt;NumClasses; i++) {
    IClass = Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a2083307ebe623a6617ff38291a2f3614">Class</a>[i];
    AClass = Templates-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[i];
    <span class="keywordflow">if</span> (!<a class="code" href="adaptive_8h.html#a1d2aa2b696e73525cb57373fcc5a83ae">IsEmptyAdaptedClass</a> (AClass)) {
      fprintf (File, <span class="stringliteral">&quot;%5d  %s %3d %3d %3d %3d\n&quot;</span>,
        i, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(i),
      IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>, AClass-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#afe5769d3f67549e0938480aab2d2b1cd">NumPermConfigs</a>,
      IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>,
      IClass-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a> - <a class="code" href="oldlist_8cpp.html#acd4ea858d7133e40518e0832ff9d94b2">count</a> (AClass-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a879b5ee2f46335fe784fd4c266f8a37c">TempProtos</a>));
    }
  }
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>  fprintf (File, <span class="stringliteral">&quot;\n&quot;</span>);

}                                <span class="comment">/* PrintAdaptedTemplates */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aad46f714847619694546e9ea2784402c"></a><!-- doxytag: member="tesseract::Classify::PrintAdaptiveMatchResults" ref="aad46f714847619694546e9ea2784402c" args="(FILE *File, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::PrintAdaptiveMatchResults </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine writes the matches in Results to File.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">File</td><td>open text file to write Results to </td></tr>
    <tr><td class="paramname">Results</td><td>match results to write to File</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Mon Mar 18 09:24:53 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02403">2403</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                           {
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; ++i) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s(%d), shape %d, %.2f  &quot;</span>,
            <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a2543f3cb2b8da0160a87088940cc58d2">debug_str</a>(Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>).<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(),
            Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>, Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#ab3db24ffe2690f52d86053ba1f631520">shape_id</a>,
            Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[i].<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> * 100.0);
  }
  <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
}                              <span class="comment">/* PrintAdaptiveMatchResults */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8c350afec3f633660d20eb98226a40d1"></a><!-- doxytag: member="tesseract::Classify::PrintAdaptiveStatistics" ref="a8c350afec3f633660d20eb98226a40d1" args="(FILE *File)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::PrintAdaptiveStatistics </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Print to File the statistics which have been gathered for the adaptive matcher.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">File</td><td>open text file to print adaptive statistics to</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Thu Apr 18 14:37:37 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00660">660</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
<span class="preprocessor">  #ifndef SECURE_NAMES</span>
<span class="preprocessor"></span>
  fprintf (File, <span class="stringliteral">&quot;\nADAPTIVE MATCHER STATISTICS:\n&quot;</span>);
  fprintf (File, <span class="stringliteral">&quot;\tNum blobs classified = %d\n&quot;</span>, AdaptiveMatcherCalls);
  fprintf (File, <span class="stringliteral">&quot;\tNum classes output   = %d (Avg = %4.2f)\n&quot;</span>,
    NumClassesOutput,
    ((AdaptiveMatcherCalls == 0) ? (0.0) :
  ((<span class="keywordtype">float</span>) NumClassesOutput / AdaptiveMatcherCalls)));
  fprintf (File, <span class="stringliteral">&quot;\t\tBaseline Classifier: %4d calls (%4.2f classes/call)\n&quot;</span>,
    BaselineClassifierCalls,
    ((BaselineClassifierCalls == 0) ? (0.0) :
  ((<span class="keywordtype">float</span>) NumBaselineClassesTried / BaselineClassifierCalls)));
  fprintf (File, <span class="stringliteral">&quot;\t\tCharNorm Classifier: %4d calls (%4.2f classes/call)\n&quot;</span>,
    CharNormClassifierCalls,
    ((CharNormClassifierCalls == 0) ? (0.0) :
  ((<span class="keywordtype">float</span>) NumCharNormClassesTried / CharNormClassifierCalls)));
  fprintf (File, <span class="stringliteral">&quot;\t\tAmbig    Classifier: %4d calls (%4.2f classes/call)\n&quot;</span>,
    AmbigClassifierCalls,
    ((AmbigClassifierCalls == 0) ? (0.0) :
  ((<span class="keywordtype">float</span>) NumAmbigClassesTried / AmbigClassifierCalls)));

  fprintf (File, <span class="stringliteral">&quot;\nADAPTIVE LEARNER STATISTICS:\n&quot;</span>);
  fprintf (File, <span class="stringliteral">&quot;\tNumber of words adapted to: %d\n&quot;</span>, NumWordsAdaptedTo);
  fprintf (File, <span class="stringliteral">&quot;\tNumber of chars adapted to: %d\n&quot;</span>, NumCharsAdaptedTo);

  <a class="code" href="classtesseract_1_1_classify.html#a15d6951abc586793270de0825bdb7dd7">PrintAdaptedTemplates</a>(File, <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>}                                <span class="comment">/* PrintAdaptiveStatistics */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af60b52006bbea0cc1727d543c3fcd1ad"></a><!-- doxytag: member="tesseract::Classify::PruneClasses" ref="af60b52006bbea0cc1727d543c3fcd1ad" args="(const INT_TEMPLATES_STRUCT *int_templates, int num_features, const INT_FEATURE_STRUCT *features, const uinT8 *normalization_factors, const uinT16 *expected_num_features, CP_RESULT_STRUCT *results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::PruneClasses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>int_templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i_n_t___f_e_a_t_u_r_e___s_t_r_u_c_t.html">INT_FEATURE_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *&#160;</td>
          <td class="paramname"><em>normalization_factors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> *&#160;</td>
          <td class="paramname"><em>expected_num_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_p___r_e_s_u_l_t___s_t_r_u_c_t.html">CP_RESULT_STRUCT</a> *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intmatcher_8cpp_source.html#l00405">405</a> of file <a class="el" href="intmatcher_8cpp_source.html">intmatcher.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                      {
<span class="comment">/*</span>
<span class="comment"> **  Operation:</span>
<span class="comment"> **    Prunes the classes using a modified fast match table.</span>
<span class="comment"> **    Returns a sorted list of classes along with the number</span>
<span class="comment"> **      of pruned classes in that list.</span>
<span class="comment"> **  Return: Number of pruned classes.</span>
<span class="comment"> **  Exceptions: none</span>
<span class="comment"> **  History: Tue Feb 19 10:24:24 MST 1991, RWM, Created.</span>
<span class="comment"> */</span>
  ClassPruner pruner(int_templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>);
  <span class="comment">// Compute initial match scores for all classes.</span>
  pruner.ComputeScores(int_templates, num_features, features);
  <span class="comment">// Adjust match scores for number of expected features.</span>
  pruner.AdjustForExpectedNumFeatures(expected_num_features,
                                      <a class="code" href="classtesseract_1_1_classify.html#a2f3faf7d282a1b58b10b3866693a4f08">classify_cp_cutoff_strength</a>);
  <span class="comment">// Apply disabled classes in unicharset - only works without a shape_table.</span>
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    pruner.DisableDisabledClasses(<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);
  <span class="comment">// If fragments are disabled, remove them, also only without a shape table.</span>
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#ab9c25bf0ebc01c57728e19b2bbc980ef">disable_character_fragments</a> &amp;&amp; <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    pruner.DisableFragments(<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);

  <span class="comment">// If we have good x-heights, apply the given normalization factors.</span>
  <span class="keywordflow">if</span> (normalization_factors != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    pruner.NormalizeForXheight(<a class="code" href="classtesseract_1_1_classify.html#a406c1644ce61dfb376ae9975f89c54ba">classify_class_pruner_multiplier</a>,
                               normalization_factors);
  } <span class="keywordflow">else</span> {
    pruner.NoNormalization();
  }
  <span class="comment">// Do the actual pruning and sort the short-list.</span>
  pruner.PruneAndSort(<a class="code" href="classtesseract_1_1_classify.html#a6e0102d0d21b6151893a199cc84a6e93">classify_class_pruner_threshold</a>,
                      <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &gt; 2) {
    pruner.DebugMatch(*<span class="keyword">this</span>, int_templates, features);
  }
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &gt; 1) {
    pruner.SummarizeResult(*<span class="keyword">this</span>, int_templates, expected_num_features,
                           <a class="code" href="classtesseract_1_1_classify.html#a406c1644ce61dfb376ae9975f89c54ba">classify_class_pruner_multiplier</a>,
                           normalization_factors);
  }
  <span class="comment">// Convert to the expected output format.</span>
  <span class="keywordflow">return</span> pruner.SetupResults(results);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa74ebd96d85efc39d71c37985e50c8aa"></a><!-- doxytag: member="tesseract::Classify::ReadAdaptedTemplates" ref="aa74ebd96d85efc39d71c37985e50c8aa" args="(FILE *File)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> tesseract::Classify::ReadAdaptedTemplates </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read a set of adapted templates from File and return a ptr to the templates.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">File</td><td>open text file to read adapted templates from </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Ptr to adapted templates read from File.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Globals: none </dd>
<dd>
Exceptions: none </dd>
<dd>
History: Mon Mar 18 15:18:10 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptive_8cpp_source.html#l00371">371</a> of file <a class="el" href="adaptive_8cpp_source.html">adaptive.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
  <span class="keywordtype">int</span> i;
  <a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">ADAPT_TEMPLATES</a> Templates;

  <span class="comment">/* first read the high level adaptive template struct */</span>
  Templates = (<a class="code" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">ADAPT_TEMPLATES_STRUCT</a>));
  fread ((<span class="keywordtype">char</span> *) Templates, <span class="keyword">sizeof</span> (<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">ADAPT_TEMPLATES_STRUCT</a>), 1, File);

  <span class="comment">/* then read in the basic integer templates */</span>
  Templates-&gt;Templates = <a class="code" href="classtesseract_1_1_classify.html#a98459996e5e6ab1dc1de71411fd32b89">ReadIntTemplates</a> (File);

  <span class="comment">/* then read in the adaptive info for each class */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; (Templates-&gt;Templates)-&gt;NumClasses; i++) {
    Templates-&gt;Class[i] = <a class="code" href="adaptive_8cpp.html#a0319827551564cc4815347fafb12ebc6">ReadAdaptedClass</a> (File);
  }
  <span class="keywordflow">return</span> (Templates);

}                                <span class="comment">/* ReadAdaptedTemplates */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a3cc9d5fe19f6d641fdfb133179ea70a4"></a><!-- doxytag: member="tesseract::Classify::ReadClassFile" ref="a3cc9d5fe19f6d641fdfb133179ea70a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ReadClassFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="protos_8cpp_source.html#l00293">293</a> of file <a class="el" href="protos_8cpp_source.html">protos.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                             {
 FILE *File;
 <span class="keywordtype">char</span> TextLine[<a class="code" href="cutil_8h.html#accaf8215779c8836f3f25f722e77550e">CHARS_PER_LINE</a>];
 <span class="keywordtype">char</span> unichar[<a class="code" href="cutil_8h.html#accaf8215779c8836f3f25f722e77550e">CHARS_PER_LINE</a>];

 <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Reading training data from &#39;%s&#39; ...&quot;</span>,
          static_cast&lt;STRING&gt;(<a class="code" href="protos_8cpp.html#abdf276348661f25846b3638c463ca932">classify_training_file</a>).<span class="keywordtype">string</span>());
 fflush(stdout);

 File = <a class="code" href="cutil_8cpp.html#ae3226f9d05617de0b7174bc7b7fce5b6">open_file</a>(static_cast&lt;STRING&gt;(<a class="code" href="protos_8cpp.html#abdf276348661f25846b3638c463ca932">classify_training_file</a>).<span class="keywordtype">string</span>(), <span class="stringliteral">&quot;r&quot;</span>);
 <span class="keywordflow">while</span> (fgets (TextLine, <a class="code" href="cutil_8h.html#accaf8215779c8836f3f25f722e77550e">CHARS_PER_LINE</a>, File) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {

   sscanf(TextLine, <span class="stringliteral">&quot;%s&quot;</span>, unichar);
   <a class="code" href="protos_8cpp.html#a46b69bc764f35e3e56c3a429cab6a4b6">ReadClassFromFile</a> (File, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(unichar));
   fgets(TextLine, <a class="code" href="cutil_8h.html#accaf8215779c8836f3f25f722e77550e">CHARS_PER_LINE</a>, File);
   fgets(TextLine, <a class="code" href="cutil_8h.html#accaf8215779c8836f3f25f722e77550e">CHARS_PER_LINE</a>, File);
 }
 fclose(File);
 <a class="code" href="cutil_8h.html#a1185f064cc7bdd3f2a433da85a834c37">new_line</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98459996e5e6ab1dc1de71411fd32b89"></a><!-- doxytag: member="tesseract::Classify::ReadIntTemplates" ref="a98459996e5e6ab1dc1de71411fd32b89" args="(FILE *File)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> tesseract::Classify::ReadIntTemplates </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intproto_8cpp_source.html#l00786">786</a> of file <a class="el" href="intproto_8cpp_source.html">intproto.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                   {
<span class="comment">/*</span>
<span class="comment"> ** Parameters:</span>
<span class="comment"> **   File    open file to read templates from</span>
<span class="comment"> ** Globals: none</span>
<span class="comment"> ** Operation: This routine reads a set of integer templates from</span>
<span class="comment"> **   File.  File must already be open and must be in the</span>
<span class="comment"> **   correct binary format.</span>
<span class="comment"> ** Return: Pointer to integer templates read from File.</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Wed Feb 27 11:48:46 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordtype">int</span> i, j, w, x, y, z;
  <a class="code" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> swap;
  <span class="keywordtype">int</span> nread;
  <span class="keywordtype">int</span> unicharset_size;
  <span class="keywordtype">int</span> version_id = 0;
  <a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">INT_TEMPLATES</a> Templates;
  <a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>* Pruner;
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> Class;
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *Lengths;
  <a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html">PROTO_SET</a> ProtoSet;

  <span class="comment">/* variables for conversion from older inttemp formats */</span>
  <span class="keywordtype">int</span> b, bit_number, last_cp_bit_number, new_b, new_i, new_w;
  <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, max_class_id;
  <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> *IndexFor = <span class="keyword">new</span> <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>[<a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>];
  <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> *ClassIdFor = <span class="keyword">new</span> <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>[<a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>];
  <a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a> **TempClassPruner =
      <span class="keyword">new</span> <a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>*[<a class="code" href="intproto_8h.html#aab6762087ba3ad713e2d76c3b19de53c">MAX_NUM_CLASS_PRUNERS</a>];
  <a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> SetBitsForMask =           <span class="comment">// word with NUM_BITS_PER_CLASS</span>
    (1 &lt;&lt; <a class="code" href="intproto_8h.html#ae803270a6532aba72c1a20bacbf4594e">NUM_BITS_PER_CLASS</a>) - 1;  <span class="comment">// set starting at bit 0</span>
  <a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> Mask, NewMask, ClassBits;
  <span class="keywordtype">int</span> MaxNumConfigs = <a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>;
  <span class="keywordtype">int</span> WerdsPerConfigVec = <a class="code" href="intproto_8h.html#a884e587328e6d76dfc5e2abe80b9120a">WERDS_PER_CONFIG_VEC</a>;

  <span class="comment">/* first read the high level template struct */</span>
  Templates = <a class="code" href="intproto_8cpp.html#a020880b72d2d68c69edba44494fce647">NewIntTemplates</a>();
  <span class="comment">// Read Templates in parts for 64 bit compatibility.</span>
  <span class="keywordflow">if</span> (fread(&amp;unicharset_size, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), 1, File) != 1)
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
  <span class="keywordflow">if</span> (fread(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>,
            <span class="keyword">sizeof</span>(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>), 1, File) != 1 ||
      fread(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>,
            <span class="keyword">sizeof</span>(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>), 1, File) != 1)
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
  <span class="comment">// Swap status is determined automatically.</span>
  swap = Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a> &lt; 0 ||
    Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a> &gt; <a class="code" href="intproto_8h.html#aab6762087ba3ad713e2d76c3b19de53c">MAX_NUM_CLASS_PRUNERS</a>;
  <span class="keywordflow">if</span> (swap) {
    <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>);
    <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>);
    <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;unicharset_size);
  }
  <span class="keywordflow">if</span> (Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a> &lt; 0) {
    <span class="comment">// This file has a version id!</span>
    version_id = -Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>;
    <span class="keywordflow">if</span> (fread(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>, <span class="keyword">sizeof</span>(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>),
              1, File) != 1)
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
    <span class="keywordflow">if</span> (swap)
      <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>);
  }

  <span class="keywordflow">if</span> (version_id &lt; 3) {
    MaxNumConfigs = <a class="code" href="intproto_8cpp.html#a140c8d6cda6a254c6bf42e7caa0390fc">OLD_MAX_NUM_CONFIGS</a>;
    WerdsPerConfigVec = <a class="code" href="intproto_8cpp.html#aed02bb4e2adadad4fad1e2fc91e4643d">OLD_WERDS_PER_CONFIG_VEC</a>;
  }

  <span class="keywordflow">if</span> (version_id &lt; 2) {
    <span class="keywordflow">for</span> (i = 0; i &lt; unicharset_size; ++i) {
      <span class="keywordflow">if</span> (fread(&amp;IndexFor[i], <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>), 1, File) != 1)
        <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
    }
    <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; ++i) {
      <span class="keywordflow">if</span> (fread(&amp;ClassIdFor[i], <span class="keyword">sizeof</span>(<a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>), 1, File) != 1)
        <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
    }
    <span class="keywordflow">if</span> (swap) {
      <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; i++)
        <a class="code" href="helpers_8h.html#a3c77aeb5931af9236d1d7fdecf7129be">Reverse16</a>(&amp;IndexFor[i]);
      <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; i++)
        <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;ClassIdFor[i]);
    }
  }

  <span class="comment">/* then read in the class pruners */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>; i++) {
    Pruner = <span class="keyword">new</span> <a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>;
    <span class="keywordflow">if</span> ((nread =
         fread(Pruner, 1, <span class="keyword">sizeof</span>(<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>),
                File)) != <span class="keyword">sizeof</span>(<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>))
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
    <span class="keywordflow">if</span> (swap) {
      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="intproto_8h.html#aa675c40a77644a629ba6dd651e1befd5">NUM_CP_BUCKETS</a>; x++) {
        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="intproto_8h.html#aa675c40a77644a629ba6dd651e1befd5">NUM_CP_BUCKETS</a>; y++) {
          <span class="keywordflow">for</span> (z = 0; z &lt; <a class="code" href="intproto_8h.html#aa675c40a77644a629ba6dd651e1befd5">NUM_CP_BUCKETS</a>; z++) {
            <span class="keywordflow">for</span> (w = 0; w &lt; <a class="code" href="intproto_8h.html#ab1e3efe229080aaa98b0df47adf46666">WERDS_PER_CP_VECTOR</a>; w++) {
              <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;Pruner-&gt;<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html#a4f3da8d4ff4a13f77982c919e20d279a">p</a>[x][y][z][w]);
            }
          }
        }
      }
    }
    <span class="keywordflow">if</span> (version_id &lt; 2) {
      TempClassPruner[i] = Pruner;
    } <span class="keywordflow">else</span> {
      Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a614e997d4c6f4d1c5ff3b7dac186c536">ClassPruners</a>[i] = Pruner;
    }
  }

  <span class="comment">/* fix class pruners if they came from an old version of inttemp */</span>
  <span class="keywordflow">if</span> (version_id &lt; 2) {
    <span class="comment">// Allocate enough class pruners to cover all the class ids.</span>
    max_class_id = 0;
    <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; i++)
      <span class="keywordflow">if</span> (ClassIdFor[i] &gt; max_class_id)
        max_class_id = ClassIdFor[i];
    <span class="keywordflow">for</span> (i = 0; i &lt;= <a class="code" href="intproto_8h.html#a9e1bd1cdfd022a108d578009fe49ec51">CPrunerIdFor</a>(max_class_id); i++) {
      Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a614e997d4c6f4d1c5ff3b7dac186c536">ClassPruners</a>[i] = <span class="keyword">new</span> <a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>;
      memset(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a614e997d4c6f4d1c5ff3b7dac186c536">ClassPruners</a>[i], 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>));
    }
    <span class="comment">// Convert class pruners from the old format (indexed by class index)</span>
    <span class="comment">// to the new format (indexed by class id).</span>
    last_cp_bit_number = <a class="code" href="intproto_8h.html#ae803270a6532aba72c1a20bacbf4594e">NUM_BITS_PER_CLASS</a> * Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a> - 1;
    <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>; i++) {
      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="intproto_8h.html#aa675c40a77644a629ba6dd651e1befd5">NUM_CP_BUCKETS</a>; x++)
        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="intproto_8h.html#aa675c40a77644a629ba6dd651e1befd5">NUM_CP_BUCKETS</a>; y++)
          <span class="keywordflow">for</span> (z = 0; z &lt; <a class="code" href="intproto_8h.html#aa675c40a77644a629ba6dd651e1befd5">NUM_CP_BUCKETS</a>; z++)
            <span class="keywordflow">for</span> (w = 0; w &lt; <a class="code" href="intproto_8h.html#ab1e3efe229080aaa98b0df47adf46666">WERDS_PER_CP_VECTOR</a>; w++) {
              <span class="keywordflow">if</span> (TempClassPruner[i]-&gt;p[x][y][z][w] == 0)
                <span class="keywordflow">continue</span>;
              <span class="keywordflow">for</span> (b = 0; b &lt; <a class="code" href="intproto_8h.html#a65e33e9e10361d8dc9c7760ee256beac">BITS_PER_WERD</a>; b += <a class="code" href="intproto_8h.html#ae803270a6532aba72c1a20bacbf4594e">NUM_BITS_PER_CLASS</a>) {
                bit_number = i * <a class="code" href="intproto_8h.html#a0f9366ce0f73b02b2e9bc07a42cb0a00">BITS_PER_CP_VECTOR</a> + w * BITS_PER_WERD + b;
                <span class="keywordflow">if</span> (bit_number &gt; last_cp_bit_number)
                  <span class="keywordflow">break</span>; <span class="comment">// the rest of the bits in this word are not used</span>
                class_id = ClassIdFor[bit_number / <a class="code" href="intproto_8h.html#ae803270a6532aba72c1a20bacbf4594e">NUM_BITS_PER_CLASS</a>];
                <span class="comment">// Single out NUM_BITS_PER_CLASS bits relating to class_id.</span>
                Mask = SetBitsForMask &lt;&lt; b;
                ClassBits = TempClassPruner[i]-&gt;<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html#a4f3da8d4ff4a13f77982c919e20d279a">p</a>[x][y][z][w] &amp; Mask;
                <span class="comment">// Move these bits to the new position in which they should</span>
                <span class="comment">// appear (indexed corresponding to the class_id).</span>
                new_i = <a class="code" href="intproto_8h.html#a9e1bd1cdfd022a108d578009fe49ec51">CPrunerIdFor</a>(class_id);
                new_w = <a class="code" href="intproto_8h.html#a99d69701db6f22923e8c4027000f1bd7">CPrunerWordIndexFor</a>(class_id);
                new_b = <a class="code" href="intproto_8h.html#aa49eb773d3e7ef52fd291fcfb1464a83">CPrunerBitIndexFor</a>(class_id) * <a class="code" href="intproto_8h.html#ae803270a6532aba72c1a20bacbf4594e">NUM_BITS_PER_CLASS</a>;
                <span class="keywordflow">if</span> (new_b &gt; b) {
                  ClassBits &lt;&lt;= (new_b - b);
                } <span class="keywordflow">else</span> {
                  ClassBits &gt;&gt;= (b - new_b);
                }
                <span class="comment">// Copy bits relating to class_id to the correct position</span>
                <span class="comment">// in Templates-&gt;ClassPruner.</span>
                NewMask = SetBitsForMask &lt;&lt; new_b;
                Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a614e997d4c6f4d1c5ff3b7dac186c536">ClassPruners</a>[new_i]-&gt;<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html#a4f3da8d4ff4a13f77982c919e20d279a">p</a>[x][y][z][new_w] &amp;= ~NewMask;
                Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a614e997d4c6f4d1c5ff3b7dac186c536">ClassPruners</a>[new_i]-&gt;<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html#a4f3da8d4ff4a13f77982c919e20d279a">p</a>[x][y][z][new_w] |= ClassBits;
              }
            }
    }
    <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>; i++) {
      <span class="keyword">delete</span> TempClassPruner[i];
    }
  }

  <span class="comment">/* then read in each class */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; i++) {
    <span class="comment">/* first read in the high level struct for the class */</span>
    Class = (<a class="code" href="intproto_8h.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a>) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS_STRUCT</a>));
    <span class="keywordflow">if</span> (fread(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>, <span class="keyword">sizeof</span>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>), 1, File) != 1 ||
        fread(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a92a0b5397c2b6f3cc0346a72ce3595bd">NumProtoSets</a>, <span class="keyword">sizeof</span>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a92a0b5397c2b6f3cc0346a72ce3595bd">NumProtoSets</a>), 1, File) != 1 ||
        fread(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>, <span class="keyword">sizeof</span>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>), 1, File) != 1)
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
    <span class="keywordflow">if</span> (version_id == 0) {
      <span class="comment">// Only version 0 writes 5 pointless pointers to the file.</span>
      <span class="keywordflow">for</span> (j = 0; j &lt; 5; ++j) {
        <span class="keywordtype">int</span> junk;
        <span class="keywordflow">if</span> (fread(&amp;junk, <span class="keyword">sizeof</span>(junk), 1, File) != 1)
          <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
      }
    }
    <span class="keywordflow">if</span> (version_id &lt; 4) {
      <span class="keywordflow">for</span> (j = 0; j &lt; MaxNumConfigs; ++j) {
        <span class="keywordflow">if</span> (fread(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a86454e5d855825a4b2b370038598e88c">ConfigLengths</a>[j], <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>), 1, File) != 1)
          <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
      }
      <span class="keywordflow">if</span> (swap) {
        <a class="code" href="helpers_8h.html#a3c77aeb5931af9236d1d7fdecf7129be">Reverse16</a>(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>);
        <span class="keywordflow">for</span> (j = 0; j &lt; MaxNumConfigs; j++)
          <a class="code" href="helpers_8h.html#a3c77aeb5931af9236d1d7fdecf7129be">Reverse16</a>(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a86454e5d855825a4b2b370038598e88c">ConfigLengths</a>[j]);
      }
    } <span class="keywordflow">else</span> {
      <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a> &lt; MaxNumConfigs);
      <span class="keywordflow">for</span> (j = 0; j &lt; Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>; ++j) {
        <span class="keywordflow">if</span> (fread(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a86454e5d855825a4b2b370038598e88c">ConfigLengths</a>[j], <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>), 1, File) != 1)
          <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
      }
      <span class="keywordflow">if</span> (swap) {
        <a class="code" href="helpers_8h.html#a3c77aeb5931af9236d1d7fdecf7129be">Reverse16</a>(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>);
        <span class="keywordflow">for</span> (j = 0; j &lt; MaxNumConfigs; j++)
          <a class="code" href="helpers_8h.html#a3c77aeb5931af9236d1d7fdecf7129be">Reverse16</a>(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a86454e5d855825a4b2b370038598e88c">ConfigLengths</a>[j]);
      }
    }
    <span class="keywordflow">if</span> (version_id &lt; 2) {
      <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates, ClassIdFor[i]) = Class;
    } <span class="keywordflow">else</span> {
      <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates, i) = Class;
    }

    <span class="comment">/* then read in the proto lengths */</span>
    Lengths = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <span class="keywordflow">if</span> (<a class="code" href="intproto_8h.html#a169c71bb67d9d85f2a7eca9c20cce40a">MaxNumIntProtosIn</a> (Class) &gt; 0) {
      Lengths = (<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *)<a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>) * <a class="code" href="intproto_8h.html#a169c71bb67d9d85f2a7eca9c20cce40a">MaxNumIntProtosIn</a>(Class));
      <span class="keywordflow">if</span> ((nread =
           fread((<span class="keywordtype">char</span> *)Lengths, <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>),
                 <a class="code" href="intproto_8h.html#a169c71bb67d9d85f2a7eca9c20cce40a">MaxNumIntProtosIn</a>(Class), File)) != <a class="code" href="intproto_8h.html#a169c71bb67d9d85f2a7eca9c20cce40a">MaxNumIntProtosIn</a> (Class))
        <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
    }
    Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a9b4f333b97970433f1c34d45103281d3">ProtoLengths</a> = Lengths;

    <span class="comment">/* then read in the proto sets */</span>
    <span class="keywordflow">for</span> (j = 0; j &lt; Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a92a0b5397c2b6f3cc0346a72ce3595bd">NumProtoSets</a>; j++) {
      ProtoSet = (<a class="code" href="intproto_8h.html#a75a17f28eba3fb341330351ef2ee9d87">PROTO_SET</a>)<a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html">PROTO_SET_STRUCT</a>));
      <span class="keywordflow">if</span> (version_id &lt; 3) {
        <span class="keywordflow">if</span> ((nread =
             fread((<span class="keywordtype">char</span> *) &amp;ProtoSet-&gt;<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html#a6c4fddbacb407bdda234dfe3d1835df4">ProtoPruner</a>, 1,
                    <span class="keyword">sizeof</span>(<a class="code" href="intproto_8h.html#a2881fe4fb9235ee1ce2f53ed52b5444c">PROTO_PRUNER</a>), File)) != <span class="keyword">sizeof</span>(<a class="code" href="intproto_8h.html#a2881fe4fb9235ee1ce2f53ed52b5444c">PROTO_PRUNER</a>))
          <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="intproto_8h.html#ac6c8bf8f6110ef3cfc4bcd13d52c475c">PROTOS_PER_PROTO_SET</a>; x++) {
          <span class="keywordflow">if</span> ((nread = fread((<span class="keywordtype">char</span> *) &amp;ProtoSet-&gt;<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html#aec92455cfcae19d9a7278ab3e8733d11">Protos</a>[x].<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a1a04b5d1566d1ec88d99da275208f064">A</a>, 1,
                             <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a2ba4d271e85baf0d333318985cb3bced">inT8</a>), File)) != <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a2ba4d271e85baf0d333318985cb3bced">inT8</a>) ||
              (nread = fread((<span class="keywordtype">char</span> *) &amp;ProtoSet-&gt;<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html#aec92455cfcae19d9a7278ab3e8733d11">Protos</a>[x].<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#ae3a26a69bb3e3dcc7138fa036d3cb9e8">B</a>, 1,
                             <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>), File)) != <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>) ||
              (nread = fread((<span class="keywordtype">char</span> *) &amp;ProtoSet-&gt;<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html#aec92455cfcae19d9a7278ab3e8733d11">Protos</a>[x].<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#af1c3246d7de60562deed8d58d292bb01">C</a>, 1,
                             <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a2ba4d271e85baf0d333318985cb3bced">inT8</a>), File)) != <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a2ba4d271e85baf0d333318985cb3bced">inT8</a>) ||
              (nread = fread((<span class="keywordtype">char</span> *) &amp;ProtoSet-&gt;<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html#aec92455cfcae19d9a7278ab3e8733d11">Protos</a>[x].<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a3595512379d43a12f92efef287db17d9">Angle</a>, 1,
                             <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>), File)) != <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>))
            <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
          <span class="keywordflow">for</span> (y = 0; y &lt; WerdsPerConfigVec; y++)
            <span class="keywordflow">if</span> ((nread = fread((<span class="keywordtype">char</span> *) &amp;ProtoSet-&gt;<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html#aec92455cfcae19d9a7278ab3e8733d11">Protos</a>[x].<a class="code" href="struct_i_n_t___p_r_o_t_o___s_t_r_u_c_t.html#a897689cf42ad3255533f8d26f5fb4eb8">Configs</a>[y], 1,
                               <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>), File)) != <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>))
              <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
        }
      } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span> ((nread =
             fread((<span class="keywordtype">char</span> *) ProtoSet, 1, <span class="keyword">sizeof</span>(<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html">PROTO_SET_STRUCT</a>),
                   File)) != <span class="keyword">sizeof</span>(<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html">PROTO_SET_STRUCT</a>))
          <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Bad read of inttemp!\n&quot;</span>);
      }
      <span class="keywordflow">if</span> (swap) {
        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="intproto_8h.html#a27a551120dac583bcc4134580a447768">NUM_PP_PARAMS</a>; x++)
          <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="intproto_8h.html#adeffbbd837fc18e8812f77c58469444b">NUM_PP_BUCKETS</a>; y++)
            <span class="keywordflow">for</span> (z = 0; z &lt; <a class="code" href="intproto_8h.html#a56d28cb646571fa14db5eb2ced4a5302">WERDS_PER_PP_VECTOR</a>; z++)
              <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;ProtoSet-&gt;ProtoPruner[x][y][z]);
        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="intproto_8h.html#ac6c8bf8f6110ef3cfc4bcd13d52c475c">PROTOS_PER_PROTO_SET</a>; x++)
          <span class="keywordflow">for</span> (y = 0; y &lt; WerdsPerConfigVec; y++)
            <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;ProtoSet-&gt;Protos[x].Configs[y]);
      }
      Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ac11726dfb0e9ac06fd00351082ca7888">ProtoSets</a>[j] = ProtoSet;
    }
    <span class="keywordflow">if</span> (version_id &lt; 4)
      Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a> = -1;
    <span class="keywordflow">else</span> {
      fread(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), 1, File);
      <span class="keywordflow">if</span> (swap)
        <a class="code" href="helpers_8h.html#a7bb3b6a97c833fe8630a7b129917b985">Reverse32</a>(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>);
    }
  }

  <span class="keywordflow">if</span> (version_id &lt; 2) {
    <span class="comment">/* add an empty NULL class with class id 0 */</span>
    assert(<a class="code" href="intproto_8h.html#a3e7ae3ffbac606326937a4c701aeeaf2">UnusedClassIdIn</a> (Templates, 0));
    <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates, 0) = <a class="code" href="intproto_8cpp.html#af77150e8523be2b3f6449e194eb55e7b">NewIntClass</a> (1, 1);
    <a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates, 0)-&gt;font_set_id = -1;
    Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>++;
    <span class="comment">/* make sure the classes are contiguous */</span>
    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>; i++) {
      <span class="keywordflow">if</span> (i &lt; Templates-&gt;NumClasses) {
        <span class="keywordflow">if</span> (<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates, i) == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
          fprintf(stderr, <span class="stringliteral">&quot;Non-contiguous class ids in inttemp\n&quot;</span>);
          exit(1);
        }
      } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span> (<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (Templates, i) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
          fprintf(stderr, <span class="stringliteral">&quot;Class id %d exceeds NumClassesIn (Templates) %d\n&quot;</span>,
                  i, Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>);
          exit(1);
        }
      }
    }
  }
  <span class="keywordflow">if</span> (version_id &gt;= 4) {
    this-&gt;<a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#a31e2edb3f92024b211332a850723d237" title="swap is used to switch the endianness.">read</a>(File, <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a4a8355da6e96695bb003d778da05a95b">read_info</a>), swap);
    <span class="keywordflow">if</span> (version_id &gt;= 5) {
      this-&gt;<a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#a31e2edb3f92024b211332a850723d237" title="swap is used to switch the endianness.">read</a>(File,
                                 <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a8643fbecc8aa5b606e53a534ad14d491">read_spacing_info</a>),
                                 swap);
    }
    this-&gt;<a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a31e2edb3f92024b211332a850723d237" title="swap is used to switch the endianness.">read</a>(File, <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a718a9f9121464dbaa6ef73c5f9dc6d5e">read_set</a>), swap);
  }

  <span class="comment">// Clean up.</span>
  <span class="keyword">delete</span>[] IndexFor;
  <span class="keyword">delete</span>[] ClassIdFor;
  <span class="keyword">delete</span>[] TempClassPruner;

  <span class="keywordflow">return</span> (Templates);
}                                <span class="comment">/* ReadIntTemplates */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a49a37c1ce02f5e114f0d57e49871b802"></a><!-- doxytag: member="tesseract::Classify::ReadNewCutoffs" ref="a49a37c1ce02f5e114f0d57e49871b802" args="(FILE *CutoffFile, bool swap, inT64 end_offset, CLASS_CUTOFF_ARRAY Cutoffs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ReadNewCutoffs </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>CutoffFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#ac53c9cafaf7fe16f985994c49f6b0964">inT64</a>&#160;</td>
          <td class="paramname"><em>end_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cutoffs_8h.html#a5f54131664d48951e46f5e4952350582">CLASS_CUTOFF_ARRAY</a>&#160;</td>
          <td class="paramname"><em>Cutoffs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cutoffs_8cpp_source.html#l00042">42</a> of file <a class="el" href="cutoffs_8cpp_source.html">cutoffs.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Filename        name of file containing cutoff definitions</span>
<span class="comment"> **             Cutoffs         array to put cutoffs into</span>
<span class="comment"> **     Globals: none</span>
<span class="comment"> **     Operation: Open Filename, read in all of the class-id/cutoff pairs</span>
<span class="comment"> **             and insert them into the Cutoffs array.  Cutoffs are</span>
<span class="comment"> **             indexed in the array by class id.  Unused entries in the</span>
<span class="comment"> **             array are set to an arbitrarily high cutoff value.</span>
<span class="comment"> **     Return: none</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Wed Feb 20 09:38:26 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordtype">char</span> Class[<a class="code" href="unichar_8h.html#a902bc40c9d89802bc063afe30ce9e708">UNICHAR_LEN</a> + 1];
  <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId;
  <span class="keywordtype">int</span> Cutoff;
  <span class="keywordtype">int</span> i;

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="keywordflow">if</span> (!shapetable_cutoffs_.<a class="code" href="class_generic_vector.html#aa4f5b1bc0d044fbd1fc77363b798c39c">DeSerialize</a>(swap, CutoffFile)) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Error during read of shapetable pffmtable!\n&quot;</span>);
    }
  }
  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>; i++)
    Cutoffs[i] = <a class="code" href="cutoffs_8cpp.html#a5243f4a6e700ddc871cc53130efbea1b">MAX_CUTOFF</a>;

  <span class="keywordflow">while</span> ((end_offset &lt; 0 || ftell(CutoffFile) &lt; end_offset) &amp;&amp;
         fscanf(CutoffFile, <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="cutoffs_8cpp.html#a4eb176890e7426e710ac2670a66394d7">REALLY_QUOTE_IT</a>(<a class="code" href="unichar_8h.html#a902bc40c9d89802bc063afe30ce9e708">UNICHAR_LEN</a>) <span class="stringliteral">&quot;s %d&quot;</span>,
                Class, &amp;Cutoff) == 2) {
    <span class="keywordflow">if</span> (strcmp(Class, <span class="stringliteral">&quot;NULL&quot;</span>) == 0) {
      ClassId = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(<span class="stringliteral">&quot; &quot;</span>);
    } <span class="keywordflow">else</span> {
      ClassId = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(Class);
    }
    Cutoffs[ClassId] = Cutoff;
    <a class="code" href="helpers_8h.html#a2ddd0a4cdfa269201be6c7716ae94b0a">SkipNewline</a>(CutoffFile);
  }
}                                <span class="comment">/* ReadNewCutoffs */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aabd742c09ff530922005e015a9e8bc2b"></a><!-- doxytag: member="tesseract::Classify::ReadNormProtos" ref="aabd742c09ff530922005e015a9e8bc2b" args="(FILE *File, inT64 end_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a> * tesseract::Classify::ReadNormProtos </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#ac53c9cafaf7fe16f985994c49f6b0964">inT64</a>&#160;</td>
          <td class="paramname"><em>end_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="normmatch_8cpp_source.html#l00230">230</a> of file <a class="el" href="normmatch_8cpp_source.html">normmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             File    open text file to read normalization protos from</span>
<span class="comment"> **     Globals: none</span>
<span class="comment"> **     Operation: This routine allocates a new data structure to hold</span>
<span class="comment"> **             a set of character normalization protos.  It then fills in</span>
<span class="comment"> **             the data structure by reading from the specified File.</span>
<span class="comment"> **     Return: Character normalization protos.</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Wed Dec 19 16:38:49 1990, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a> *<a class="code" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a>;
  <span class="keywordtype">int</span> i;
  <span class="keywordtype">char</span> unichar[2 * <a class="code" href="unichar_8h.html#a902bc40c9d89802bc063afe30ce9e708">UNICHAR_LEN</a> + 1];
  <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id;
  <a class="code" href="structlist__rec.html">LIST</a> Protos;
  <span class="keywordtype">int</span> NumProtos;

  <span class="comment">/* allocate and initialization data structure */</span>
  NormProtos = (<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a>));
  NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#a5fb6b18adc50b9ab250cad15f26450b2">NumProtos</a> = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>();
  NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a> = (<a class="code" href="structlist__rec.html">LIST</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#a5fb6b18adc50b9ab250cad15f26450b2">NumProtos</a> * <span class="keyword">sizeof</span>(<a class="code" href="structlist__rec.html">LIST</a>));
  <span class="keywordflow">for</span> (i = 0; i &lt; NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#a5fb6b18adc50b9ab250cad15f26450b2">NumProtos</a>; i++)
    NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a>[i] = <a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;

  <span class="comment">/* read file header and save in data structure */</span>
  NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ac21f8ddf002a7453a011d2993b48aed8">NumParams</a> = <a class="code" href="clusttool_8cpp.html#aa72cb3d213dfc2a7e49bc0e4df860388">ReadSampleSize</a> (File);
  NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#a57382d35825f360d88f32032e05239f3">ParamDesc</a> = <a class="code" href="clusttool_8cpp.html#ae37f86e537cc934a27b5cb8c3dfd3173">ReadParamDesc</a> (File, NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ac21f8ddf002a7453a011d2993b48aed8">NumParams</a>);

  <span class="comment">/* read protos for each class into a separate list */</span>
  <span class="keywordflow">while</span> ((end_offset &lt; 0 || ftell(File) &lt; end_offset) &amp;&amp;
         fscanf(File, <span class="stringliteral">&quot;%s %d&quot;</span>, unichar, &amp;NumProtos) == 2) {
    <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a9f8861ffb917e7341c821928da5865f0">contains_unichar</a>(unichar)) {
      unichar_id = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(unichar);
      Protos = NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a>[unichar_id];
      <span class="keywordflow">for</span> (i = 0; i &lt; NumProtos; i++)
        Protos =
            <a class="code" href="oldlist_8cpp.html#a1019c2e1108695bb4f33f83e02ee62ad">push_last</a> (Protos, <a class="code" href="clusttool_8cpp.html#ae695f7912de20580483721573348f10d">ReadPrototype</a> (File, NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ac21f8ddf002a7453a011d2993b48aed8">NumParams</a>));
      NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ada1e6e21410af2577e978c63d0517f26">Protos</a>[unichar_id] = Protos;
    } <span class="keywordflow">else</span> {
      <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Error: unichar %s in normproto file is not in unichar set.\n&quot;</span>,
              unichar);
      <span class="keywordflow">for</span> (i = 0; i &lt; NumProtos; i++)
        <a class="code" href="cluster_8cpp.html#aa5d7083be183c7a4e2b2fa746a560a7b">FreePrototype</a>(<a class="code" href="clusttool_8cpp.html#ae695f7912de20580483721573348f10d">ReadPrototype</a> (File, NormProtos-&gt;<a class="code" href="struct_n_o_r_m___p_r_o_t_o_s.html#ac21f8ddf002a7453a011d2993b48aed8">NumParams</a>));
    }
    <a class="code" href="helpers_8h.html#a2ddd0a4cdfa269201be6c7716ae94b0a">SkipNewline</a>(File);
  }
  <span class="keywordflow">return</span> (NormProtos);
}                                <span class="comment">/* ReadNormProtos */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a6e36e01c8147d95bbd64c6609e1b8f45"></a><!-- doxytag: member="tesseract::Classify::RefreshDebugWindow" ref="a6e36e01c8147d95bbd64c6609e1b8f45" args="(ScrollView **win, const char *msg, int y_offset, const TBOX &amp;wbox)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::RefreshDebugWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_scroll_view.html">ScrollView</a> **&#160;</td>
          <td class="paramname"><em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_b_o_x.html">TBOX</a> &amp;&#160;</td>
          <td class="paramname"><em>wbox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00229">229</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {
<span class="preprocessor">  #ifndef GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> kSampleSpaceWidth = 500;
  <span class="keywordflow">if</span> (*win == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    *win = <span class="keyword">new</span> <a class="code" href="class_scroll_view.html">ScrollView</a>(msg, 100, y_offset, kSampleSpaceWidth * 2, 200,
                          kSampleSpaceWidth * 2, 200, <span class="keyword">true</span>);
  }
  (*win)-&gt;Clear();
  (*win)-&gt;Pen(64, 64, 64);
  (*win)-&gt;Line(-kSampleSpaceWidth, <a class="code" href="normalis_8h.html#abe10ce41bf7240ae8a053dea471d6ed5">kBlnBaselineOffset</a>,
               kSampleSpaceWidth, <a class="code" href="normalis_8h.html#abe10ce41bf7240ae8a053dea471d6ed5">kBlnBaselineOffset</a>);
  (*win)-&gt;Line(-kSampleSpaceWidth, <a class="code" href="normalis_8h.html#af974e6755e636c8bc7cbe57e3bcbdd73">kBlnXHeight</a> + <a class="code" href="normalis_8h.html#abe10ce41bf7240ae8a053dea471d6ed5">kBlnBaselineOffset</a>,
               kSampleSpaceWidth, <a class="code" href="normalis_8h.html#af974e6755e636c8bc7cbe57e3bcbdd73">kBlnXHeight</a> + <a class="code" href="normalis_8h.html#abe10ce41bf7240ae8a053dea471d6ed5">kBlnBaselineOffset</a>);
  (*win)-&gt;ZoomToRectangle(wbox.<a class="code" href="class_t_b_o_x.html#a724fabf566586b663577dfa944ffbc61">left</a>(), wbox.<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>(),
                          wbox.<a class="code" href="class_t_b_o_x.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>(), wbox.<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>());
<span class="preprocessor">  #endif  // GRAPHICS_DISABLED</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a0e35029ac0c77ad18d35f08c27c99d15"></a><!-- doxytag: member="tesseract::Classify::RemoveBadMatches" ref="a0e35029ac0c77ad18d35f08c27c99d15" args="(ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::RemoveBadMatches </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine steps thru each matching class in Results and removes it from the match list if its rating is worse than the BestRating plus a pad. In other words, all good matches get moved to the front of the classes array.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Results</td><td>contains matches to be filtered</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>matcher_bad_match_pad defines a "bad match"</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 13:51:03 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02429">2429</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                      {
  <span class="keywordtype">int</span> Next, NextGood;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> BadMatchThreshold;
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* romans = <span class="stringliteral">&quot;i v x I V X&quot;</span>;
  BadMatchThreshold = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a7cfeae71a3b1fddd0e2dd1b369c6d15b">best_match</a>.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> + <a class="code" href="classtesseract_1_1_classify.html#a10595e84248f68a98f8e73bcdb6ae89a">matcher_bad_match_pad</a>;

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a57e449d38b255fe82e61d88ded8b0020">classify_bln_numeric_mode</a>) {
    <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id_one = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a9f8861ffb917e7341c821928da5865f0">contains_unichar</a>(<span class="stringliteral">&quot;1&quot;</span>) ?
        <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(<span class="stringliteral">&quot;1&quot;</span>) : -1;
    <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id_zero = <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a9f8861ffb917e7341c821928da5865f0">contains_unichar</a>(<span class="stringliteral">&quot;0&quot;</span>) ?
        <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(<span class="stringliteral">&quot;0&quot;</span>) : -1;
    <a class="code" href="struct_scored_class.html">ScoredClass</a> scored_one = <a class="code" href="adaptmatch_8cpp.html#ab41bdc1f072e458bb14d644c1106b56a">ScoredUnichar</a>(Results, unichar_id_one);
    <a class="code" href="struct_scored_class.html">ScoredClass</a> scored_zero = <a class="code" href="adaptmatch_8cpp.html#ab41bdc1f072e458bb14d644c1106b56a">ScoredUnichar</a>(Results, unichar_id_zero);

    <span class="keywordflow">for</span> (Next = NextGood = 0; Next &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; Next++) {
      <span class="keywordflow">if</span> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[Next].<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> &lt;= BadMatchThreshold) {
        <a class="code" href="struct_scored_class.html">ScoredClass</a> match = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[Next];
        <span class="keywordflow">if</span> (!<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#ad1dd0929edfb0e9e4905cc2fbeff42c2">get_isalpha</a>(match.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>) ||
            strstr(romans,
                   <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(match.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood++] = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[Next];
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa0838c2b6fafdc34416794b6afe698f8">eq</a>(match.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>, <span class="stringliteral">&quot;l&quot;</span>) &amp;&amp;
                   scored_one.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> &gt;= BadMatchThreshold) {
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood] = scored_one;
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood].<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> = match.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>;
          NextGood++;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa0838c2b6fafdc34416794b6afe698f8">eq</a>(match.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>, <span class="stringliteral">&quot;O&quot;</span>) &amp;&amp;
                   scored_zero.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> &gt;= BadMatchThreshold) {
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood] = scored_zero;
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood].<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> = match.<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a>;
          NextGood++;
        }
      }
    }
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">for</span> (Next = NextGood = 0; Next &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; Next++) {
      <span class="keywordflow">if</span> (Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[Next].<a class="code" href="struct_scored_class.html#aa410f972971cfb2df154972833783f72">rating</a> &lt;= BadMatchThreshold)
        Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood++] = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[Next];
    }
  }
  Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> = NextGood;
}                              <span class="comment">/* RemoveBadMatches */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af15e83a02b369b820d40c8920b4275e8"></a><!-- doxytag: member="tesseract::Classify::RemoveExtraPuncs" ref="af15e83a02b369b820d40c8920b4275e8" args="(ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::RemoveExtraPuncs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine steps thru each matching class in Results and removes it from the match list if its rating is worse than the BestRating plus a pad. In other words, all good matches get moved to the front of the classes array.</p>
<p>Results contains matches to be filtered</p>
<p>Globals:</p>
<ul>
<li>matcher_bad_match_pad defines a "bad match"</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Mar 12 13:51:03 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02488">2488</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                      {
  <span class="keywordtype">int</span> Next, NextGood;
  <span class="keywordtype">int</span> punc_count;              <span class="comment">/*no of garbage characters */</span>
  <span class="keywordtype">int</span> digit_count;
  <span class="comment">/*garbage characters */</span>
  <span class="keyword">static</span> <span class="keywordtype">char</span> punc_chars[] = <span class="stringliteral">&quot;. , ; : / ` ~ &#39; - = \\ | \&quot; ! _ ^&quot;</span>;
  <span class="keyword">static</span> <span class="keywordtype">char</span> digit_chars[] = <span class="stringliteral">&quot;0 1 2 3 4 5 6 7 8 9&quot;</span>;

  punc_count = 0;
  digit_count = 0;
  <span class="keywordflow">for</span> (Next = NextGood = 0; Next &lt; Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a>; Next++) {
    <a class="code" href="struct_scored_class.html">ScoredClass</a> match = Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[Next];
    <span class="keywordflow">if</span> (strstr(punc_chars,
               <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(match.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <span class="keywordflow">if</span> (punc_count &lt; 2)
        Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood++] = match;
      punc_count++;
    } <span class="keywordflow">else</span> {
      <span class="keywordflow">if</span> (strstr(digit_chars,
                 <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(match.<a class="code" href="struct_scored_class.html#ac067f8f00b90b65e9e8348355a771736">unichar_id</a>)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <span class="keywordflow">if</span> (digit_count &lt; 1)
          Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood++] = match;
        digit_count++;
      } <span class="keywordflow">else</span> {
        Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a6ea8673cf9af04e0f0559ddcea630e61">match</a>[NextGood++] = match;
      }
    }
  }
  Results-&gt;<a class="code" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html#a5b86ffcce686898891300193f1998239">NumMatches</a> = NextGood;
}                              <span class="comment">/* RemoveExtraPuncs */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a350f6cb6e7ce9f53ae468908a91c6148"></a><!-- doxytag: member="tesseract::Classify::ResetAdaptiveClassifierInternal" ref="a350f6cb6e7ce9f53ae468908a91c6148" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ResetAdaptiveClassifierInternal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00637">637</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt; 0) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Resetting adaptive classifier (NumAdaptationsFailed=%d)\n&quot;</span>,
            NumAdaptationsFailed);
  }
  <a class="code" href="adaptive_8cpp.html#accee3ce0fad02a088149b714621dc21d">free_adapted_templates</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>);
  <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  NumAdaptationsFailed = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a62ffff7932680b25784bfca5079ce347"></a><!-- doxytag: member="tesseract::Classify::ResetFeaturesHaveBeenExtracted" ref="a62ffff7932680b25784bfca5079ce347" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ResetFeaturesHaveBeenExtracted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l01969">1969</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  FeaturesHaveBeenExtracted = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5a3045639a3db979a8d1eb6dc4343e3b"></a><!-- doxytag: member="tesseract::Classify::SetAdaptiveThreshold" ref="a5a3045639a3db979a8d1eb6dc4343e3b" args="(FLOAT32 Threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::SetAdaptiveThreshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine resets the internal thresholds inside the integer matcher to correspond to the specified threshold.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Threshold</td><td>threshold for creating new templates</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>matcher_good_threshold default good match rating</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Tue Apr 9 08:33:13 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02533">2533</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  Threshold = (Threshold == <a class="code" href="classtesseract_1_1_classify.html#adc3a809a1a219f741a9e45a32e0d11bc">matcher_good_threshold</a>) ? 0.9: (1.0 - Threshold);
  <a class="code" href="classtesseract_1_1_classify.html#a3d74369343952e81efa5ac8858d5e9d1">classify_adapt_proto_threshold</a>.set_value(
      ClipToRange&lt;int&gt;(255 * Threshold, 0, 255));
  <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>.set_value(
      ClipToRange&lt;int&gt;(255 * Threshold, 0, 255));
}                              <span class="comment">/* SetAdaptiveThreshold */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae66827073cdeea6a59dd16fd7cf5d297"></a><!-- doxytag: member="tesseract::Classify::SettupPass1" ref="ae66827073cdeea6a59dd16fd7cf5d297" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::SettupPass1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine prepares the adaptive matcher for the start of the first pass. Learning is enabled (unless it is disabled for the whole program).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>this is somewhat redundant, it simply says that if learning is enabled then it will remain enabled on the first pass. If it is disabled, then it will remain disabled. This is only put here to make it very clear that learning is controlled directly by the global setting of EnableLearning.</dd></dl>
<p>Globals:</p>
<ul>
<li><a class="el" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a> set to TRUE by this routine</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Mon Apr 15 16:39:29 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00711">711</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                           {
  <a class="code" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a> = <a class="code" href="classtesseract_1_1_classify.html#a7691700e9742ecdc10e0f8ee75682991">classify_enable_learning</a>;

  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().SettupStopperPass1();

}                                <span class="comment">/* SettupPass1 */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a5ad207ab75e8a69c35c225313268788b"></a><!-- doxytag: member="tesseract::Classify::SettupPass2" ref="a5ad207ab75e8a69c35c225313268788b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::SettupPass2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine prepares the adaptive matcher for the start of the second pass. Further learning is disabled.</p>
<p>Globals:</p>
<ul>
<li><a class="el" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a> set to FALSE by this routine</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Mon Apr 15 16:39:29 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l00731">731</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                           {
  <a class="code" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().SettupStopperPass2();

}                                <span class="comment">/* SettupPass2 */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a5d8e80f8bd4a5779921f543c6eef796c"></a><!-- doxytag: member="tesseract::Classify::shape_table" ref="a5d8e80f8bd4a5779921f543c6eef796c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classtesseract_1_1_shape_table.html">ShapeTable</a>* tesseract::Classify::shape_table </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00066">66</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
    <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a>;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="a319cfe59c8e82e697375a351e3c604b3"></a><!-- doxytag: member="tesseract::Classify::ShapeIDToClassID" ref="a319cfe59c8e82e697375a351e3c604b3" args="(int shape_id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Classify::ShapeIDToClassID </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shape_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02728">2728</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; ++id) {
    <span class="keywordtype">int</span> font_set_id = <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a2083307ebe623a6617ff38291a2f3614">Class</a>[id]-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>;
    <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(font_set_id &gt;= 0);
    <span class="keyword">const</span> FontSet &amp;fs = <a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a3b3107bc72d9edfe501eaba7404de7eb" title="Return the object from an id.">get</a>(font_set_id);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> config = 0; config &lt; fs.size; ++config) {
      <span class="keywordflow">if</span> (fs.configs[config] == shape_id)
        <span class="keywordflow">return</span> id;
    }
  }
  <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Shape %d not found\n&quot;</span>, shape_id);
  <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf81bc54d31591d9da5f95529583b99d"></a><!-- doxytag: member="tesseract::Classify::ShowBestMatchFor" ref="abf81bc54d31591d9da5f95529583b99d" args="(TBLOB *Blob, const DENORM &amp;denorm, CLASS_ID ClassId, int shape_id, BOOL8 AdaptiveOn, BOOL8 PreTrainedOn, ADAPT_RESULTS *Results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ShowBestMatchFor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>ClassId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shape_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td>
          <td class="paramname"><em>AdaptiveOn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td>
          <td class="paramname"><em>PreTrainedOn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_d_a_p_t___r_e_s_u_l_t_s.html">ADAPT_RESULTS</a> *&#160;</td>
          <td class="paramname"><em>Results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine compares Blob to both sets of templates (adaptive and pre-trained) and then displays debug information for the config which matched best.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blob</td><td>blob to show best matching config for </td></tr>
    <tr><td class="paramname">ClassId</td><td>class whose configs are to be searched </td></tr>
    <tr><td class="paramname">AdaptiveOn</td><td>TRUE if adaptive configs are enabled </td></tr>
    <tr><td class="paramname">PreTrainedOn</td><td>TRUE if pretrained configs are enabled</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>PreTrainedTemplates built-in training</li>
<li>AdaptedTemplates adaptive templates</li>
<li>AllProtosOn dummy proto mask</li>
<li>AllConfigsOn dummy config mask</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Fri Mar 22 08:43:52 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02561">2561</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
  <span class="keywordtype">int</span> NumCNFeatures = 0, NumBLFeatures = 0;
  <a class="code" href="baseapi_8h.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> CNFeatures, BLFeatures;
  <a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html">INT_RESULT_STRUCT</a> CNResult, BLResult;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> BlobLength;
  <a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> ConfigMask;
  <span class="keyword">static</span> <span class="keywordtype">int</span> next_config = -1;

  <span class="keywordflow">if</span> (PreTrainedOn) next_config = -1;

  CNResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a> = BLResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a> = 2.0;

  <span class="keywordflow">if</span> (!<a class="code" href="intproto_8h.html#a6edc7e9d060a50cd3617bb509a061eb5">LegalClassId</a> (ClassId)) {
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;%d is not a legal class id!!\n&quot;</span>, ClassId);
    <span class="keywordflow">return</span>;
  }

  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *CNAdjust = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>];
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *BLAdjust = <span class="keyword">new</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>[<a class="code" href="matchdefs_8h.html#adcc52d7d059a8ca452172df64faa231c">MAX_NUM_CLASSES</a>];

  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    shape_id = ClassId;
  <span class="keywordflow">else</span>
    shape_id = <a class="code" href="classtesseract_1_1_classify.html#a319cfe59c8e82e697375a351e3c604b3">ShapeIDToClassID</a>(shape_id);
  <span class="keywordflow">if</span> (PreTrainedOn &amp;&amp; shape_id &gt;= 0) {
    <span class="keywordflow">if</span> (<a class="code" href="intproto_8h.html#a3e7ae3ffbac606326937a4c701aeeaf2">UnusedClassIdIn</a>(<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, shape_id)) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;No built-in templates for class/shape %d\n&quot;</span>, shape_id);
    } <span class="keywordflow">else</span> {
      NumCNFeatures = <a class="code" href="classtesseract_1_1_classify.html#a1076d5d08686e48d39ef3eb07e711fb6">GetCharNormFeatures</a>(Blob, denorm, <a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>,
                                          CNFeatures, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, CNAdjust,
                                          &amp;BlobLength, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
      <span class="keywordflow">if</span> (NumCNFeatures &lt;= 0) {
        <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Illegal blob (char norm features)!\n&quot;</span>);
      } <span class="keywordflow">else</span> {
        <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#adff6fd8fca725fa346db25010b3be21e">SetCharNormMatch</a>(<a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>);
        <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a>(<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, shape_id),
                  <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>,
                  NumCNFeatures, CNFeatures,
                  &amp;CNResult,
                  <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>, <a class="code" href="adaptmatch_8cpp.html#a424f1b989129c5519f4df8f61ad6dcaf">NO_DEBUG</a>,
                  <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
        <a class="code" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a>(<a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, shape_id,
                                        Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>(),
                                        Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>(),
                                        0, BlobLength, CNAdjust,
                                        CNResult, Results);
      }
    }
  }

  <span class="keywordflow">if</span> (AdaptiveOn) {
    <span class="keywordflow">if</span> (ClassId &lt; 0 || ClassId &gt;= <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Invalid adapted class id: %d\n&quot;</span>, ClassId);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="intproto_8h.html#a3e7ae3ffbac606326937a4c701aeeaf2">UnusedClassIdIn</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, ClassId) ||
               <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ClassId] == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||
               <a class="code" href="adaptive_8h.html#a1d2aa2b696e73525cb57373fcc5a83ae">IsEmptyAdaptedClass</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ClassId])) {
      <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;No AD templates for class %d = %s\n&quot;</span>,
              ClassId, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ClassId));
    } <span class="keywordflow">else</span> {
      NumBLFeatures = <a class="code" href="classtesseract_1_1_classify.html#a4bf0e47e0ae00a0cec215a887cef8c65">GetBaselineFeatures</a>(Blob,
                                          denorm,
                                          <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>,
                                          BLFeatures, BLAdjust,
                                          &amp;BlobLength);
      <span class="keywordflow">if</span> (NumBLFeatures &lt;= 0)
        <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Illegal blob (baseline features)!\n&quot;</span>);
      <span class="keywordflow">else</span> {
        <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#a30a627213fe38d7ae508cf6eaa946b41">SetBaseLineMatch</a>();
        <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, ClassId),
                  <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, <a class="code" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a>,
                  NumBLFeatures, BLFeatures,
                  &amp;BLResult,
                  <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>, <a class="code" href="adaptmatch_8cpp.html#a424f1b989129c5519f4df8f61ad6dcaf">NO_DEBUG</a>,
                  <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
        <a class="code" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a>(
            <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>, <span class="keyword">false</span>,
            ClassId, Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>(),
            Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>(), 0, BlobLength, CNAdjust,
            BLResult, Results);
      }
    }
  }

  <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
  <span class="keywordflow">if</span> (BLResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a> &lt; CNResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#ac15af84ab870846f8be5b02ede056efb">Rating</a>) {
    <span class="keywordflow">if</span> (next_config &lt; 0) {
      ConfigMask = 1 &lt;&lt; BLResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>;
      next_config = 0;
    } <span class="keywordflow">else</span> {
      ConfigMask = 1 &lt;&lt; next_config;
      ++next_config;
    }
    <a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>.set_value(<a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865a83297de004f4e58b9be2108c6cd08a23">baseline</a>);

    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#a30a627213fe38d7ae508cf6eaa946b41">SetBaseLineMatch</a>();
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Adaptive Class ID: %d\n&quot;</span>, ClassId);
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a592229e83546c1b6840e7862b92a0629">Templates</a>, ClassId),
              <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, (<a class="code" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>) &amp;ConfigMask,
              NumBLFeatures, BLFeatures,
              &amp;BLResult,
              <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>,
              <a class="code" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a>,
              <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a>(
        <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>, <span class="keyword">true</span>,
        ClassId, Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>(),
        Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>(), 0, BlobLength, CNAdjust,
        BLResult, Results);
  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape_id &gt;= 0) {
    ConfigMask = 1 &lt;&lt; CNResult.<a class="code" href="struct_i_n_t___r_e_s_u_l_t___s_t_r_u_c_t.html#af0b37da100132e296cb6d45c3f55c159">Config</a>;
    <a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>.set_value(<a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>);

    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Static Shape ID: %d\n&quot;</span>, shape_id);
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#adff6fd8fca725fa346db25010b3be21e">SetCharNormMatch</a>(<a class="code" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">im_</a>.<a class="code" href="class_integer_matcher.html#aa695d9a7ae69ab036bc6f2455e50e421">Match</a>(<a class="code" href="intproto_8h.html#a6a8e29742b045c359e7765a8a1ff4fdc">ClassForClassId</a> (<a class="code" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a>, shape_id),
              <a class="code" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a>, (<a class="code" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>) &amp; ConfigMask,
              NumCNFeatures, CNFeatures,
              &amp;CNResult,
              <a class="code" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a>,
              <a class="code" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a>,
              <a class="code" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a>);
    <a class="code" href="classtesseract_1_1_classify.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a>(<a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>, shape_id,
                                    Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>(),
                                    Blob-&gt;<a class="code" href="struct_t_b_l_o_b.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="class_t_b_o_x.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>(),
                                    0, BlobLength, CNAdjust,
                                    CNResult, Results);
  }

  <span class="comment">// Clean up.</span>
  <span class="keyword">delete</span>[] CNAdjust;
  <span class="keyword">delete</span>[] BLAdjust;
}                              <span class="comment">/* ShowBestMatchFor */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a44e1b8840fb841e621b902f3abdd8522"></a><!-- doxytag: member="tesseract::Classify::ShowMatchDisplay" ref="a44e1b8840fb841e621b902f3abdd8522" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::ShowMatchDisplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intproto_8cpp_source.html#l01096">1096</a> of file <a class="el" href="intproto_8cpp_source.html">intproto.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                {
<span class="comment">/*</span>
<span class="comment"> ** Parameters: none</span>
<span class="comment"> ** Globals:</span>
<span class="comment"> **   FeatureShapes display list containing feature matches</span>
<span class="comment"> **   ProtoShapes display list containing proto matches</span>
<span class="comment"> ** Operation: This routine sends the shapes in the global display</span>
<span class="comment"> **   lists to the match debugger window.</span>
<span class="comment"> ** Return: none</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Thu Mar 21 15:47:33 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="intproto_8cpp.html#a142586ad15312463838c8202dd88d9b0">InitIntMatchWindowIfReqd</a>();
  <span class="keywordflow">if</span> (<a class="code" href="intproto_8cpp.html#a23f6e9320fd27edf24ff0788bbd15d14">ProtoDisplayWindow</a>) {
    <a class="code" href="intproto_8cpp.html#a23f6e9320fd27edf24ff0788bbd15d14">ProtoDisplayWindow</a>-&gt;<a class="code" href="class_scroll_view.html#a5386b0da16d7cbdd33044e53b95313ac">Clear</a>();
  }
  <span class="keywordflow">if</span> (<a class="code" href="intproto_8cpp.html#a0ec1ed97f9b163a57ada0daebeed4a19">FeatureDisplayWindow</a>) {
    <a class="code" href="intproto_8cpp.html#a0ec1ed97f9b163a57ada0daebeed4a19">FeatureDisplayWindow</a>-&gt;<a class="code" href="class_scroll_view.html#a5386b0da16d7cbdd33044e53b95313ac">Clear</a>();
  }
  <a class="code" href="namespacetesseract.html#a50fae3caed4dccef6a71ac7e7aa9d63d">ClearFeatureSpaceWindow</a>(
      static_cast&lt;NORM_METHOD&gt;(static_cast&lt;int&gt;(<a class="code" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a>)),
      <a class="code" href="intproto_8cpp.html#a3e2601e005e31466f29ed35791e280dc">IntMatchWindow</a>);
  <a class="code" href="intproto_8cpp.html#a3e2601e005e31466f29ed35791e280dc">IntMatchWindow</a>-&gt;<a class="code" href="class_scroll_view.html#a5a6c86ea0a618cf7642a8228fd7faab9">ZoomToRectangle</a>(<a class="code" href="intproto_8cpp.html#ac1a914c5ff58a0f8f9280ef2c9a29855">INT_MIN_X</a>, <a class="code" href="intproto_8cpp.html#a610ad70ab1731cabfb990c35cfd01dcf">INT_MIN_Y</a>,
                                  <a class="code" href="intproto_8cpp.html#ae712f394e9941c44c22c38c920bd71cd">INT_MAX_X</a>, <a class="code" href="intproto_8cpp.html#a4b0559f5844c194356263f55e3279d04">INT_MAX_Y</a>);
  <span class="keywordflow">if</span> (<a class="code" href="intproto_8cpp.html#a23f6e9320fd27edf24ff0788bbd15d14">ProtoDisplayWindow</a>) {
    <a class="code" href="intproto_8cpp.html#a23f6e9320fd27edf24ff0788bbd15d14">ProtoDisplayWindow</a>-&gt;<a class="code" href="class_scroll_view.html#a5a6c86ea0a618cf7642a8228fd7faab9">ZoomToRectangle</a>(<a class="code" href="intproto_8cpp.html#ac1a914c5ff58a0f8f9280ef2c9a29855">INT_MIN_X</a>, <a class="code" href="intproto_8cpp.html#a610ad70ab1731cabfb990c35cfd01dcf">INT_MIN_Y</a>,
                                        <a class="code" href="intproto_8cpp.html#ae712f394e9941c44c22c38c920bd71cd">INT_MAX_X</a>, <a class="code" href="intproto_8cpp.html#a4b0559f5844c194356263f55e3279d04">INT_MAX_Y</a>);
  }
  <span class="keywordflow">if</span> (<a class="code" href="intproto_8cpp.html#a0ec1ed97f9b163a57ada0daebeed4a19">FeatureDisplayWindow</a>) {
    <a class="code" href="intproto_8cpp.html#a0ec1ed97f9b163a57ada0daebeed4a19">FeatureDisplayWindow</a>-&gt;<a class="code" href="class_scroll_view.html#a5a6c86ea0a618cf7642a8228fd7faab9">ZoomToRectangle</a>(<a class="code" href="intproto_8cpp.html#ac1a914c5ff58a0f8f9280ef2c9a29855">INT_MIN_X</a>, <a class="code" href="intproto_8cpp.html#a610ad70ab1731cabfb990c35cfd01dcf">INT_MIN_Y</a>,
                                          <a class="code" href="intproto_8cpp.html#ae712f394e9941c44c22c38c920bd71cd">INT_MAX_X</a>, <a class="code" href="intproto_8cpp.html#a4b0559f5844c194356263f55e3279d04">INT_MAX_Y</a>);
  }
}                                <span class="comment">/* ShowMatchDisplay */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a786c5f6e2a5cd8aac2ed4dd89af84fea"></a><!-- doxytag: member="tesseract::Classify::TempConfigReliable" ref="a786c5f6e2a5cd8aac2ed4dd89af84fea" args="(CLASS_ID class_id, const TEMP_CONFIG &amp;config)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Classify::TempConfigReliable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="adaptive_8h.html#a844d69e71035a4a60207cedab3521f9e">TEMP_CONFIG</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02744">2744</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;NumTimesSeen for config of %s is %d\n&quot;</span>,
            <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().debug_str(class_id).<span class="keywordtype">string</span>(),
            config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a441b843c3b024cd12b0ab4115a9fd159">NumTimesSeen</a>);
  }
  <span class="keywordflow">if</span> (config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a441b843c3b024cd12b0ab4115a9fd159">NumTimesSeen</a> &gt;= <a class="code" href="classtesseract_1_1_classify.html#ad47099cfac2701d8fe3a24dd12eab0e1">matcher_sufficient_examples_for_prototyping</a>) {
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config-&gt;<a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html#a441b843c3b024cd12b0ab4115a9fd159">NumTimesSeen</a> &lt; <a class="code" href="classtesseract_1_1_classify.html#a33bc8d687ec0504c697ac0e1ace5567d">matcher_min_examples_for_prototyping</a>) {
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_c_c_util.html#aec36b71d7fc8a6e11c4c09e7cb5fb608">use_ambigs_for_adaption</a>) {
    <span class="comment">// Go through the ambigs vector and see whether we have already seen</span>
    <span class="comment">// enough times all the characters represented by the ambigs vector.</span>
    <span class="keyword">const</span> <a class="code" href="namespacetesseract.html#a3dad1b2dad5ed3069bdb4c971116b9c5">UnicharIdVector</a> *ambigs =
      <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharAmbigs().AmbigsForAdaption(class_id);
    <span class="keywordtype">int</span> ambigs_size = (ambigs == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? 0 : ambigs-&gt;size();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ambig = 0; ambig &lt; ambigs_size; ++ambig) {
      <a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html">ADAPT_CLASS</a> ambig_class = <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[(*ambigs)[ambig]];
      assert(ambig_class != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
      <span class="keywordflow">if</span> (ambig_class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#afe5769d3f67549e0938480aab2d2b1cd">NumPermConfigs</a> == 0 &amp;&amp;
          ambig_class-&gt;<a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html#a88d1300e6657fc7c98af721983018b36">MaxNumTimesSeen</a> &lt;
          <a class="code" href="classtesseract_1_1_classify.html#a33bc8d687ec0504c697ac0e1ace5567d">matcher_min_examples_for_prototyping</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
          <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Ambig %s has not been seen enough times,&quot;</span>
                  <span class="stringliteral">&quot; not making config for %s permanent\n&quot;</span>,
                  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().debug_str(
                      (*ambigs)[ambig]).<span class="keywordtype">string</span>(),
                  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().debug_str(class_id).<span class="keywordtype">string</span>());
        }
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
      }
    }
  }
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a954c9085f840572567462c9e0ff3551a"></a><!-- doxytag: member="tesseract::Classify::UpdateAmbigsGroup" ref="a954c9085f840572567462c9e0ff3551a" args="(CLASS_ID class_id, const DENORM &amp;denorm, TBLOB *Blob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::UpdateAmbigsGroup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_d_e_n_o_r_m.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_t_b_l_o_b.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>Blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="adaptmatch_8cpp_source.html#l02781">2781</a> of file <a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="keyword">const</span> <a class="code" href="namespacetesseract.html#a3dad1b2dad5ed3069bdb4c971116b9c5">UnicharIdVector</a> *ambigs =
    <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharAmbigs().ReverseAmbigsForAdaption(class_id);
  <span class="keywordtype">int</span> ambigs_size = (ambigs == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? 0 : ambigs-&gt;size();
  <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Running UpdateAmbigsGroup for %s class_id=%d\n&quot;</span>,
            <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().debug_str(class_id).<span class="keywordtype">string</span>(), class_id);
  }
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ambig = 0; ambig &lt; ambigs_size; ++ambig) {
    <a class="code" href="matchdefs_8h.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ambig_class_id = (*ambigs)[ambig];
    <span class="keyword">const</span> <a class="code" href="struct_a_d_a_p_t___c_l_a_s_s___s_t_r_u_c_t.html">ADAPT_CLASS</a> ambigs_class = <a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ambig_class_id];
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cfg = 0; cfg &lt; <a class="code" href="intproto_8h.html#a5f9a45f938cb06ecc0f9dbdc144155b1">MAX_NUM_CONFIGS</a>; ++cfg) {
      <span class="keywordflow">if</span> (<a class="code" href="adaptive_8h.html#a45d630ce43777ee1ab16048b0a846813">ConfigIsPermanent</a>(ambigs_class, cfg)) <span class="keywordflow">continue</span>;
      <span class="keyword">const</span> <a class="code" href="struct_t_e_m_p___c_o_n_f_i_g___s_t_r_u_c_t.html">TEMP_CONFIG</a> config =
        <a class="code" href="adaptive_8h.html#aebe34b43b3fd192fbde7130fa0c62933">TempConfigFor</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>-&gt;<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a0256081fa31eb38b52b19788ca62e327">Class</a>[ambig_class_id], cfg);
      <span class="keywordflow">if</span> (config != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code" href="classtesseract_1_1_classify.html#a786c5f6e2a5cd8aac2ed4dd89af84fea">TempConfigReliable</a>(ambig_class_id, config)) {
        <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> &gt;= 1) {
          <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Making config %d of %s permanent\n&quot;</span>, cfg,
                  <a class="code" href="classtesseract_1_1_classify.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().debug_str(
                      ambig_class_id).<span class="keywordtype">string</span>());
        }
        <a class="code" href="classtesseract_1_1_classify.html#aefb0cfe284dd67601798f7ae510b787f">MakePermanent</a>(<a class="code" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a>, ambig_class_id, cfg, denorm, Blob);
      }
    }
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1718afe45a09c6631f11ae224e6d5db6"></a><!-- doxytag: member="tesseract::Classify::WriteAdaptedTemplates" ref="a1718afe45a09c6631f11ae224e6d5db6" args="(FILE *File, ADAPT_TEMPLATES Templates)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::WriteAdaptedTemplates </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine saves Templates to File in a binary format.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">File</td><td>open text file to write Templates to </td></tr>
    <tr><td class="paramname">Templates</td><td>set of adapted templates to write to File</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Globals: none </dd>
<dd>
Exceptions: none </dd>
<dd>
History: Mon Mar 18 15:07:32 1991, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="adaptive_8cpp_source.html#l00507">507</a> of file <a class="el" href="adaptive_8cpp_source.html">adaptive.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
  <span class="keywordtype">int</span> i;

  <span class="comment">/* first write the high level adaptive template struct */</span>
  fwrite ((<span class="keywordtype">char</span> *) Templates, <span class="keyword">sizeof</span> (<a class="code" href="struct_a_d_a_p_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html">ADAPT_TEMPLATES_STRUCT</a>), 1, File);

  <span class="comment">/* then write out the basic integer templates */</span>
  <a class="code" href="classtesseract_1_1_classify.html#a81e8a5e5adfc60146ea3eb5b60936dd9">WriteIntTemplates</a> (File, Templates-&gt;Templates, <a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);

  <span class="comment">/* then write out the adaptive info for each class */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; (Templates-&gt;Templates)-&gt;NumClasses; i++) {
    <a class="code" href="adaptive_8cpp.html#a78e408661f8ca7de9554205ffa48781e">WriteAdaptedClass</a> (File, Templates-&gt;Class[i],
      Templates-&gt;Templates-&gt;Class[i]-&gt;NumConfigs);
  }
}                                <span class="comment">/* WriteAdaptedTemplates */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a81e8a5e5adfc60146ea3eb5b60936dd9"></a><!-- doxytag: member="tesseract::Classify::WriteIntTemplates" ref="a81e8a5e5adfc60146ea3eb5b60936dd9" args="(FILE *File, INT_TEMPLATES Templates, const UNICHARSET &amp;target_unicharset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Classify::WriteIntTemplates </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td>
          <td class="paramname"><em>Templates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>target_unicharset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="intproto_8cpp_source.html#l01155">1155</a> of file <a class="el" href="intproto_8cpp_source.html">intproto.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
<span class="comment">/*</span>
<span class="comment"> ** Parameters:</span>
<span class="comment"> **   File    open file to write templates to</span>
<span class="comment"> **   Templates templates to save into File</span>
<span class="comment"> ** Globals: none</span>
<span class="comment"> ** Operation: This routine writes Templates to File.  The format</span>
<span class="comment"> **   is an efficient binary format.  File must already be open</span>
<span class="comment"> **   for writing.</span>
<span class="comment"> ** Return: none</span>
<span class="comment"> ** Exceptions: none</span>
<span class="comment"> ** History: Wed Feb 27 11:48:46 1991, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordtype">int</span> i, j;
  <a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html">INT_CLASS</a> Class;
  <span class="keywordtype">int</span> unicharset_size = target_unicharset.<a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html#aa3e8073ebaf3e0022654c45f27135032">size</a>();
  <span class="keywordtype">int</span> version_id = -5;  <span class="comment">// When negated by the reader -1 becomes +1 etc.</span>

  <span class="keywordflow">if</span> (Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a> != unicharset_size) {
    <a class="code" href="callcpp_8cpp.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Warning: executing WriteIntTemplates() with %d classes in&quot;</span>
            <span class="stringliteral">&quot; Templates, while target_unicharset size is %d\n&quot;</span>,
            Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>, unicharset_size);
  }

  <span class="comment">/* first write the high level template struct */</span>
  fwrite(&amp;unicharset_size, <span class="keyword">sizeof</span>(unicharset_size), 1, File);
  fwrite(&amp;version_id, <span class="keyword">sizeof</span>(version_id), 1, File);
  fwrite(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>, <span class="keyword">sizeof</span>(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>),
         1, File);
  fwrite(&amp;Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>, <span class="keyword">sizeof</span>(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>), 1, File);

  <span class="comment">/* then write out the class pruners */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a6a13950c1c600a35e3c534f1751b1d89">NumClassPruners</a>; i++)
    fwrite(Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a614e997d4c6f4d1c5ff3b7dac186c536">ClassPruners</a>[i],
           <span class="keyword">sizeof</span>(<a class="code" href="struct_c_l_a_s_s___p_r_u_n_e_r___s_t_r_u_c_t.html">CLASS_PRUNER_STRUCT</a>), 1, File);

  <span class="comment">/* then write out each class */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a4735b2443aa7452909969d8d07e1877a">NumClasses</a>; i++) {
    Class = Templates-&gt;<a class="code" href="struct_i_n_t___t_e_m_p_l_a_t_e_s___s_t_r_u_c_t.html#a2083307ebe623a6617ff38291a2f3614">Class</a>[i];

    <span class="comment">/* first write out the high level struct for the class */</span>
    fwrite(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>, <span class="keyword">sizeof</span>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ab81b4bb4bddc50d49d1a66b809d9f629">NumProtos</a>), 1, File);
    fwrite(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a92a0b5397c2b6f3cc0346a72ce3595bd">NumProtoSets</a>, <span class="keyword">sizeof</span>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a92a0b5397c2b6f3cc0346a72ce3595bd">NumProtoSets</a>), 1, File);
    <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a> == this-&gt;fontset_table_.get(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>).size);
    fwrite(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>, <span class="keyword">sizeof</span>(Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>), 1, File);
    <span class="keywordflow">for</span> (j = 0; j &lt; Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#abb9c509f11364b949fe9764bc122938c">NumConfigs</a>; ++j) {
      fwrite(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a86454e5d855825a4b2b370038598e88c">ConfigLengths</a>[j], <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>), 1, File);
    }

    <span class="comment">/* then write out the proto lengths */</span>
    <span class="keywordflow">if</span> (<a class="code" href="intproto_8h.html#a169c71bb67d9d85f2a7eca9c20cce40a">MaxNumIntProtosIn</a> (Class) &gt; 0) {
      fwrite ((<span class="keywordtype">char</span> *) (Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a9b4f333b97970433f1c34d45103281d3">ProtoLengths</a>), sizeof (<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>),
              <a class="code" href="intproto_8h.html#a169c71bb67d9d85f2a7eca9c20cce40a">MaxNumIntProtosIn</a> (Class), File);
    }

    <span class="comment">/* then write out the proto sets */</span>
    <span class="keywordflow">for</span> (j = 0; j &lt; Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#a92a0b5397c2b6f3cc0346a72ce3595bd">NumProtoSets</a>; j++)
      fwrite ((<span class="keywordtype">char</span> *) Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#ac11726dfb0e9ac06fd00351082ca7888">ProtoSets</a>[j],
              sizeof (<a class="code" href="struct_p_r_o_t_o___s_e_t___s_t_r_u_c_t.html">PROTO_SET_STRUCT</a>), 1, File);

    <span class="comment">/* then write the fonts info */</span>
    fwrite(&amp;Class-&gt;<a class="code" href="struct_i_n_t___c_l_a_s_s___s_t_r_u_c_t.html#af0d8fa528ac2dd07fe4f39ef84a6fd7c">font_set_id</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), 1, File);
  }

  <span class="comment">/* Write the fonts info tables */</span>
  this-&gt;<a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#a23b683e4ea0132af3004552f5d515d61">write</a>(File, <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a39563e2e9bd26b96504e53ae2c9defcc">write_info</a>));
  this-&gt;<a class="code" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a>.<a class="code" href="class_unicity_table.html#a23b683e4ea0132af3004552f5d515d61">write</a>(File,
                              <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a48b60e911578a0285e73738e81181abf">write_spacing_info</a>));
  this-&gt;<a class="code" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a>.<a class="code" href="class_unicity_table.html#a23b683e4ea0132af3004552f5d515d61">write</a>(File, <a class="code" href="tesscallback_8h.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<a class="code" href="namespacetesseract.html#a385582f69442d7d9588e2983c768cec1">write_set</a>));
}                                <span class="comment">/* WriteIntTemplates */</span>
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a49c2bec2694a12cb6518001d8193d58d"></a><!-- doxytag: member="tesseract::Classify::AdaptedTemplates" ref="a49c2bec2694a12cb6518001d8193d58d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="adaptive_8h.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> <a class="el" href="classtesseract_1_1_classify.html#a49c2bec2694a12cb6518001d8193d58d">tesseract::Classify::AdaptedTemplates</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00430">430</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a974e5b3b4ee8b184a3af4ba782750dd7"></a><!-- doxytag: member="tesseract::Classify::AllConfigsOff" ref="a974e5b3b4ee8b184a3af4ba782750dd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#a974e5b3b4ee8b184a3af4ba782750dd7">tesseract::Classify::AllConfigsOff</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00437">437</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="ada1ef7ff613927daa2838ba41eaa055f"></a><!-- doxytag: member="tesseract::Classify::AllConfigsOn" ref="ada1ef7ff613927daa2838ba41eaa055f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#ada1ef7ff613927daa2838ba41eaa055f">tesseract::Classify::AllConfigsOn</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00435">435</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a04608dab39f896c0358b42c228a7ef32"></a><!-- doxytag: member="tesseract::Classify::AllProtosOff" ref="a04608dab39f896c0358b42c228a7ef32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#a04608dab39f896c0358b42c228a7ef32">tesseract::Classify::AllProtosOff</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00436">436</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a08295fdeacbf1d536337f542320e86e2"></a><!-- doxytag: member="tesseract::Classify::AllProtosOn" ref="a08295fdeacbf1d536337f542320e86e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#a08295fdeacbf1d536337f542320e86e2">tesseract::Classify::AllProtosOn</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00433">433</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa220c70c7e0b0f7b0276d421c95feedd"></a><!-- doxytag: member="tesseract::Classify::certainty_scale" ref="aa220c70c7e0b0f7b0276d421c95feedd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#aa220c70c7e0b0f7b0276d421c95feedd">tesseract::Classify::certainty_scale</a> = 20.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Certainty scaling factor" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00398">398</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="af722952ac0ab0339ade3abbbe10f8b6b"></a><!-- doxytag: member="tesseract::Classify::classify_adapt_feature_threshold" ref="af722952ac0ab0339ade3abbbe10f8b6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#af722952ac0ab0339ade3abbbe10f8b6b">tesseract::Classify::classify_adapt_feature_threshold</a> = 230</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Threshold for good features during adaptive 0-255" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00404">404</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3d74369343952e81efa5ac8858d5e9d1"></a><!-- doxytag: member="tesseract::Classify::classify_adapt_proto_threshold" ref="a3d74369343952e81efa5ac8858d5e9d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a3d74369343952e81efa5ac8858d5e9d1">tesseract::Classify::classify_adapt_proto_threshold</a> = 230</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Threshold for good protos during adaptive 0-255" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00402">402</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57e449d38b255fe82e61d88ded8b0020"></a><!-- doxytag: member="tesseract::Classify::classify_bln_numeric_mode" ref="a57e449d38b255fe82e61d88ded8b0020" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a57e449d38b255fe82e61d88ded8b0020">tesseract::Classify::classify_bln_numeric_mode</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Assume the input is numbers [0-9]." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00455">455</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7bef23fa815b3c02261800ca82b05911"></a><!-- doxytag: member="tesseract::Classify::classify_char_norm_range" ref="a7bef23fa815b3c02261800ca82b05911" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a7bef23fa815b3c02261800ca82b05911">tesseract::Classify::classify_char_norm_range</a> = 0.2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Character Normalization Range ..." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00363">363</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a342dfc4f244244bd1bc211ea910e2b12"></a><!-- doxytag: member="tesseract::Classify::classify_character_fragments_garbage_certainty_threshold" ref="a342dfc4f244244bd1bc211ea910e2b12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a342dfc4f244244bd1bc211ea910e2b12">tesseract::Classify::classify_character_fragments_garbage_certainty_threshold</a> = -3.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Exclude fragments that do not match any whole character" " with at least this certainty" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00410">410</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a406c1644ce61dfb376ae9975f89c54ba"></a><!-- doxytag: member="tesseract::Classify::classify_class_pruner_multiplier" ref="a406c1644ce61dfb376ae9975f89c54ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a406c1644ce61dfb376ae9975f89c54ba">tesseract::Classify::classify_class_pruner_multiplier</a> = 30</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Class Pruner Multiplier 0-255:       " </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00422">422</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6e0102d0d21b6151893a199cc84a6e93"></a><!-- doxytag: member="tesseract::Classify::classify_class_pruner_threshold" ref="a6e0102d0d21b6151893a199cc84a6e93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a6e0102d0d21b6151893a199cc84a6e93">tesseract::Classify::classify_class_pruner_threshold</a> = 229</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Class Pruner Threshold 0-255" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00420">420</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2f3faf7d282a1b58b10b3866693a4f08"></a><!-- doxytag: member="tesseract::Classify::classify_cp_cutoff_strength" ref="a2f3faf7d282a1b58b10b3866693a4f08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a2f3faf7d282a1b58b10b3866693a4f08">tesseract::Classify::classify_cp_cutoff_strength</a> = 7</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Class Pruner CutoffStrength:         " </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00424">424</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0c8e4bf5e3032c6468b909b6aca7f416"></a><!-- doxytag: member="tesseract::Classify::classify_debug_character_fragments" ref="a0c8e4bf5e3032c6468b909b6aca7f416" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a0c8e4bf5e3032c6468b909b6aca7f416">tesseract::Classify::classify_debug_character_fragments</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Bring up graphical debugging windows for fragments training" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00412">412</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f934f0b39cb869d2a4973269fb696cf"></a><!-- doxytag: member="tesseract::Classify::classify_debug_level" ref="a0f934f0b39cb869d2a4973269fb696cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a0f934f0b39cb869d2a4973269fb696cf">tesseract::Classify::classify_debug_level</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Classify debug level" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00357">357</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2420bb00ab392215cbc8b5f72d9cf81a"></a><!-- doxytag: member="tesseract::Classify::classify_enable_adaptive_debugger" ref="a2420bb00ab392215cbc8b5f72d9cf81a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a2420bb00ab392215cbc8b5f72d9cf81a">tesseract::Classify::classify_enable_adaptive_debugger</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Enable match debugger" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00377">377</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="adaa9bf9e188634ffa99c83204be2129f"></a><!-- doxytag: member="tesseract::Classify::classify_enable_adaptive_matcher" ref="adaa9bf9e188634ffa99c83204be2129f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#adaa9bf9e188634ffa99c83204be2129f">tesseract::Classify::classify_enable_adaptive_matcher</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Enable adaptive classifier" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00372">372</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7691700e9742ecdc10e0f8ee75682991"></a><!-- doxytag: member="tesseract::Classify::classify_enable_learning" ref="a7691700e9742ecdc10e0f8ee75682991" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a7691700e9742ecdc10e0f8ee75682991">tesseract::Classify::classify_enable_learning</a> = true</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Enable adaptive classifier" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00356">356</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="acab8de2f560b04b48191f60099e4244b"></a><!-- doxytag: member="tesseract::Classify::classify_integer_matcher_multiplier" ref="acab8de2f560b04b48191f60099e4244b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#acab8de2f560b04b48191f60099e4244b">tesseract::Classify::classify_integer_matcher_multiplier</a> = 14</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Integer Matcher Multiplier  0-255:   " </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00426">426</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="abdd8831d44ce5ea36f7bbee1ed9c4e8a"></a><!-- doxytag: member="tesseract::Classify::classify_learn_debug_str" ref="abdd8831d44ce5ea36f7bbee1ed9c4e8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="classtesseract_1_1_classify.html#abdd8831d44ce5ea36f7bbee1ed9c4e8a">tesseract::Classify::classify_learn_debug_str</a> = &quot;&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Class str to debug learning" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00416">416</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9e34f61db55f7f312f8e1531b2368bc"></a><!-- doxytag: member="tesseract::Classify::classify_learning_debug_level" ref="af9e34f61db55f7f312f8e1531b2368bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#af9e34f61db55f7f312f8e1531b2368bc">tesseract::Classify::classify_learning_debug_level</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Learning Debug Level: " </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00380">380</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3f89a54fbee53fa65e3d2c2947dab449"></a><!-- doxytag: member="tesseract::Classify::classify_max_norm_scale_x" ref="a3f89a54fbee53fa65e3d2c2947dab449" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a3f89a54fbee53fa65e3d2c2947dab449">tesseract::Classify::classify_max_norm_scale_x</a> = 0.325</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Max char x-norm scale ..." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00365">365</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="addf6334cb29c021e52587f20ac5b30b2"></a><!-- doxytag: member="tesseract::Classify::classify_max_norm_scale_y" ref="addf6334cb29c021e52587f20ac5b30b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#addf6334cb29c021e52587f20ac5b30b2">tesseract::Classify::classify_max_norm_scale_y</a> = 0.325</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Max char y-norm scale ..." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00367">367</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8ffda27cc071fa6c63c406fe9749f276"></a><!-- doxytag: member="tesseract::Classify::classify_min_norm_scale_x" ref="a8ffda27cc071fa6c63c406fe9749f276" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a8ffda27cc071fa6c63c406fe9749f276">tesseract::Classify::classify_min_norm_scale_x</a> = 0.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Min char x-norm scale ..." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00364">364</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0d1928e7dac3c17776220d35f08a48ec"></a><!-- doxytag: member="tesseract::Classify::classify_min_norm_scale_y" ref="a0d1928e7dac3c17776220d35f08a48ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a0d1928e7dac3c17776220d35f08a48ec">tesseract::Classify::classify_min_norm_scale_y</a> = 0.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Min char y-norm scale ..." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00366">366</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a67a98c273b9c1b7cc951fcb20e376bf3"></a><!-- doxytag: member="tesseract::Classify::classify_misfit_junk_penalty" ref="a67a98c273b9c1b7cc951fcb20e376bf3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a67a98c273b9c1b7cc951fcb20e376bf3">tesseract::Classify::classify_misfit_junk_penalty</a> = 0.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Penalty to apply when a non-alnum is vertically out of " "its expected textline position" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00396">396</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa92ef2f6a1f0e726d576a59644c3cc63"></a><!-- doxytag: member="tesseract::Classify::classify_norm_method" ref="aa92ef2f6a1f0e726d576a59644c3cc63" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#aa92ef2f6a1f0e726d576a59644c3cc63">tesseract::Classify::classify_norm_method</a> = character</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Normalization Method   ..." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00361">361</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a27fe54e49f64e61f40b4e50e8ff4084c"></a><!-- doxytag: member="tesseract::Classify::classify_save_adapted_templates" ref="a27fe54e49f64e61f40b4e50e8ff4084c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a27fe54e49f64e61f40b4e50e8ff4084c">tesseract::Classify::classify_save_adapted_templates</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Save adapted templates to a file" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00376">376</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a52c6bf81f09a61859f999707e37c47f0"></a><!-- doxytag: member="tesseract::Classify::classify_use_pre_adapted_templates" ref="a52c6bf81f09a61859f999707e37c47f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a52c6bf81f09a61859f999707e37c47f0">tesseract::Classify::classify_use_pre_adapted_templates</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Use pre-adapted classifier templates" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00374">374</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab9c25bf0ebc01c57728e19b2bbc980ef"></a><!-- doxytag: member="tesseract::Classify::disable_character_fragments" ref="ab9c25bf0ebc01c57728e19b2bbc980ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#ab9c25bf0ebc01c57728e19b2bbc980ef">tesseract::Classify::disable_character_fragments</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Do not include character fragments in the" " results of the classifier" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00407">407</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7d0ccfd06421346d8cda0f1b76fd8516"></a><!-- doxytag: member="tesseract::Classify::EnableLearning" ref="a7d0ccfd06421346d8cda0f1b76fd8516" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a7d0ccfd06421346d8cda0f1b76fd8516">tesseract::Classify::EnableLearning</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00439">439</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6ebcfd2968c704f99efd40075ecdb138"></a><!-- doxytag: member="tesseract::Classify::feature_defs_" ref="a6ebcfd2968c704f99efd40075ecdb138" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_e_a_t_u_r_e___d_e_f_s___s_t_r_u_c_t.html">FEATURE_DEFS_STRUCT</a> <a class="el" href="classtesseract_1_1_classify.html#a6ebcfd2968c704f99efd40075ecdb138">tesseract::Classify::feature_defs_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00459">459</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae6dea981b2f591921d798ea83b0fa455"></a><!-- doxytag: member="tesseract::Classify::fontinfo_table_" ref="ae6dea981b2f591921d798ea83b0fa455" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt;<a class="el" href="structtesseract_1_1_font_info.html">FontInfo</a>&gt; <a class="el" href="classtesseract_1_1_classify.html#ae6dea981b2f591921d798ea83b0fa455">tesseract::Classify::fontinfo_table_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00443">443</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a74a007a46ac907d2c8f61e9885143465"></a><!-- doxytag: member="tesseract::Classify::fontset_table_" ref="a74a007a46ac907d2c8f61e9885143465" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_unicity_table.html">UnicityTable</a>&lt;<a class="el" href="structtesseract_1_1_font_set.html">FontSet</a>&gt; <a class="el" href="classtesseract_1_1_classify.html#a74a007a46ac907d2c8f61e9885143465">tesseract::Classify::fontset_table_</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00451">451</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a048eceaa95452969dc6cc5d29d97e5cf"></a><!-- doxytag: member="tesseract::Classify::il1_adaption_test" ref="a048eceaa95452969dc6cc5d29d97e5cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a048eceaa95452969dc6cc5d29d97e5cf">tesseract::Classify::il1_adaption_test</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Dont adapt to i/I at beginning of word" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00453">453</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a093af2c004819e86bfff80ad88f10c37"></a><!-- doxytag: member="tesseract::Classify::im_" ref="a093af2c004819e86bfff80ad88f10c37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_integer_matcher.html">IntegerMatcher</a> <a class="el" href="classtesseract_1_1_classify.html#a093af2c004819e86bfff80ad88f10c37">tesseract::Classify::im_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00455">455</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9723b1f4a341f42ddfc68d2f531c7dd3"></a><!-- doxytag: member="tesseract::Classify::matcher_avg_noise_size" ref="a9723b1f4a341f42ddfc68d2f531c7dd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a9723b1f4a341f42ddfc68d2f531c7dd3">tesseract::Classify::matcher_avg_noise_size</a> = 12.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Avg. noise blob length: " </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00386">386</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a10595e84248f68a98f8e73bcdb6ae89a"></a><!-- doxytag: member="tesseract::Classify::matcher_bad_match_pad" ref="a10595e84248f68a98f8e73bcdb6ae89a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a10595e84248f68a98f8e73bcdb6ae89a">tesseract::Classify::matcher_bad_match_pad</a> = 0.15</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Bad Match Pad (0-1)" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00384">384</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a76bc2aed534982a6b67afe8a6653b04f"></a><!-- doxytag: member="tesseract::Classify::matcher_clustering_max_angle_delta" ref="a76bc2aed534982a6b67afe8a6653b04f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a76bc2aed534982a6b67afe8a6653b04f">tesseract::Classify::matcher_clustering_max_angle_delta</a> = 0.015</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Maximum angle delta for prototype clustering" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00393">393</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3bfadb1d56669868fe7d18e12a7716dc"></a><!-- doxytag: member="tesseract::Classify::matcher_debug_flags" ref="a3bfadb1d56669868fe7d18e12a7716dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a3bfadb1d56669868fe7d18e12a7716dc">tesseract::Classify::matcher_debug_flags</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Matcher Debug Flags" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00379">379</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a59d2ce9a817ab97d37a459ca2459cf8e"></a><!-- doxytag: member="tesseract::Classify::matcher_debug_level" ref="a59d2ce9a817ab97d37a459ca2459cf8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a59d2ce9a817ab97d37a459ca2459cf8e">tesseract::Classify::matcher_debug_level</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Matcher Debug Level" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00378">378</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a08873fa3ea379656484c07f606f8a09c"></a><!-- doxytag: member="tesseract::Classify::matcher_debug_separate_windows" ref="a08873fa3ea379656484c07f606f8a09c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a08873fa3ea379656484c07f606f8a09c">tesseract::Classify::matcher_debug_separate_windows</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Use two different windows for debugging the matching: " "One for the protos and one for the features." </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00415">415</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="adc3a809a1a219f741a9e45a32e0d11bc"></a><!-- doxytag: member="tesseract::Classify::matcher_good_threshold" ref="adc3a809a1a219f741a9e45a32e0d11bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#adc3a809a1a219f741a9e45a32e0d11bc">tesseract::Classify::matcher_good_threshold</a> = 0.125</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Good Match (0-1)" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00381">381</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8f17cd68516b18d7a0aaba311585a8ab"></a><!-- doxytag: member="tesseract::Classify::matcher_great_threshold" ref="a8f17cd68516b18d7a0aaba311585a8ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a8f17cd68516b18d7a0aaba311585a8ab">tesseract::Classify::matcher_great_threshold</a> = 0.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Great Match (0-1)" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00382">382</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a33bc8d687ec0504c697ac0e1ace5567d"></a><!-- doxytag: member="tesseract::Classify::matcher_min_examples_for_prototyping" ref="a33bc8d687ec0504c697ac0e1ace5567d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a33bc8d687ec0504c697ac0e1ace5567d">tesseract::Classify::matcher_min_examples_for_prototyping</a> = 3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Reliable Config Threshold" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00389">389</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3d9ace4f4ae0ddf01942ced19410adbe"></a><!-- doxytag: member="tesseract::Classify::matcher_perfect_threshold" ref="a3d9ace4f4ae0ddf01942ced19410adbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a3d9ace4f4ae0ddf01942ced19410adbe">tesseract::Classify::matcher_perfect_threshold</a> = 0.02</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Perfect Match (0-1)" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00383">383</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a727f2429705dabdd078d6748f0e81c42"></a><!-- doxytag: member="tesseract::Classify::matcher_permanent_classes_min" ref="a727f2429705dabdd078d6748f0e81c42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a727f2429705dabdd078d6748f0e81c42">tesseract::Classify::matcher_permanent_classes_min</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Min # of permanent classes" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00387">387</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7940573dfb85992433c6f51965a9fea5"></a><!-- doxytag: member="tesseract::Classify::matcher_rating_margin" ref="a7940573dfb85992433c6f51965a9fea5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a7940573dfb85992433c6f51965a9fea5">tesseract::Classify::matcher_rating_margin</a> = 0.1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"New template margin (0-1)" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00385">385</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad47099cfac2701d8fe3a24dd12eab0e1"></a><!-- doxytag: member="tesseract::Classify::matcher_sufficient_examples_for_prototyping" ref="ad47099cfac2701d8fe3a24dd12eab0e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#ad47099cfac2701d8fe3a24dd12eab0e1">tesseract::Classify::matcher_sufficient_examples_for_prototyping</a> = 5</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Enable adaption even if the ambiguities have not been seen" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00391">391</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad4c94be5d5738afb4115a12cad2e3efa"></a><!-- doxytag: member="tesseract::Classify::NormProtos" ref="ad4c94be5d5738afb4115a12cad2e3efa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_n_o_r_m___p_r_o_t_o_s.html">NORM_PROTOS</a>* <a class="el" href="classtesseract_1_1_classify.html#ad4c94be5d5738afb4115a12cad2e3efa">tesseract::Classify::NormProtos</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00441">441</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a64383806f917e682c4a644efdd71d530"></a><!-- doxytag: member="tesseract::Classify::PreTrainedTemplates" ref="a64383806f917e682c4a644efdd71d530" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="intproto_8h.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> <a class="el" href="classtesseract_1_1_classify.html#a64383806f917e682c4a644efdd71d530">tesseract::Classify::PreTrainedTemplates</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00426">426</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a22717c4d299d3a52683ad90114b20200"></a><!-- doxytag: member="tesseract::Classify::prioritize_division" ref="a22717c4d299d3a52683ad90114b20200" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a22717c4d299d3a52683ad90114b20200">tesseract::Classify::prioritize_division</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Prioritize blob division over chopping" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00354">354</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3306f7dc2f0df8c08a9933493262a2c9"></a><!-- doxytag: member="tesseract::Classify::PrunedProtos" ref="a3306f7dc2f0df8c08a9933493262a2c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#a3306f7dc2f0df8c08a9933493262a2c9">tesseract::Classify::PrunedProtos</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00434">434</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab2ed08d2587e66a131f7fcd229102566"></a><!-- doxytag: member="tesseract::Classify::rating_scale" ref="ab2ed08d2587e66a131f7fcd229102566" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#ab2ed08d2587e66a131f7fcd229102566">tesseract::Classify::rating_scale</a> = 1.5</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Rating scaling factor" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00397">397</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a471b3e8f03ddc5281c167b37d8ddc5b5"></a><!-- doxytag: member="tesseract::Classify::shape_table_" ref="a471b3e8f03ddc5281c167b37d8ddc5b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtesseract_1_1_shape_table.html">ShapeTable</a>* <a class="el" href="classtesseract_1_1_classify.html#a471b3e8f03ddc5281c167b37d8ddc5b5">tesseract::Classify::shape_table_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00464">464</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a26b1c76382f418bf5a78bad15b23b8ad"></a><!-- doxytag: member="tesseract::Classify::TempProtoMask" ref="a26b1c76382f418bf5a78bad15b23b8ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bitvec_8h.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="classtesseract_1_1_classify.html#a26b1c76382f418bf5a78bad15b23b8ad">tesseract::Classify::TempProtoMask</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="classify_8h_source.html#l00438">438</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a85fcc9966cddbc38adf1014dd0cd778c"></a><!-- doxytag: member="tesseract::Classify::tess_bn_matching" ref="a85fcc9966cddbc38adf1014dd0cd778c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a85fcc9966cddbc38adf1014dd0cd778c">tesseract::Classify::tess_bn_matching</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Baseline Normalized Matching" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00371">371</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a746dbbd1c99e99f3d213077cceedf80e"></a><!-- doxytag: member="tesseract::Classify::tess_cn_matching" ref="a746dbbd1c99e99f3d213077cceedf80e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classtesseract_1_1_classify.html#a746dbbd1c99e99f3d213077cceedf80e">tesseract::Classify::tess_cn_matching</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Character Normalized Matching" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00370">370</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0be36efceb5fcf41dfbc032516af2ace"></a><!-- doxytag: member="tesseract::Classify::tessedit_class_miss_scale" ref="a0be36efceb5fcf41dfbc032516af2ace" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classtesseract_1_1_classify.html#a0be36efceb5fcf41dfbc032516af2ace">tesseract::Classify::tessedit_class_miss_scale</a> = 0.00390625</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Scale factor for features not used" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00400">400</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<a class="anchor" id="a96f1213af9f43f2ec0ab9e22f32da3b6"></a><!-- doxytag: member="tesseract::Classify::tessedit_single_match" ref="a96f1213af9f43f2ec0ab9e22f32da3b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classtesseract_1_1_classify.html#a96f1213af9f43f2ec0ab9e22f32da3b6">tesseract::Classify::tessedit_single_match</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Top choice only from CP" </p>

<p>Definition at line <a class="el" href="classify_8h_source.html#l00355">355</a> of file <a class="el" href="classify_8h_source.html">classify.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>tesseract-ocr/classify/<a class="el" href="classify_8h_source.html">classify.h</a></li>
<li>tesseract-ocr/classify/<a class="el" href="adaptive_8cpp_source.html">adaptive.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="adaptmatch_8cpp_source.html">adaptmatch.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="classify_8cpp_source.html">classify.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="cutoffs_8cpp_source.html">cutoffs.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="float2int_8cpp_source.html">float2int.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="intmatcher_8cpp_source.html">intmatcher.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="intproto_8cpp_source.html">intproto.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="mfoutline_8cpp_source.html">mfoutline.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="normmatch_8cpp_source.html">normmatch.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="outfeat_8cpp_source.html">outfeat.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="picofeat_8cpp_source.html">picofeat.cpp</a></li>
<li>tesseract-ocr/classify/<a class="el" href="protos_8cpp_source.html">protos.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacetesseract.html">tesseract</a>      </li>
      <li class="navelem"><a class="el" href="classtesseract_1_1_classify.html">Classify</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Wed Mar 28 2012 22:38:50 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
