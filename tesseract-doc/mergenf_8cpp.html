<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: tesseract-ocr/training/mergenf.cpp File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('mergenf_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tesseract-ocr/training/mergenf.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mergenf_8h_source.html">mergenf.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="host_8h_source.html">host.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="efio_8h_source.html">efio.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="clusttool_8h_source.html">clusttool.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cluster_8h_source.html">cluster.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="oldlist_8h_source.html">oldlist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="protos_8h_source.html">protos.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ndminx_8h_source.html">ndminx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ocrfeatures_8h_source.html">ocrfeatures.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="const_8h_source.html">const.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="featdefs_8h_source.html">featdefs.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="intproto_8h_source.html">intproto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="params_8h_source.html">params.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
</div>
<p><a href="mergenf_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a6eed15398f6899befdf5691fd6bc83d8">CompareProtos</a> (<a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> p1, <a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> p2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#af65524887b6780b35be7254c792e15a0">ComputeMergedProto</a> (<a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> p1, <a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> p2, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> w1, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> w2, <a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> MergedProto)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#ab51cc9a0af3a57f032ba52fd54e63b64">FindClosestExistingProto</a> (<a class="el" href="protos_8h.html#ac6dd4312d295c65a9165f4a5401c75f7">CLASS_TYPE</a> Class, int NumMerged[], <a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Prototype)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a49e44db121ae7c194e8e806fd8eec532">MakeNewFromOld</a> (<a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> New, <a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Old)</td></tr>
<tr><td colspan="2"><div class="groupHeader">SubfeatureEvidence</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Compare a feature to a prototype. Print the result. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a32930b8c8bea42382fd94847fa4afb50">SubfeatureEvidence</a> (<a class="el" href="ocrfeatures_8h.html#a19902c8e979ab51dbf6be841e4048f7d">FEATURE</a> Feature, <a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> Proto)</td></tr>
<tr><td colspan="2"><div class="groupHeader">EvidenceOf</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Return the new type of evidence number corresponding to this distance value. This number is no longer based on the chi squared approximation. The equation that represents the transform is: 1 / (1 + (sim / midpoint) ^ curl) </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a7f02eafd94a0bc60d12e0acfb3955a42">EvidenceOf</a> (double Similarity)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#add5bca81816a5a90e97d444551cca2b4">DummyFastMatch</a> (<a class="el" href="ocrfeatures_8h.html#a19902c8e979ab51dbf6be841e4048f7d">FEATURE</a> Feature, <a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> Proto)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#ae0a0ae57dcff7cb2bfbcf7443c91bce0">ComputePaddedBoundingBox</a> (<a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> Proto, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> TangentPad, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> OrthogonalPad, <a class="el" href="struct_f_r_e_c_t.html">FRECT</a> *BoundingBox)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a08e569535872c1232e9a4b96e501ce23">PointInside</a> (<a class="el" href="struct_f_r_e_c_t.html">FRECT</a> *Rectangle, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> X, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Y)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a6ab3ea6cb4f958e5eaffe5f01428c1e4">training_angle_match_scale</a> = 1.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a48441921f382af1727ab51e846ee5c83">training_similarity_midpoint</a> = 0.0075</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a14a4d7cf8b387ec98200d010b327ef22">training_similarity_curl</a> = 2.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a8c84d5c981e2a3447203bdc89022e44c">training_tangent_bbox_pad</a> = 0.5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#a13f347d8004acdbcd265d092740c2bfe">training_orthogonal_bbox_pad</a> = 2.5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mergenf_8cpp.html#ae17b00cafc96bf46a224d12fba4a2ffb">training_angle_pad</a> = 45.0</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6eed15398f6899befdf5691fd6bc83d8"></a><!-- doxytag: member="mergenf.cpp::CompareProtos" ref="a6eed15398f6899befdf5691fd6bc83d8" args="(PROTO p1, PROTO p2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> CompareProtos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>p2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compare protos p1 and p2 and return an estimate of the worst evidence rating that will result for any part of p1 that is compared to p2. In other words, if p1 were broken into pico-features and each pico-feature was matched to p2, what is the worst evidence rating that will be achieved for any pico-feature.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p1,p2</td><td>protos to be compared</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Worst possible result when matching p1 to p2. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Mon Nov 26 08:27:53 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00067">67</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
  <a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html">FEATURE</a> Feature;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> WorstEvidence = <a class="code" href="mergenf_8h.html#a8750ec2f0a722ea9d9acb8b5dd948a71">WORST_EVIDENCE</a>;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Evidence;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Angle, Length;

  <span class="comment">/* if p1 and p2 are not close in length, don&#39;t let them match */</span>
  Length = fabs (p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> - p2-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a>);
  <span class="keywordflow">if</span> (Length &gt; <a class="code" href="mergenf_8h.html#a5e6285fbaff23c8269d0d4557134992a">MAX_LENGTH_MISMATCH</a>)
    <span class="keywordflow">return</span> (0.0);

  <span class="comment">/* create a dummy pico-feature to be used for comparisons */</span>
  Feature = <a class="code" href="ocrfeatures_8cpp.html#a32a08c42617c8dd6a156c1c8d7fb2cbb">NewFeature</a> (&amp;PicoFeatDesc);
  Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>] = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a>;

  <span class="comment">/* convert angle to radians */</span>
  Angle = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> * 2.0 * <a class="code" href="const_8h.html#a598a3330b3c21701223ee0ca14316eca">PI</a>;

  <span class="comment">/* find distance from center of p1 to 1/2 picofeat from end */</span>
  Length = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> / 2.0 - <a class="code" href="picofeat_8h.html#a35f5a174efc9c6197837aaf5544c78f2">GetPicoFeatureLength</a> () / 2.0;
  <span class="keywordflow">if</span> (Length &lt; 0) Length = 0;

  <span class="comment">/* set the dummy pico-feature at one end of p1 and match it to p2 */</span>
  Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>] = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> + cos (Angle) * Length;
  Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>] = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> + sin (Angle) * Length;
  <span class="keywordflow">if</span> (<a class="code" href="mergenf_8cpp.html#add5bca81816a5a90e97d444551cca2b4">DummyFastMatch</a> (Feature, p2)) {
    Evidence = <a class="code" href="mergenf_8cpp.html#a32930b8c8bea42382fd94847fa4afb50">SubfeatureEvidence</a> (Feature, p2);
    <span class="keywordflow">if</span> (Evidence &lt; WorstEvidence)
      WorstEvidence = Evidence;
  } <span class="keywordflow">else</span> {
    <a class="code" href="ocrfeatures_8cpp.html#acaf54a6410150ec74f66ec6621f1352f">FreeFeature</a>(Feature);
    <span class="keywordflow">return</span> 0.0;
  }

  <span class="comment">/* set the dummy pico-feature at the other end of p1 and match it to p2 */</span>
  Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>] = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> - cos (Angle) * Length;
  Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>] = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> - sin (Angle) * Length;
  <span class="keywordflow">if</span> (<a class="code" href="mergenf_8cpp.html#add5bca81816a5a90e97d444551cca2b4">DummyFastMatch</a> (Feature, p2)) {
    Evidence = <a class="code" href="mergenf_8cpp.html#a32930b8c8bea42382fd94847fa4afb50">SubfeatureEvidence</a> (Feature, p2);
    <span class="keywordflow">if</span> (Evidence &lt; WorstEvidence)
      WorstEvidence = Evidence;
  } <span class="keywordflow">else</span> {
    <a class="code" href="ocrfeatures_8cpp.html#acaf54a6410150ec74f66ec6621f1352f">FreeFeature</a>(Feature);
    <span class="keywordflow">return</span> 0.0;
  }

  <a class="code" href="ocrfeatures_8cpp.html#acaf54a6410150ec74f66ec6621f1352f">FreeFeature</a> (Feature);
  <span class="keywordflow">return</span> (WorstEvidence);

} <span class="comment">/* CompareProtos */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af65524887b6780b35be7254c792e15a0"></a><!-- doxytag: member="mergenf.cpp::ComputeMergedProto" ref="af65524887b6780b35be7254c792e15a0" args="(PROTO p1, PROTO p2, FLOAT32 w1, FLOAT32 w2, PROTO MergedProto)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeMergedProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>w1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>w2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>MergedProto</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine computes a proto which is the weighted average of protos p1 and p2. The new proto is returned in MergedProto.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p1,p2</td><td>protos to be merged </td></tr>
    <tr><td class="paramname">w1,w2</td><td>weight of each proto </td></tr>
    <tr><td class="paramname">MergedProto</td><td>place to put resulting merged proto</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>none (results are returned in MergedProto) </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Mon Nov 26 08:15:08 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00133">133</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> TotalWeight;

  TotalWeight = w1 + w2;
  w1 /= TotalWeight;
  w2 /= TotalWeight;

  MergedProto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> * w1 + p2-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> * w2;
  MergedProto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> * w1 + p2-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> * w2;
  MergedProto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> * w1 + p2-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> * w2;
  MergedProto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> = p1-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> * w1 + p2-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> * w2;
  <a class="code" href="protos_8cpp.html#ac0d58978bbcf0c732ae94fb554bccd3b">FillABC</a>(MergedProto);
} <span class="comment">/* ComputeMergedProto */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae0a0ae57dcff7cb2bfbcf7443c91bce0"></a><!-- doxytag: member="mergenf.cpp::ComputePaddedBoundingBox" ref="ae0a0ae57dcff7cb2bfbcf7443c91bce0" args="(PROTO Proto, FLOAT32 TangentPad, FLOAT32 OrthogonalPad, FRECT *BoundingBox)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputePaddedBoundingBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>Proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>TangentPad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>OrthogonalPad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_r_e_c_t.html">FRECT</a> *&#160;</td>
          <td class="paramname"><em>BoundingBox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine computes a bounding box that encloses the specified proto along with some padding. The amount of padding is specified as separate distances in the tangential and orthogonal directions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">Proto</td><td>proto to compute bounding box for </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">TangentPad</td><td>amount of pad to add in direction of segment </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">OrthogonalPad</td><td>amount of pad to add orthogonal to segment </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">BoundingBox</td><td>place to put results</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>none (results are returned in BoundingBox) </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Nov 14 14:55:30 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00318">318</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Pad, Length, Angle;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> CosOfAngle, SinOfAngle;

  Length     = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> / 2.0 + TangentPad;
  Angle      = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> * 2.0 * <a class="code" href="const_8h.html#a598a3330b3c21701223ee0ca14316eca">PI</a>;
  CosOfAngle = fabs(cos(Angle));
  SinOfAngle = fabs(sin(Angle));

  Pad = <a class="code" href="ndminx_8h.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (CosOfAngle * Length, SinOfAngle * OrthogonalPad);
  BoundingBox-&gt;<a class="code" href="struct_f_r_e_c_t.html#a56623b6372391170e5737ef98a888a97">MinX</a> = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> - Pad;
  BoundingBox-&gt;<a class="code" href="struct_f_r_e_c_t.html#a97ec24e7216ebc33a31f3256da8cb9fb">MaxX</a> = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> + Pad;

  Pad = <a class="code" href="ndminx_8h.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a>(SinOfAngle * Length, CosOfAngle * OrthogonalPad);
  BoundingBox-&gt;<a class="code" href="struct_f_r_e_c_t.html#a1c64669f5607f5c02fb8c0ea8c0291ff">MinY</a> = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> - Pad;
  BoundingBox-&gt;<a class="code" href="struct_f_r_e_c_t.html#a234e71657fee11b6e618385cf002e61d">MaxY</a> = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> + Pad;

} <span class="comment">/* ComputePaddedBoundingBox */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="add5bca81816a5a90e97d444551cca2b4"></a><!-- doxytag: member="mergenf.cpp::DummyFastMatch" ref="add5bca81816a5a90e97d444551cca2b4" args="(FEATURE Feature, PROTO Proto)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> DummyFastMatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ocrfeatures_8h.html#a19902c8e979ab51dbf6be841e4048f7d">FEATURE</a>&#160;</td>
          <td class="paramname"><em>Feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>Proto</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine returns TRUE if Feature would be matched by a fast match table built from Proto.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Feature</td><td>feature to be "fast matched" to proto </td></tr>
    <tr><td class="paramname">Proto</td><td>proto being "fast matched" against</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>training_tangent_bbox_pad bounding box pad tangent to proto</li>
<li>training_orthogonal_bbox_pad bounding box pad orthogonal to proto</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if feature could match Proto. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Nov 14 17:19:58 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00276">276</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="struct_f_r_e_c_t.html">FRECT</a>   BoundingBox;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MaxAngleError;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AngleError;

  MaxAngleError = <a class="code" href="mergenf_8cpp.html#ae17b00cafc96bf46a224d12fba4a2ffb">training_angle_pad</a> / 360.0;
  AngleError = fabs (Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> - Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>]);
  <span class="keywordflow">if</span> (AngleError &gt; 0.5)
    AngleError = 1.0 - AngleError;

  <span class="keywordflow">if</span> (AngleError &gt; MaxAngleError)
    <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);

  <a class="code" href="mergenf_8cpp.html#ae0a0ae57dcff7cb2bfbcf7443c91bce0">ComputePaddedBoundingBox</a> (Proto,
    <a class="code" href="mergenf_8cpp.html#a8c84d5c981e2a3447203bdc89022e44c">training_tangent_bbox_pad</a> * <a class="code" href="picofeat_8h.html#a35f5a174efc9c6197837aaf5544c78f2">GetPicoFeatureLength</a> (),
    <a class="code" href="mergenf_8cpp.html#a13f347d8004acdbcd265d092740c2bfe">training_orthogonal_bbox_pad</a> * <a class="code" href="picofeat_8h.html#a35f5a174efc9c6197837aaf5544c78f2">GetPicoFeatureLength</a> (),
    &amp;BoundingBox);

  <span class="keywordflow">return</span> <a class="code" href="mergenf_8cpp.html#a08e569535872c1232e9a4b96e501ce23">PointInside</a>(&amp;BoundingBox, Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>],
                     Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>]);
} <span class="comment">/* DummyFastMatch */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a7f02eafd94a0bc60d12e0acfb3955a42"></a><!-- doxytag: member="mergenf.cpp::EvidenceOf" ref="a7f02eafd94a0bc60d12e0acfb3955a42" args="(double Similarity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double EvidenceOf </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Similarity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00247">247</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                      {

  Similarity /= <a class="code" href="mergenf_8cpp.html#a48441921f382af1727ab51e846ee5c83">training_similarity_midpoint</a>;

  <span class="keywordflow">if</span> (<a class="code" href="mergenf_8cpp.html#a14a4d7cf8b387ec98200d010b327ef22">training_similarity_curl</a> == 3)
    Similarity = Similarity * Similarity * Similarity;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mergenf_8cpp.html#a14a4d7cf8b387ec98200d010b327ef22">training_similarity_curl</a> == 2)
    Similarity = Similarity * Similarity;
  <span class="keywordflow">else</span>
    Similarity = pow (Similarity, <a class="code" href="mergenf_8cpp.html#a14a4d7cf8b387ec98200d010b327ef22">training_similarity_curl</a>);

  <span class="keywordflow">return</span> (1.0 / (1.0 + Similarity));
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab51cc9a0af3a57f032ba52fd54e63b64"></a><!-- doxytag: member="mergenf.cpp::FindClosestExistingProto" ref="ab51cc9a0af3a57f032ba52fd54e63b64" args="(CLASS_TYPE Class, int NumMerged[], PROTOTYPE *Prototype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FindClosestExistingProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#ac6dd4312d295c65a9165f4a5401c75f7">CLASS_TYPE</a>&#160;</td>
          <td class="paramname"><em>Class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NumMerged</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td>
          <td class="paramname"><em>Prototype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine searches thru all of the prototypes in Class and returns the id of the proto which would provide the best approximation of Prototype. If no close approximation can be found, NO_PROTO is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Class</td><td>class to search for matching old proto in </td></tr>
    <tr><td class="paramname">NumMerged</td><td># of protos merged into each proto of Class </td></tr>
    <tr><td class="paramname">Prototype</td><td>new proto to find match for</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Id of closest proto in Class or NO_PROTO. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Sat Nov 24 11:42:58 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00167">167</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
  <a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html">PROTO_STRUCT</a>  NewProto;
  <a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html">PROTO_STRUCT</a>  MergedProto;
  <span class="keywordtype">int</span>   Pid;
  <a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html">PROTO</a>   Proto;
  <span class="keywordtype">int</span>   BestProto;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> BestMatch;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Match, OldMatch, NewMatch;

  <a class="code" href="mergenf_8cpp.html#a49e44db121ae7c194e8e806fd8eec532">MakeNewFromOld</a> (&amp;NewProto, Prototype);

  BestProto = <a class="code" href="matchdefs_8h.html#a4d2ae3978d57e3b05f984a0fedc51812">NO_PROTO</a>;
  BestMatch = <a class="code" href="mergenf_8h.html#a76e7242244d32ab3ca84bf16b1f51998">WORST_MATCH_ALLOWED</a>;
  <span class="keywordflow">for</span> (Pid = 0; Pid &lt; Class-&gt;<a class="code" href="struct_c_l_a_s_s___s_t_r_u_c_t.html#aed122893fec98b9ebccee234bbb00292">NumProtos</a>; Pid++) {
    Proto  = <a class="code" href="protos_8h.html#a3def7bc87c3ad9ad793128f0dc5b8fce">ProtoIn</a>(Class, Pid);
    <a class="code" href="mergenf_8cpp.html#af65524887b6780b35be7254c792e15a0">ComputeMergedProto</a>(Proto, &amp;NewProto,
      (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) NumMerged[Pid], 1.0, &amp;MergedProto);
    OldMatch = <a class="code" href="mergenf_8cpp.html#a6eed15398f6899befdf5691fd6bc83d8">CompareProtos</a>(Proto, &amp;MergedProto);
    NewMatch = <a class="code" href="mergenf_8cpp.html#a6eed15398f6899befdf5691fd6bc83d8">CompareProtos</a>(&amp;NewProto, &amp;MergedProto);
    Match = <a class="code" href="ndminx_8h.html#a74e75242132eaabbc1c512488a135926">MIN</a>(OldMatch, NewMatch);
    <span class="keywordflow">if</span> (Match &gt; BestMatch) {
      BestProto = Pid;
      BestMatch = Match;
    }
  }
  <span class="keywordflow">return</span> BestProto;
} <span class="comment">/* FindClosestExistingProto */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a49e44db121ae7c194e8e806fd8eec532"></a><!-- doxytag: member="mergenf.cpp::MakeNewFromOld" ref="a49e44db121ae7c194e8e806fd8eec532" args="(PROTO New, PROTOTYPE *Old)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeNewFromOld </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>New</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td>
          <td class="paramname"><em>Old</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This fills in the fields of the New proto based on the fields of the Old proto.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">New</td><td>new proto to be filled in </td></tr>
    <tr><td class="paramname">Old</td><td>old proto to be converted</td></tr>
  </table>
  </dd>
</dl>
<p>Globals: none</p>
<p>Exceptions: none History: Mon Nov 26 09:45:39 1990, DSJ, Created. </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00208">208</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
  New-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a54dd1cca86a1fd5c9ead8499cba99784">X</a> = <a class="code" href="mergenf_8h.html#a4413f4850d545f6960128158211d96c6">CenterX</a>(Old-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>);
  New-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a8dcd81037c1bc672e97ef7a54306dd93">Y</a> = <a class="code" href="mergenf_8h.html#a5fa92ce3f2b04b294af66d278b153034">CenterY</a>(Old-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>);
  New-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#aa29d8aaab147327320e2bc94a821aad1">Length</a> = <a class="code" href="mergenf_8h.html#a7c060dad581fc1c9ffdfedd0d3ec1e1c">LengthOf</a>(Old-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>);
  New-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> = <a class="code" href="mergenf_8h.html#af8312f95ecd3b7f90c9e40f67f10418b">OrientationOf</a>(Old-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>);
  <a class="code" href="protos_8cpp.html#ac0d58978bbcf0c732ae94fb554bccd3b">FillABC</a>(New);
} <span class="comment">/* MakeNewFromOld */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a08e569535872c1232e9a4b96e501ce23"></a><!-- doxytag: member="mergenf.cpp::PointInside" ref="a08e569535872c1232e9a4b96e501ce23" args="(FRECT *Rectangle, FLOAT32 X, FLOAT32 Y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> PointInside </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_r_e_c_t.html">FRECT</a> *&#160;</td>
          <td class="paramname"><em>Rectangle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return TRUE if point (X,Y) is inside of Rectangle.</p>
<p>Globals: none</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if point (X,Y) is inside of Rectangle. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Exceptions: none </dd>
<dd>
History: Wed Nov 14 17:26:35 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00347">347</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
  <span class="keywordflow">if</span> (X &lt; Rectangle-&gt;MinX) <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
  <span class="keywordflow">if</span> (X &gt; Rectangle-&gt;<a class="code" href="struct_f_r_e_c_t.html#a97ec24e7216ebc33a31f3256da8cb9fb">MaxX</a>) <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
  <span class="keywordflow">if</span> (Y &lt; Rectangle-&gt;MinY) <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
  <span class="keywordflow">if</span> (Y &gt; Rectangle-&gt;<a class="code" href="struct_f_r_e_c_t.html#a234e71657fee11b6e618385cf002e61d">MaxY</a>) <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
  <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);

} <span class="comment">/* PointInside */</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a32930b8c8bea42382fd94847fa4afb50"></a><!-- doxytag: member="mergenf.cpp::SubfeatureEvidence" ref="a32930b8c8bea42382fd94847fa4afb50" args="(FEATURE Feature, PROTO Proto)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> SubfeatureEvidence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ocrfeatures_8h.html#a19902c8e979ab51dbf6be841e4048f7d">FEATURE</a>&#160;</td>
          <td class="paramname"><em>Feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="protos_8h.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a>&#160;</td>
          <td class="paramname"><em>Proto</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00223">223</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
  <span class="keywordtype">float</span>       Distance;
  <span class="keywordtype">float</span>       Dangle;

  Dangle   = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a6cc7458f385f9c4673e1ce9a6dc9e80a">Angle</a> - Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca9895f2baa648985ab8ee5586c1563511">PicoFeatDir</a>];
  <span class="keywordflow">if</span> (Dangle &lt; -0.5) Dangle += 1.0;
  <span class="keywordflow">if</span> (Dangle &gt;  0.5) Dangle -= 1.0;
  Dangle *= <a class="code" href="mergenf_8cpp.html#a6ab3ea6cb4f958e5eaffe5f01428c1e4">training_angle_match_scale</a>;

  Distance = Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#ae3211a725f109fbd40efc6cd154330f7">A</a> * Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aacaf28d56154a908256d7b3beb62977e2fc">PicoFeatX</a>] +
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a884630c87acb7606ac02516d1ea4ea9e">B</a> * Feature-&gt;<a class="code" href="struct_f_e_a_t_u_r_e___s_t_r_u_c_t.html#ace52f36cfcba955504f4a24f86a897b4">Params</a>[<a class="code" href="picofeat_8h.html#ac00e1c5d2ac3096e0928e2186aee1aaca43884de5e2e87be26f9642b50135f98a">PicoFeatY</a>] +
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o___s_t_r_u_c_t.html#a09d1e20c0a8362582127fa3554bb83ae">C</a>;

  <span class="keywordflow">return</span> (<a class="code" href="mergenf_8cpp.html#a7f02eafd94a0bc60d12e0acfb3955a42">EvidenceOf</a> (Distance * Distance + Dangle * Dangle));
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a6ab3ea6cb4f958e5eaffe5f01428c1e4"></a><!-- doxytag: member="mergenf.cpp::training_angle_match_scale" ref="a6ab3ea6cb4f958e5eaffe5f01428c1e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="mergenf_8cpp.html#a6ab3ea6cb4f958e5eaffe5f01428c1e4">training_angle_match_scale</a> = 1.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Angle Match Scale ..." </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00038">38</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae17b00cafc96bf46a224d12fba4a2ffb"></a><!-- doxytag: member="mergenf.cpp::training_angle_pad" ref="ae17b00cafc96bf46a224d12fba4a2ffb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="mergenf_8cpp.html#ae17b00cafc96bf46a224d12fba4a2ffb">training_angle_pad</a> = 45.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Angle pad ..." </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00049">49</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a13f347d8004acdbcd265d092740c2bfe"></a><!-- doxytag: member="mergenf.cpp::training_orthogonal_bbox_pad" ref="a13f347d8004acdbcd265d092740c2bfe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="mergenf_8cpp.html#a13f347d8004acdbcd265d092740c2bfe">training_orthogonal_bbox_pad</a> = 2.5</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Orthogonal bounding box pad ..." </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00047">47</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a14a4d7cf8b387ec98200d010b327ef22"></a><!-- doxytag: member="mergenf.cpp::training_similarity_curl" ref="a14a4d7cf8b387ec98200d010b327ef22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="mergenf_8cpp.html#a14a4d7cf8b387ec98200d010b327ef22">training_similarity_curl</a> = 2.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Similarity Curl ..." </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00042">42</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a48441921f382af1727ab51e846ee5c83"></a><!-- doxytag: member="mergenf.cpp::training_similarity_midpoint" ref="a48441921f382af1727ab51e846ee5c83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="mergenf_8cpp.html#a48441921f382af1727ab51e846ee5c83">training_similarity_midpoint</a> = 0.0075</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Similarity Midpoint ..." </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00040">40</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8c84d5c981e2a3447203bdc89022e44c"></a><!-- doxytag: member="mergenf.cpp::training_tangent_bbox_pad" ref="a8c84d5c981e2a3447203bdc89022e44c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="mergenf_8cpp.html#a8c84d5c981e2a3447203bdc89022e44c">training_tangent_bbox_pad</a> = 0.5</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Tangent bounding box pad ..." </p>

<p>Definition at line <a class="el" href="mergenf_8cpp_source.html#l00045">45</a> of file <a class="el" href="mergenf_8cpp_source.html">mergenf.cpp</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="mergenf_8cpp.html">mergenf.cpp</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Fri Mar 30 2012 23:21:43 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
