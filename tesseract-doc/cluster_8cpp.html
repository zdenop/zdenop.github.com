<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: tesseract-ocr/classify/cluster.cpp File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('cluster_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tesseract-ocr/classify/cluster.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="oldheap_8h_source.html">oldheap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="const_8h_source.html">const.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cluster_8h_source.html">cluster.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="emalloc_8h_source.html">emalloc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="helpers_8h_source.html">helpers.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="matrix_8h_source.html">matrix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tprintf_8h_source.html">tprintf.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="danerror_8h_source.html">danerror.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="freelist_8h_source.html">freelist.h</a>&quot;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
</div>
<p><a href="cluster_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_clustering_context.html">ClusteringContext</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a6c16d1564de65f394e737811e5389042">HOTELLING</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a1f0a56d752a245eeeabb4514e8b22cf8">FTABLE_X</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#acd517e6d49c3394f0b9fe04fdb970699">FTABLE_Y</a>&#160;&#160;&#160;100</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>&#160;&#160;&#160;0.0004</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aef647ca436686ede9c7bb5a9fb203372">MINSAMPLESPERBUCKET</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a47c31dab77cf79b225315601107dfd67">MINSAMPLES</a>&#160;&#160;&#160;(MINBUCKETS * MINSAMPLESPERBUCKET)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a6b4ec5de41f65e6f0f69b57db368bd54">MINSAMPLESNEEDED</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ad3f8e9aec305987f3daa2d431da4cac3">NORMALEXTENT</a>&#160;&#160;&#160;3.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a0662f2b2f6ae8b7ed59d9da773c0da35">Odd</a>(N)&#160;&#160;&#160;((N)%2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a42e41a23d64c7e8a69fbfd802e72c239">Mirror</a>(N, R)&#160;&#160;&#160;((R) - (N) - 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a060002a5aeab470cb24c8343daa1db08">Abs</a>(N)&#160;&#160;&#160;( ( (N) &lt; 0 ) ? ( -(N) ) : (N) )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a5b63c74defa53affeb3825bec1aa894d">SqrtOf2Pi</a>&#160;&#160;&#160;2.506628275</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a4342455851ae586637e6a0abaf3b3f14">LOOKUPTABLESIZE</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a1d372c446071a329984f36c50a4e6a8f">MAXDEGREESOFFREEDOM</a>&#160;&#160;&#160;MAXBUCKETS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a8bfc8221d16b9c34781f2bf8753bd380">MAXNEIGHBORS</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a010fa716ced1170c05d8fc9da46a5d34">MAXDISTANCE</a>&#160;&#160;&#160;MAX_FLOAT32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aafca5fbbdd94e29a7a3b9ed7b41c1a4b">CHIACCURACY</a>&#160;&#160;&#160;0.01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a01e04cb3a03fa1080646bfbcc45728d2">MINALPHA</a>&#160;&#160;&#160;(1e-200)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a3ac44273f534b72f12afd0d6560bbbed">INITIALDELTA</a>&#160;&#160;&#160;0.1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a4a4390b86d05eddc0eb81787727debf8">DELTARATIO</a>&#160;&#160;&#160;0.1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a9d9bc16d6dee64280de6063de97939c1">ILLEGAL_CHAR</a>&#160;&#160;&#160;2</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a32b61dc3b9e8987cc1a63db31c99c6e9">DENSITYFUNC</a> )(<a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a170fa76dec6514a98bb069c4b9652f2d">SOLVEFUNC</a> )(<a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *, double)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a4c81bc8616b0a41fc46726affcda9728">CreateClusterTree</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ae250df46fa1538fb7932e11d5a6aa98a">MakePotentialClusters</a> (<a class="el" href="struct_clustering_context.html">ClusteringContext</a> *context, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a45fae84caf7ba68e1a77fdffe9f0d112">FindNearestNeighbor</a> (<a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *Tree, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Distance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ab73b69de28e8bb2f1332524a02f6f475">MakeNewCluster</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a> *TempCluster)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a13004a2cbbcf26c3d95fd207274823c9">MergeClusters</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, register <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> ParamDesc[], register <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> n1, register <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> n2, register <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> m[], register <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> m1[], register <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> m2[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a85e813bae86e0c290ceb0f99d83ae9bf">ComputePrototypes</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *<a class="el" href="commontraining_8h.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aa37ac7f48ca91b0afb78f8408e8b9b6f">MakePrototype</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *<a class="el" href="commontraining_8h.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#abd55a5befb4eda77f5d0abbd460cc501">MakeDegenerateProto</a> (<a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> N, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics, <a class="el" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9ea">PROTOSTYLE</a> Style, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> MinSamples)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a52963d24aa278bff9a1de24806954d61">TestEllipticalProto</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *<a class="el" href="commontraining_8h.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ad04d25bb39e413b1cd7064534b98f9a4">MakeSphericalProto</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics, <a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a076b9ff3e723f44987211c9bf5f77523">MakeEllipticalProto</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics, <a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a2ebb51aa33fe2a99f5326366ed86b42e">MakeMixedProto</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics, <a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *NormalBuckets, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Confidence)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ae018c99abb6b7f691f2e4b711485b45b">MakeDimRandom</a> (<a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> i, <a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto, <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *ParamDesc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a12a01c4bc8f83968f4b64600bfff82de">MakeDimUniform</a> (<a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> i, <a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aa60411f531ca1f230d001973299d1c09">ComputeStatistics</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> ParamDesc[], <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a96019ee068587b2d17ddb6f43ded872b">NewSphericalProto</a> (<a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> N, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a1453a157e92261f5331f8624dfc4d3c0">NewEllipticalProto</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#accc05d5eedc4d765148eaa99c1927a79">NewMixedProto</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#adf2445f2aae1e1e03f06eefb85c95b8d">NewSimpleProto</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a0a6fea38a06375666937701fb21e6a05">Independent</a> (<a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> ParamDesc[], <a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *CoVariance, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Independence)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a0924b73d8bc3cd1269aa64f5a41b633f">GetBuckets</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *clusterer, <a class="el" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a> Distribution, <a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> SampleCount, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Confidence)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a93a38445707d2a943e60fafebe0c2b4d">MakeBuckets</a> (<a class="el" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a> Distribution, <a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> SampleCount, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Confidence)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ab182ad32f9100ae8e29e72db623c70dd">OptimumNumberOfBuckets</a> (<a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> SampleCount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a952909dfb237bce2b90d33204b3efe3e">ComputeChiSquared</a> (<a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> DegreesOfFreedom, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Alpha)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a46fa6d94ca57427d93d1f306c4bbcf46">NormalDensity</a> (<a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a5abc8ec5703c3d471dc0dd172cb22168">UniformDensity</a> (<a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#af0eb798915396ae610f1701708a7b816">Integral</a> (<a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> f1, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> f2, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Dx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a54c75ac15de9474adc1387dc0c809c0b">FillBuckets</a> (<a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> Dim, <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *ParamDesc, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Mean, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> StdDev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a8e988f373e1dc7d9a55043f3db047d09">NormalBucket</a> (<a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *ParamDesc, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> x, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Mean, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> StdDev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a43e2cce8f045a700cd6fb0684761cc0c">UniformBucket</a> (<a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *ParamDesc, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> x, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Mean, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> StdDev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a4c5b32330cf58e89e2352deb84394332">DistributionOK</a> (<a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aef1b69ed626e557bf84c9c0b18db6b95">FreeStatistics</a> (<a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a1afe8a387c2e426eea3e152bb1cdd3e9">FreeBuckets</a> (<a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ac66b8beb503d71773eba9bc47d386ae8">FreeCluster</a> (<a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a> (<a class="el" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a> Distribution, <a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> HistogramBuckets)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#af8d341c60c044ac30867d767c6b9b091">NumBucketsMatch</a> (void *arg1, void *arg2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a7f39be063580c1c7c5566faf0398dfb0">ListEntryMatch</a> (void *arg1, void *arg2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a02e72bde5b9d967258769d4a75f07e46">AdjustBuckets</a> (<a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets, <a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> NewSampleCount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a0f9ec282a0fa768a4b5bd0d5efaca7d2">InitBuckets</a> (<a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ad39bd07ace019e3862769098fae02f93">AlphaMatch</a> (void *arg1, void *arg2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ac16f25cf71bcb2632f695f55fb9a5980">NewChiStruct</a> (<a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> DegreesOfFreedom, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Alpha)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a8098e057438e6f07276dd005f28ef13c">Solve</a> (<a class="el" href="cluster_8cpp.html#a170fa76dec6514a98bb069c4b9652f2d">SOLVEFUNC</a> Function, void *FunctionParams, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> InitialGuess, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Accuracy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a444724ad6aa7b59e010c1089af12b0b0">ChiArea</a> (<a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *ChiParams, <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a39583ff2f6db38f0c2e26f7ad87f2c0c">MultipleCharSamples</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *Cluster, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MaxIllegal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a40c47f6785ad5d50a9b113761e16ab9d">InvertMatrix</a> (const float *input, int size, float *inv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a93e53684b74358b68adf48b2ee32b042">MakeClusterer</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> SampleSize, const <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> ParamDesc[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cluster_8h.html#acb9fa31a4d774b3e8a3091c21486fa7a">SAMPLE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ab3cc5ee277d4a2cf4000668b1ffbcf4a">MakeSample</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, const <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Feature, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> CharID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ac7c6943d214b9c60e0f37cbb1a2111b4">ClusterSamples</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer, <a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *<a class="el" href="commontraining_8h.html#a1630a3dc82a9a7cef07bb6153df9eb9c">Config</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aa5b6309260cd2d1acac25bd9cc9e9a66">FreeClusterer</a> (<a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a7e5357920f0bded023b15d29ddf15ebf">FreeProtoList</a> (<a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> *ProtoList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#aa5d7083be183c7a4e2b2fa746a560a7b">FreePrototype</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#abf5d9e3b151ac51b27bd9dc797ac261c">NextSample</a> (<a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> *SearchState)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a> (<a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto, <a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> Dimension)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a8bdd5efd86c814e7f069aa7674cd5178">StandardDeviation</a> (<a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto, <a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> Dimension)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a69b09f11067d2b087f4da951934ca556">MergeClusters</a> (<a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> N, <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> ParamDesc[], <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> n1, <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> n2, <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> m[], <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> m1[], <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> m2[])</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cluster_8cpp.html#a1e2410dc2e3eb34ef861fbfeb2f05f4d">FTable</a> [FTABLE_Y][FTABLE_X]</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a060002a5aeab470cb24c8343daa1db08"></a><!-- doxytag: member="cluster.cpp::Abs" ref="a060002a5aeab470cb24c8343daa1db08" args="(N)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Abs</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;( ( (N) &lt; 0 ) ? ( -(N) ) : (N) )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00204">204</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0b0900161a8584a70a474237621ce953"></a><!-- doxytag: member="cluster.cpp::BUCKETTABLESIZE" ref="a0b0900161a8584a70a474237621ce953" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUCKETTABLESIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00159">159</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aafca5fbbdd94e29a7a3b9ed7b41c1a4b"></a><!-- doxytag: member="cluster.cpp::CHIACCURACY" ref="aafca5fbbdd94e29a7a3b9ed7b41c1a4b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHIACCURACY&#160;&#160;&#160;0.01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a4390b86d05eddc0eb81787727debf8"></a><!-- doxytag: member="cluster.cpp::DELTARATIO" ref="a4a4390b86d05eddc0eb81787727debf8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DELTARATIO&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1f0a56d752a245eeeabb4514e8b22cf8"></a><!-- doxytag: member="cluster.cpp::FTABLE_X" ref="a1f0a56d752a245eeeabb4514e8b22cf8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTABLE_X&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00030">30</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acd517e6d49c3394f0b9fe04fdb970699"></a><!-- doxytag: member="cluster.cpp::FTABLE_Y" ref="acd517e6d49c3394f0b9fe04fdb970699" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTABLE_Y&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00031">31</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6c16d1564de65f394e737811e5389042"></a><!-- doxytag: member="cluster.cpp::HOTELLING" ref="a6c16d1564de65f394e737811e5389042" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HOTELLING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00029">29</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9d9bc16d6dee64280de6063de97939c1"></a><!-- doxytag: member="cluster.cpp::ILLEGAL_CHAR" ref="a9d9bc16d6dee64280de6063de97939c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ILLEGAL_CHAR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3ac44273f534b72f12afd0d6560bbbed"></a><!-- doxytag: member="cluster.cpp::INITIALDELTA" ref="a3ac44273f534b72f12afd0d6560bbbed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INITIALDELTA&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4342455851ae586637e6a0abaf3b3f14"></a><!-- doxytag: member="cluster.cpp::LOOKUPTABLESIZE" ref="a4342455851ae586637e6a0abaf3b3f14" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKUPTABLESIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00224">224</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1d372c446071a329984f36c50a4e6a8f"></a><!-- doxytag: member="cluster.cpp::MAXDEGREESOFFREEDOM" ref="a1d372c446071a329984f36c50a4e6a8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXDEGREESOFFREEDOM&#160;&#160;&#160;MAXBUCKETS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00225">225</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a010fa716ced1170c05d8fc9da46a5d34"></a><!-- doxytag: member="cluster.cpp::MAXDISTANCE" ref="a010fa716ced1170c05d8fc9da46a5d34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXDISTANCE&#160;&#160;&#160;MAX_FLOAT32</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8bfc8221d16b9c34781f2bf8753bd380"></a><!-- doxytag: member="cluster.cpp::MAXNEIGHBORS" ref="a8bfc8221d16b9c34781f2bf8753bd380" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXNEIGHBORS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a01e04cb3a03fa1080646bfbcc45728d2"></a><!-- doxytag: member="cluster.cpp::MINALPHA" ref="a01e04cb3a03fa1080646bfbcc45728d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINALPHA&#160;&#160;&#160;(1e-200)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a47c31dab77cf79b225315601107dfd67"></a><!-- doxytag: member="cluster.cpp::MINSAMPLES" ref="a47c31dab77cf79b225315601107dfd67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINSAMPLES&#160;&#160;&#160;(MINBUCKETS * MINSAMPLESPERBUCKET)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00150">150</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6b4ec5de41f65e6f0f69b57db368bd54"></a><!-- doxytag: member="cluster.cpp::MINSAMPLESNEEDED" ref="a6b4ec5de41f65e6f0f69b57db368bd54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINSAMPLESNEEDED&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00151">151</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aef647ca436686ede9c7bb5a9fb203372"></a><!-- doxytag: member="cluster.cpp::MINSAMPLESPERBUCKET" ref="aef647ca436686ede9c7bb5a9fb203372" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINSAMPLESPERBUCKET&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00149">149</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab070d4fc08948b5047625cb799a9ac89"></a><!-- doxytag: member="cluster.cpp::MINVARIANCE" ref="ab070d4fc08948b5047625cb799a9ac89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINVARIANCE&#160;&#160;&#160;0.0004</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00141">141</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a42e41a23d64c7e8a69fbfd802e72c239"></a><!-- doxytag: member="cluster.cpp::Mirror" ref="a42e41a23d64c7e8a69fbfd802e72c239" args="(N, R)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Mirror</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">R&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((R) - (N) - 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00203">203</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad3f8e9aec305987f3daa2d431da4cac3"></a><!-- doxytag: member="cluster.cpp::NORMALEXTENT" ref="ad3f8e9aec305987f3daa2d431da4cac3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMALEXTENT&#160;&#160;&#160;3.0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00160">160</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0662f2b2f6ae8b7ed59d9da773c0da35"></a><!-- doxytag: member="cluster.cpp::Odd" ref="a0662f2b2f6ae8b7ed59d9da773c0da35" args="(N)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Odd</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)%2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00202">202</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5b63c74defa53affeb3825bec1aa894d"></a><!-- doxytag: member="cluster.cpp::SqrtOf2Pi" ref="a5b63c74defa53affeb3825bec1aa894d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SqrtOf2Pi&#160;&#160;&#160;2.506628275</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00214">214</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a32b61dc3b9e8987cc1a63db31c99c6e9"></a><!-- doxytag: member="cluster.cpp::DENSITYFUNC" ref="a32b61dc3b9e8987cc1a63db31c99c6e9" args=")(inT32)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>(* <a class="el" href="cluster_8cpp.html#a32b61dc3b9e8987cc1a63db31c99c6e9">DENSITYFUNC</a>)(<a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00199">199</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a170fa76dec6514a98bb069c4b9652f2d"></a><!-- doxytag: member="cluster.cpp::SOLVEFUNC" ref="a170fa76dec6514a98bb069c4b9652f2d" args=")(CHISTRUCT *, double)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>(* <a class="el" href="cluster_8cpp.html#a170fa76dec6514a98bb069c4b9652f2d">SOLVEFUNC</a>)(<a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *, double)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00200">200</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a02e72bde5b9d967258769d4a75f07e46"></a><!-- doxytag: member="cluster.cpp::AdjustBuckets" ref="a02e72bde5b9d967258769d4a75f07e46" args="(BUCKETS *Buckets, uinT32 NewSampleCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AdjustBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>&#160;</td>
          <td class="paramname"><em>NewSampleCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02357">2357</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Buckets         histogram data structure to adjust</span>
<span class="comment"> **             NewSampleCount  new sample count to adjust to</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine multiplies each ExpectedCount histogram entry</span>
<span class="comment"> **             by NewSampleCount/OldSampleCount so that the histogram</span>
<span class="comment"> **             is now adjusted to the new sample count.</span>
<span class="comment"> **     Return: none</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Thu Aug  3 14:31:14 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordtype">int</span> i;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> AdjustFactor;

  AdjustFactor = (((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) NewSampleCount) /
    ((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a8e352450eb27c8a017a037f71796b402">SampleCount</a>));

  <span class="keywordflow">for</span> (i = 0; i &lt; Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>; i++) {
    Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[i] *= AdjustFactor;
  }

  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a8e352450eb27c8a017a037f71796b402">SampleCount</a> = NewSampleCount;

}                                <span class="comment">// AdjustBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ad39bd07ace019e3862769098fae02f93"></a><!-- doxytag: member="cluster.cpp::AlphaMatch" ref="ad39bd07ace019e3862769098fae02f93" args="(void *arg1, void *arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AlphaMatch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02407">2407</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                           {  <span class="comment">//CHISTRUCT                             *SearchKey)</span>
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             ChiStruct       chi-squared struct being tested for a match</span>
<span class="comment"> **             SearchKey       chi-squared struct that is the search key</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine is used to search a list of structures which</span>
<span class="comment"> **             hold pre-computed chi-squared values for a chi-squared</span>
<span class="comment"> **             value whose corresponding alpha field matches the alpha</span>
<span class="comment"> **             field of SearchKey.</span>
<span class="comment"> **             It is called by the list search routines.</span>
<span class="comment"> **     Return: TRUE if ChiStruct&#39;s Alpha matches SearchKey&#39;s Alpha</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Thu Aug  3 14:17:33 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *ChiStruct = (<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) arg1;
  <a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *SearchKey = (<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) arg2;

  <span class="keywordflow">return</span> (ChiStruct-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a58a4707e32861b244d471e6d152fe43a">Alpha</a> == SearchKey-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a58a4707e32861b244d471e6d152fe43a">Alpha</a>);

}                                <span class="comment">// AlphaMatch</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a444724ad6aa7b59e010c1089af12b0b0"></a><!-- doxytag: member="cluster.cpp::ChiArea" ref="a444724ad6aa7b59e010c1089af12b0b0" args="(CHISTRUCT *ChiParams, FLOAT64 x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> ChiArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *&#160;</td>
          <td class="paramname"><em>ChiParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02521">2521</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             ChiParams       contains degrees of freedom and alpha</span>
<span class="comment"> **             x               value of chi-squared to evaluate</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine computes the area under a chi density curve</span>
<span class="comment"> **             from 0 to x, minus the desired area under the curve.  The</span>
<span class="comment"> **             number of degrees of freedom of the chi curve is specified</span>
<span class="comment"> **             in the ChiParams structure.  The desired area is also</span>
<span class="comment"> **             specified in the ChiParams structure as Alpha ( or 1 minus</span>
<span class="comment"> **             the desired area ).  This routine is intended to be passed</span>
<span class="comment"> **             to the Solve() function to find the value of chi-squared</span>
<span class="comment"> **             which will yield a desired area under the right tail of</span>
<span class="comment"> **             the chi density curve.  The function will only work for</span>
<span class="comment"> **             even degrees of freedom.  The equations are based on</span>
<span class="comment"> **             integrating the chi density curve in parts to obtain</span>
<span class="comment"> **             a series that can be used to compute the area under the</span>
<span class="comment"> **             curve.</span>
<span class="comment"> **     Return: Error between actual and desired area under the chi curve.</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Fri Aug  4 12:48:41 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordtype">int</span> i, N;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> SeriesTotal;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Denominator;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> PowerOfx;

  N = ChiParams-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a15a3b870d88bb0fcedd7accc60d195c7">DegreesOfFreedom</a> / 2 - 1;
  SeriesTotal = 1;
  Denominator = 1;
  PowerOfx = 1;
  <span class="keywordflow">for</span> (i = 1; i &lt;= N; i++) {
    Denominator *= 2 * i;
    PowerOfx *= x;
    SeriesTotal += PowerOfx / Denominator;
  }
  <span class="keywordflow">return</span> ((SeriesTotal * exp (-0.5 * x)) - ChiParams-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a58a4707e32861b244d471e6d152fe43a">Alpha</a>);

}                                <span class="comment">// ChiArea</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ac7c6943d214b9c60e0f37cbb1a2111b4"></a><!-- doxytag: member="cluster.cpp::ClusterSamples" ref="ac7c6943d214b9c60e0f37cbb1a2111b4" args="(CLUSTERER *Clusterer, CLUSTERCONFIG *Config)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> ClusterSamples </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *&#160;</td>
          <td class="paramname"><em>Config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ClusterSamples *********************************************************** Parameters: Clusterer data struct containing samples to be clustered Config parameters which control clustering process Operation: This routine first checks to see if the samples in this clusterer have already been clustered before; if so, it does not bother to recreate the cluster tree. It simply recomputes the prototypes based on the new Config info. If the samples have not been clustered before, the samples in the KD tree are formed into a cluster tree and then the prototypes are computed from the cluster tree. In either case this routine returns a pointer to a list of prototypes that best represent the samples given the constraints specified in Config. Return: Pointer to a list of prototypes Exceptions: None History: 5/29/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00504">504</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
  <span class="comment">//only create cluster tree if samples have never been clustered before</span>
  <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="cluster_8cpp.html#a4c81bc8616b0a41fc46726affcda9728">CreateClusterTree</a>(Clusterer);

  <span class="comment">//deallocate the old prototype list if one exists</span>
  <a class="code" href="cluster_8cpp.html#a7e5357920f0bded023b15d29ddf15ebf">FreeProtoList</a> (&amp;Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af6bd9758400f9a886e8fde8d009de70f">ProtoList</a>);
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af6bd9758400f9a886e8fde8d009de70f">ProtoList</a> = <a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;

  <span class="comment">//compute prototypes starting at the root node in the tree</span>
  <a class="code" href="cluster_8cpp.html#a85e813bae86e0c290ceb0f99d83ae9bf">ComputePrototypes</a>(Clusterer, Config);
  <span class="keywordflow">return</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af6bd9758400f9a886e8fde8d009de70f">ProtoList</a>);
}                                <span class="comment">// ClusterSamples</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a952909dfb237bce2b90d33204b3efe3e"></a><!-- doxytag: member="cluster.cpp::ComputeChiSquared" ref="a952909dfb237bce2b90d33204b3efe3e" args="(uinT16 DegreesOfFreedom, FLOAT64 Alpha)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> ComputeChiSquared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>DegreesOfFreedom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Alpha</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01880">1880</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <a class="code" href="structlist__rec.html">LIST</a> ChiWith[<a class="code" href="cluster_8cpp.html#a1d372c446071a329984f36c50a4e6a8f">MAXDEGREESOFFREEDOM</a> + 1];

  <a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *OldChiSquared;
  <a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> SearchKey;

  <span class="comment">// limit the minimum alpha that can be used - if alpha is too small</span>
  <span class="comment">//      it may not be possible to compute chi-squared.</span>
  Alpha = <a class="code" href="helpers_8h.html#af8739168d5b3235996eeb25dac3c4044">ClipToRange</a>(Alpha, MINALPHA, 1.0);
  <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a0662f2b2f6ae8b7ed59d9da773c0da35">Odd</a> (<a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>))
    <a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>++;

  <span class="comment">/* find the list of chi-squared values which have already been computed</span>
<span class="comment">     for the specified number of degrees of freedom.  Search the list for</span>
<span class="comment">     the desired chi-squared. */</span>
  SearchKey.<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a58a4707e32861b244d471e6d152fe43a">Alpha</a> = Alpha;
  OldChiSquared = (<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (<a class="code" href="oldlist_8cpp.html#a1d8af9328f064a9df6d6f88336dd054e">search</a> (ChiWith[<a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>],
    &amp;SearchKey, <a class="code" href="cluster_8cpp.html#ad39bd07ace019e3862769098fae02f93">AlphaMatch</a>));

  <span class="keywordflow">if</span> (OldChiSquared == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    OldChiSquared = <a class="code" href="cluster_8cpp.html#ac16f25cf71bcb2632f695f55fb9a5980">NewChiStruct</a> (DegreesOfFreedom, Alpha);
    OldChiSquared-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#ab8ebe43673dcf3e24c6a792c3bed43ea">ChiSquared</a> = <a class="code" href="cluster_8cpp.html#a8098e057438e6f07276dd005f28ef13c">Solve</a> (<a class="code" href="cluster_8cpp.html#a444724ad6aa7b59e010c1089af12b0b0">ChiArea</a>, OldChiSquared,
      (<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) DegreesOfFreedom,
      (<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) CHIACCURACY);
    ChiWith[<a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>] = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (ChiWith[DegreesOfFreedom],
      OldChiSquared);
  }
  <span class="keywordflow">else</span> {
    <span class="comment">// further optimization might move OldChiSquared to front of list</span>
  }

  <span class="keywordflow">return</span> (OldChiSquared-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#ab8ebe43673dcf3e24c6a792c3bed43ea">ChiSquared</a>);

}                                <span class="comment">// ComputeChiSquared</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a85e813bae86e0c290ceb0f99d83ae9bf"></a><!-- doxytag: member="cluster.cpp::ComputePrototypes" ref="a85e813bae86e0c290ceb0f99d83ae9bf" args="(CLUSTERER *Clusterer, CLUSTERCONFIG *Config)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputePrototypes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *&#160;</td>
          <td class="paramname"><em>Config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ComputePrototypes ******************************************************* Parameters: Clusterer data structure holding cluster tree Config parameters used to control prototype generation Operation: This routine decides which clusters in the cluster tree should be represented by prototypes, forms a list of these prototypes, and places the list in the Clusterer data structure. Return: None Exceptions: None History: 5/30/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00927">927</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                    {
  <a class="code" href="structlist__rec.html">LIST</a> ClusterStack = <a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;
  <a class="code" href="structsample.html">CLUSTER</a> *Cluster;
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Prototype;

  <span class="comment">// use a stack to keep track of clusters waiting to be processed</span>
  <span class="comment">// initially the only cluster on the stack is the root cluster</span>
  <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    ClusterStack = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (<a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>, Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a>);

  <span class="comment">// loop until we have analyzed all clusters which are potential prototypes</span>
  <span class="keywordflow">while</span> (ClusterStack != <a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>) {
    <span class="comment">// remove the next cluster to be analyzed from the stack</span>
    <span class="comment">// try to make a prototype from the cluster</span>
    <span class="comment">// if successful, put it on the proto list, else split the cluster</span>
    Cluster = (<a class="code" href="structsample.html">CLUSTER</a> *) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (ClusterStack);
    ClusterStack = <a class="code" href="oldlist_8cpp.html#a4a16ea0d766f4b3bc697142d5303a62c">pop</a> (ClusterStack);
    Prototype = <a class="code" href="cluster_8cpp.html#aa37ac7f48ca91b0afb78f8408e8b9b6f">MakePrototype</a>(Clusterer, Config, Cluster);
    <span class="keywordflow">if</span> (Prototype != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af6bd9758400f9a886e8fde8d009de70f">ProtoList</a> = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af6bd9758400f9a886e8fde8d009de70f">ProtoList</a>, Prototype);
    }
    <span class="keywordflow">else</span> {
      ClusterStack = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (ClusterStack, Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>);
      ClusterStack = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (ClusterStack, Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>);
    }
  }
}                                <span class="comment">// ComputePrototypes</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa60411f531ca1f230d001973299d1c09"></a><!-- doxytag: member="cluster.cpp::ComputeStatistics" ref="aa60411f531ca1f230d001973299d1c09" args="(inT16 N, PARAM_DESC ParamDesc[], CLUSTER *Cluster)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> * ComputeStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>&#160;</td>
          <td class="paramname"><em>ParamDesc</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ComputeStatistics ********************************************************* Parameters: N number of dimensions ParamDesc array of dimension descriptions Cluster cluster whose stats are to be computed Operation: This routine searches the cluster tree for all leaf nodes which are samples in the specified cluster. It computes a full covariance matrix for these samples as well as keeping track of the ranges (min and max) for each dimension. A special data structure is allocated to return this information to the caller. An incremental algorithm for computing statistics is not used because it will not work with circular dimensions. Return: Pointer to new data structure containing statistics Exceptions: None History: 6/2/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01422">1422</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                       {
  <a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics;
  <span class="keywordtype">int</span> i, j;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *CoVariance;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Distance;
  <a class="code" href="structlist__rec.html">LIST</a> SearchState;
  <a class="code" href="structsample.html">SAMPLE</a> *Sample;
  <a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> SampleCountAdjustedForBias;

  <span class="comment">// allocate memory to hold the statistics results</span>
  Statistics = (<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a>));
  Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));
  Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));
  Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));

  <span class="comment">// allocate temporary memory to hold the sample to mean distances</span>
  Distance = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));

  <span class="comment">// initialize the statistics</span>
  Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#aec33c119c63aad5cd1c4e75c6afe2968">AvgVariance</a> = 1.0;
  CoVariance = Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>;
  <span class="keywordflow">for</span> (i = 0; i &lt; N; i++) {
    Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a>[i] = 0.0;
    Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a>[i] = 0.0;
    <span class="keywordflow">for</span> (j = 0; j &lt; N; j++, CoVariance++)
      *CoVariance = 0;
  }
  <span class="comment">// find each sample in the cluster and merge it into the statistics</span>
  <a class="code" href="cluster_8h.html#af125589eadf8dca87cf904ebcb77c896">InitSampleSearch</a>(SearchState, Cluster);
  <span class="keywordflow">while</span> ((Sample = <a class="code" href="cluster_8cpp.html#abf5d9e3b151ac51b27bd9dc797ac261c">NextSample</a> (&amp;SearchState)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <span class="keywordflow">for</span> (i = 0; i &lt; N; i++) {
      Distance[i] = Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i] - Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i];
      <span class="keywordflow">if</span> (ParamDesc[i].Circular) {
        <span class="keywordflow">if</span> (Distance[i] &gt; ParamDesc[i].HalfRange)
          Distance[i] -= ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
        <span class="keywordflow">if</span> (Distance[i] &lt; -ParamDesc[i].HalfRange)
          Distance[i] += ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
      }
      <span class="keywordflow">if</span> (Distance[i] &lt; Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a>[i])
        Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a>[i] = Distance[i];
      <span class="keywordflow">if</span> (Distance[i] &gt; Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a>[i])
        Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a>[i] = Distance[i];
    }
    CoVariance = Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>;
    <span class="keywordflow">for</span> (i = 0; i &lt; N; i++)
      <span class="keywordflow">for</span> (j = 0; j &lt; N; j++, CoVariance++)
        *CoVariance += Distance[i] * Distance[j];
  }
  <span class="comment">// normalize the variances by the total number of samples</span>
  <span class="comment">// use SampleCount-1 instead of SampleCount to get an unbiased estimate</span>
  <span class="comment">// also compute the geometic mean of the diagonal variances</span>
  <span class="comment">// ensure that clusters with only 1 sample are handled correctly</span>
  <span class="keywordflow">if</span> (Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a> &gt; 1)
    SampleCountAdjustedForBias = Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a> - 1;
  <span class="keywordflow">else</span>
    SampleCountAdjustedForBias = 1;
  CoVariance = Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>;
  <span class="keywordflow">for</span> (i = 0; i &lt; N; i++)
  <span class="keywordflow">for</span> (j = 0; j &lt; N; j++, CoVariance++) {
    *CoVariance /= SampleCountAdjustedForBias;
    <span class="keywordflow">if</span> (j == i) {
      <span class="keywordflow">if</span> (*CoVariance &lt; <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>)
        *CoVariance = <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>;
      Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#aec33c119c63aad5cd1c4e75c6afe2968">AvgVariance</a> *= *CoVariance;
    }
  }
  Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#aec33c119c63aad5cd1c4e75c6afe2968">AvgVariance</a> = (float)pow((<span class="keywordtype">double</span>)Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#aec33c119c63aad5cd1c4e75c6afe2968">AvgVariance</a>,
                                       1.0 / N);

  <span class="comment">// release temporary memory and return</span>
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Distance);
  <span class="keywordflow">return</span> (Statistics);
}                                <span class="comment">// ComputeStatistics</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a4c81bc8616b0a41fc46726affcda9728"></a><!-- doxytag: member="cluster.cpp::CreateClusterTree" ref="a4c81bc8616b0a41fc46726affcda9728" args="(CLUSTERER *Clusterer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CreateClusterTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>CreateClusterTree ******************************************************* Parameters: Clusterer data structure holdings samples to be clustered Operation: This routine performs a bottoms-up clustering on the samples held in the kd-tree of the Clusterer data structure. The result is a cluster tree. Each node in the tree represents a cluster which conceptually contains a subset of the samples. More precisely, the cluster contains all of the samples which are contained in its two sub-clusters. The leaves of the tree are the individual samples themselves; they have no sub-clusters. The root node of the tree conceptually contains all of the samples. Return: None (the Clusterer data structure is changed) Exceptions: None History: 5/29/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00694">694</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
  <a class="code" href="struct_clustering_context.html">ClusteringContext</a> context;
  <a class="code" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> HeapEntry;
  <a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a> *PotentialCluster;

  <span class="comment">// each sample and its nearest neighbor form a &quot;potential&quot; cluster</span>
  <span class="comment">// save these in a heap with the &quot;best&quot; potential clusters on top</span>
  context.<a class="code" href="struct_clustering_context.html#a6414b57292a4e25bfe1af8bd47258817">tree</a> = Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>;
  context.<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a> = (<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a> *)
    <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a04b44b06900e7a0c8d8d4d4e5a00c3aa">NumberOfSamples</a> * <span class="keyword">sizeof</span>(<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a>));
  context.<a class="code" href="struct_clustering_context.html#a6e7e68c81c4925fb0cc24fa90d1fa358">next</a> = 0;
  context.<a class="code" href="struct_clustering_context.html#a411623fe2aa0ed365290e1f0c8ac81a4">heap</a> = <a class="code" href="oldheap_8cpp.html#a101bee15b825fee78f29c8679cc00595">MakeHeap</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a04b44b06900e7a0c8d8d4d4e5a00c3aa">NumberOfSamples</a>);
  <a class="code" href="kdtree_8cpp.html#abf3863949061899c45c47ec81c416234">KDWalk</a>(context.<a class="code" href="struct_clustering_context.html#a6414b57292a4e25bfe1af8bd47258817">tree</a>, (<a class="code" href="cutil_8h.html#adec17f7c242871b5c6efb7bdb4050b9e">void_proc</a>)<a class="code" href="cluster_8cpp.html#ae250df46fa1538fb7932e11d5a6aa98a">MakePotentialClusters</a>, &amp;context);

  <span class="comment">// form potential clusters into actual clusters - always do &quot;best&quot; first</span>
  <span class="keywordflow">while</span> (<a class="code" href="oldheap_8cpp.html#aad11f18baf53c82e65a054ff7552d0d1">GetTopOfHeap</a>(context.<a class="code" href="struct_clustering_context.html#a411623fe2aa0ed365290e1f0c8ac81a4">heap</a>, &amp;HeapEntry) != <a class="code" href="oldheap_8h.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>) {
    PotentialCluster = (<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a> *)HeapEntry.<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;

    <span class="comment">// if main cluster of potential cluster is already in another cluster</span>
    <span class="comment">// then we don&#39;t need to worry about it</span>
    if (PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a>-&gt;<a class="code" href="structsample.html#aa6b39588394fbede2bdcac083bf3832d">Clustered</a>) {
      <span class="keywordflow">continue</span>;
    }

    <span class="comment">// if main cluster is not yet clustered, but its nearest neighbor is</span>
    <span class="comment">// then we must find a new nearest neighbor</span>
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a>-&gt;<a class="code" href="structsample.html#aa6b39588394fbede2bdcac083bf3832d">Clustered</a>) {
      PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a> =
        <a class="code" href="cluster_8cpp.html#a45fae84caf7ba68e1a77fdffe9f0d112">FindNearestNeighbor</a>(context.<a class="code" href="struct_clustering_context.html#a6414b57292a4e25bfe1af8bd47258817">tree</a>, PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a>,
                            &amp;HeapEntry.<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>);
      <span class="keywordflow">if</span> (PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <a class="code" href="oldheap_8cpp.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a>(context.<a class="code" href="struct_clustering_context.html#a411623fe2aa0ed365290e1f0c8ac81a4">heap</a>, &amp;HeapEntry);
      }
    }

    <span class="comment">// if neither cluster is already clustered, form permanent cluster</span>
    <span class="keywordflow">else</span> {
      PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a> =
          <a class="code" href="cluster_8cpp.html#ab73b69de28e8bb2f1332524a02f6f475">MakeNewCluster</a>(Clusterer, PotentialCluster);
      PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a> =
          <a class="code" href="cluster_8cpp.html#a45fae84caf7ba68e1a77fdffe9f0d112">FindNearestNeighbor</a>(context.<a class="code" href="struct_clustering_context.html#a6414b57292a4e25bfe1af8bd47258817">tree</a>, PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a>,
                              &amp;HeapEntry.<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>);
      <span class="keywordflow">if</span> (PotentialCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
        <a class="code" href="oldheap_8cpp.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a>(context.<a class="code" href="struct_clustering_context.html#a411623fe2aa0ed365290e1f0c8ac81a4">heap</a>, &amp;HeapEntry);
      }
    }
  }

  <span class="comment">// the root node in the cluster tree is now the only node in the kd-tree</span>
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a> = (<a class="code" href="structsample.html">CLUSTER</a> *) <a class="code" href="kdtree_8h.html#aa17af5e06853a731f52d4b4a84c3df90">RootOf</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>);

  <span class="comment">// free up the memory used by the K-D tree, heap, and temp clusters</span>
  <a class="code" href="kdtree_8cpp.html#a37e4019555a2b5284b17237373913346">FreeKDTree</a>(context.<a class="code" href="struct_clustering_context.html#a6414b57292a4e25bfe1af8bd47258817">tree</a>);
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="oldheap_8h.html#a8631cc3f443c4ea3e99195df1ca1dd8d">FreeHeap</a>(context.<a class="code" href="struct_clustering_context.html#a411623fe2aa0ed365290e1f0c8ac81a4">heap</a>);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(context.<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a>);
}                                <span class="comment">// CreateClusterTree</span>
</pre></div>
</div>
</div>
<a class="anchor" id="acfe8f1657aa1e2a4de798d80ab637756"></a><!-- doxytag: member="cluster.cpp::DegreesOfFreedom" ref="acfe8f1657aa1e2a4de798d80ab637756" args="(DISTRIBUTION Distribution, uinT16 HistogramBuckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> DegreesOfFreedom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a>&#160;</td>
          <td class="paramname"><em>Distribution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>HistogramBuckets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02286">2286</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Distribution            distribution being tested for</span>
<span class="comment"> **             HistogramBuckets        number of buckets in chi-square test</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine computes the degrees of freedom that should</span>
<span class="comment"> **             be used in a chi-squared test with the specified number of</span>
<span class="comment"> **             histogram buckets.  The result is always rounded up to</span>
<span class="comment"> **             the next even number so that the value of chi-squared can be</span>
<span class="comment"> **             computed more easily.  This will cause the value of</span>
<span class="comment"> **             chi-squared to be higher than the optimum value, resulting</span>
<span class="comment"> **             in the chi-square test being more lenient than optimum.</span>
<span class="comment"> **     Return: The number of degrees of freedom for a chi-square test</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Thu Aug  3 14:04:18 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keyword">static</span> <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> DegreeOffsets[] = { 3, 3, 1 };

  <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> AdjustedNumBuckets;

  AdjustedNumBuckets = HistogramBuckets - DegreeOffsets[(int) Distribution];
  <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a0662f2b2f6ae8b7ed59d9da773c0da35">Odd</a> (AdjustedNumBuckets))
    AdjustedNumBuckets++;
  <span class="keywordflow">return</span> (AdjustedNumBuckets);

}                                <span class="comment">// DegreesOfFreedom</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a4c5b32330cf58e89e2352deb84394332"></a><!-- doxytag: member="cluster.cpp::DistributionOK" ref="a4c5b32330cf58e89e2352deb84394332" args="(BUCKETS *Buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> DistributionOK </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02187">2187</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Buckets         histogram data to perform chi-square test on</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine performs a chi-square goodness of fit test</span>
<span class="comment"> **             on the histogram data in the Buckets data structure.  TRUE</span>
<span class="comment"> **             is returned if the histogram matches the probability</span>
<span class="comment"> **             distribution which was specified when the Buckets</span>
<span class="comment"> **             structure was originally created.  Otherwise FALSE is</span>
<span class="comment"> **             returned.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             TRUE if samples match distribution, FALSE otherwise</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> FrequencyDifference;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> TotalDifference;
  <span class="keywordtype">int</span> i;

  <span class="comment">// compute how well the histogram matches the expected histogram</span>
  TotalDifference = 0.0;
  <span class="keywordflow">for</span> (i = 0; i &lt; Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>; i++) {
    FrequencyDifference = Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a>[i] - Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[i];
    TotalDifference += (FrequencyDifference * FrequencyDifference) /
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[i];
  }

  <span class="comment">// test to see if the difference is more than expected</span>
  <span class="keywordflow">if</span> (TotalDifference &gt; Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4dedca1b6c939050313aa761b59a0a11">ChiSquared</a>)
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
}                                <span class="comment">// DistributionOK</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a54c75ac15de9474adc1387dc0c809c0b"></a><!-- doxytag: member="cluster.cpp::FillBuckets" ref="a54c75ac15de9474adc1387dc0c809c0b" args="(BUCKETS *Buckets, CLUSTER *Cluster, uinT16 Dim, PARAM_DESC *ParamDesc, FLOAT32 Mean, FLOAT32 StdDev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FillBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>Dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *&#160;</td>
          <td class="paramname"><em>ParamDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>StdDev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02015">2015</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Buckets         histogram buckets to count samples</span>
<span class="comment"> **             Cluster         cluster whose samples are being analyzed</span>
<span class="comment"> **             Dim             dimension of samples which is being analyzed</span>
<span class="comment"> **             ParamDesc       description of the dimension</span>
<span class="comment"> **             Mean            &quot;mean&quot; of the distribution</span>
<span class="comment"> **             StdDev          &quot;standard deviation&quot; of the distribution</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine counts the number of cluster samples which</span>
<span class="comment"> **             fall within the various histogram buckets in Buckets.  Only</span>
<span class="comment"> **             one dimension of each sample is examined.  The exact meaning</span>
<span class="comment"> **             of the Mean and StdDev parameters depends on the</span>
<span class="comment"> **             distribution which is being analyzed (this info is in the</span>
<span class="comment"> **             Buckets data structure).  For normal distributions, Mean</span>
<span class="comment"> **             and StdDev have the expected meanings.  For uniform and</span>
<span class="comment"> **             random distributions the Mean is the center point of the</span>
<span class="comment"> **             range and the StdDev is 1/2 the range.  A dimension with</span>
<span class="comment"> **             zero standard deviation cannot be statistically analyzed.</span>
<span class="comment"> **             In this case, a pseudo-analysis is used.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             None (the Buckets data structure is filled in)</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> BucketID;
  <span class="keywordtype">int</span> i;
  <a class="code" href="structlist__rec.html">LIST</a> SearchState;
  <a class="code" href="structsample.html">SAMPLE</a> *Sample;

  <span class="comment">// initialize the histogram bucket counts to 0</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>; i++)
    Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a>[i] = 0;

  if (StdDev == 0.0) {
    <span class="comment">/* if the standard deviation is zero, then we can&#39;t statistically</span>
<span class="comment">       analyze the cluster.  Use a pseudo-analysis: samples exactly on</span>
<span class="comment">       the mean are distributed evenly across all buckets.  Samples greater</span>
<span class="comment">       than the mean are placed in the last bucket; samples less than the</span>
<span class="comment">       mean are placed in the first bucket. */</span>

    <a class="code" href="cluster_8h.html#af125589eadf8dca87cf904ebcb77c896">InitSampleSearch</a>(SearchState, Cluster);
    i = 0;
    <span class="keywordflow">while</span> ((Sample = <a class="code" href="cluster_8cpp.html#abf5d9e3b151ac51b27bd9dc797ac261c">NextSample</a> (&amp;SearchState)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <span class="keywordflow">if</span> (Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[Dim] &gt; <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>)
        BucketID = Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a> - 1;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[Dim] &lt; <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>)
        BucketID = 0;
      <span class="keywordflow">else</span>
        BucketID = i;
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a>[BucketID] += 1;
      i++;
      <span class="keywordflow">if</span> (i &gt;= Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>)
        i = 0;
    }
  }
  <span class="keywordflow">else</span> {
    <span class="comment">// search for all samples in the cluster and add to histogram buckets</span>
    <a class="code" href="cluster_8h.html#af125589eadf8dca87cf904ebcb77c896">InitSampleSearch</a>(SearchState, Cluster);
    <span class="keywordflow">while</span> ((Sample = <a class="code" href="cluster_8cpp.html#abf5d9e3b151ac51b27bd9dc797ac261c">NextSample</a> (&amp;SearchState)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <span class="keywordflow">switch</span> (Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#ad2b1ef5944d42354519db2895a8ca062">Distribution</a>) {
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0aebc81705969b8c5ae986b0b2ec08d1d5">normal</a>:
          BucketID = <a class="code" href="cluster_8cpp.html#a8e988f373e1dc7d9a55043f3db047d09">NormalBucket</a> (ParamDesc, Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[Dim],
            <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>, StdDev);
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a21504929e31ddde091641bb817e32320">D_random</a>:
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a56013d9ac59a24fb94d9acb932a04b2f">uniform</a>:
          BucketID = <a class="code" href="cluster_8cpp.html#a43e2cce8f045a700cd6fb0684761cc0c">UniformBucket</a> (ParamDesc, Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[Dim],
            <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>, StdDev);
          <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
          BucketID = 0;
      }
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a>[Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aaa108173d6611040d567271a1262b67e">Bucket</a>[BucketID]] += 1;
    }
  }
}                                <span class="comment">// FillBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a45fae84caf7ba68e1a77fdffe9f0d112"></a><!-- doxytag: member="cluster.cpp::FindNearestNeighbor" ref="a45fae84caf7ba68e1a77fdffe9f0d112" args="(KDTREE *Tree, CLUSTER *Cluster, FLOAT32 *Distance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> * FindNearestNeighbor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_k_d_t_r_e_e.html">KDTREE</a> *&#160;</td>
          <td class="paramname"><em>Tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FindNearestNeighbor ********************************************************* Parameters: Tree kd-tree to search in for nearest neighbor Cluster cluster whose nearest neighbor is to be found Distance ptr to variable to report distance found Operation: This routine searches the specified kd-tree for the nearest neighbor of the specified cluster. It actually uses the kd routines to find the 2 nearest neighbors since one of them will be the original cluster. A pointer to the nearest neighbor is returned, if it can be found, otherwise NULL is returned. The distance between the 2 nodes is placed in the specified variable. Return: Pointer to the nearest neighbor of Cluster, or NULL Exceptions: none History: 5/29/89, DSJ, Created. 7/13/89, DSJ, Removed visibility of kd-tree node data struct </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00798">798</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="structsample.html">CLUSTER</a> *Neighbor[<a class="code" href="cluster_8cpp.html#a8bfc8221d16b9c34781f2bf8753bd380">MAXNEIGHBORS</a>];
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Dist[<a class="code" href="cluster_8cpp.html#a8bfc8221d16b9c34781f2bf8753bd380">MAXNEIGHBORS</a>];
  <span class="keywordtype">int</span> NumberOfNeighbors;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> i;
  <a class="code" href="structsample.html">CLUSTER</a> *BestNeighbor;

  <span class="comment">// find the 2 nearest neighbors of the cluster</span>
  <a class="code" href="kdtree_8cpp.html#a9a3e49226adc75b00fee5116b401f3e3">KDNearestNeighborSearch</a>(Tree, Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, MAXNEIGHBORS, MAXDISTANCE,
                          &amp;NumberOfNeighbors, (<span class="keywordtype">void</span> **)Neighbor, Dist);

  <span class="comment">// search for the nearest neighbor that is not the cluster itself</span>
  *Distance = <a class="code" href="cluster_8cpp.html#a010fa716ced1170c05d8fc9da46a5d34">MAXDISTANCE</a>;
  BestNeighbor = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">for</span> (i = 0; i &lt; NumberOfNeighbors; i++) {
    <span class="keywordflow">if</span> ((Dist[i] &lt; *Distance) &amp;&amp; (Neighbor[i] != Cluster)) {
      *Distance = Dist[i];
      BestNeighbor = Neighbor[i];
    }
  }
  <span class="keywordflow">return</span> BestNeighbor;
}                                <span class="comment">// FindNearestNeighbor</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a1afe8a387c2e426eea3e152bb1cdd3e9"></a><!-- doxytag: member="cluster.cpp::FreeBuckets" ref="a1afe8a387c2e426eea3e152bb1cdd3e9" args="(BUCKETS *Buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02248">2248</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   {
<span class="comment">/*</span>
<span class="comment"> **  Parameters:</span>
<span class="comment"> **      buckets  pointer to data structure to be freed</span>
<span class="comment"> **  Operation:</span>
<span class="comment"> **      This routine properly frees the memory used by a BUCKETS.</span>
<span class="comment"> */</span>
  <a class="code" href="emalloc_8cpp.html#af846576ae65dc13e49ddc616e17baa27">Efree</a>(buckets-&gt;Count);
  <a class="code" href="emalloc_8cpp.html#af846576ae65dc13e49ddc616e17baa27">Efree</a>(buckets-&gt;ExpectedCount);
  <a class="code" href="emalloc_8cpp.html#af846576ae65dc13e49ddc616e17baa27">Efree</a>(buckets);
}                                <span class="comment">// FreeBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ac66b8beb503d71773eba9bc47d386ae8"></a><!-- doxytag: member="cluster.cpp::FreeCluster" ref="ac66b8beb503d71773eba9bc47d386ae8" args="(CLUSTER *Cluster)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeCluster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02262">2262</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Cluster         pointer to cluster to be freed</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine frees the memory consumed by the specified</span>
<span class="comment"> **             cluster and all of its subclusters.  This is done by</span>
<span class="comment"> **             recursive calls to FreeCluster().</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/6/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordflow">if</span> (Cluster != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="cluster_8cpp.html#ac66b8beb503d71773eba9bc47d386ae8">FreeCluster</a> (Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>);
    <a class="code" href="cluster_8cpp.html#ac66b8beb503d71773eba9bc47d386ae8">FreeCluster</a> (Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>);
    <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Cluster);
  }
}                                <span class="comment">// FreeCluster</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa5b6309260cd2d1acac25bd9cc9e9a66"></a><!-- doxytag: member="cluster.cpp::FreeClusterer" ref="aa5b6309260cd2d1acac25bd9cc9e9a66" args="(CLUSTERER *Clusterer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeClusterer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FreeClusterer ************************************************************* Parameters: Clusterer pointer to data structure to be freed Operation: This routine frees all of the memory allocated to the specified data structure. It will not, however, free the memory used by the prototype list. The pointers to the clusters for each prototype in the list will be set to NULL to indicate that the cluster data structures no longer exist. Any sample lists that have been obtained via calls to GetSamples are no longer valid. Return: None Exceptions: None History: 6/6/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00532">532</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keywordflow">if</span> (Clusterer != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>);
    <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="kdtree_8cpp.html#a37e4019555a2b5284b17237373913346">FreeKDTree</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>);
    <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="cluster_8cpp.html#ac66b8beb503d71773eba9bc47d386ae8">FreeCluster</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a>);
    <span class="comment">// Free up all used buckets structures.</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d = 0; d &lt; <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a1223ae56d204b110bd185b7dbdda258e">DISTRIBUTION_COUNT</a>; ++d) {
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; <a class="code" href="cluster_8h.html#a17645698964d2a3c89b72281594c58a3">MAXBUCKETS</a> + 1 - <a class="code" href="cluster_8h.html#a759b3b99f54d92a0c6c5471a4c87c42b">MINBUCKETS</a>; ++c)
        <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a30ffab128a2b2f6f738b48697bebd5b6">bucket_cache</a>[d][c] != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
          <a class="code" href="cluster_8cpp.html#a1afe8a387c2e426eea3e152bb1cdd3e9">FreeBuckets</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a30ffab128a2b2f6f738b48697bebd5b6">bucket_cache</a>[d][c]);
    }

    <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Clusterer);
  }
}                                <span class="comment">// FreeClusterer</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a7e5357920f0bded023b15d29ddf15ebf"></a><!-- doxytag: member="cluster.cpp::FreeProtoList" ref="a7e5357920f0bded023b15d29ddf15ebf" args="(LIST *ProtoList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeProtoList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> *&#160;</td>
          <td class="paramname"><em>ProtoList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FreeProtoList ************************************************************ Parameters: ProtoList pointer to list of prototypes to be freed Operation: This routine frees all of the memory allocated to the specified list of prototypes. The clusters which are pointed to by the prototypes are not freed. Return: None Exceptions: None History: 6/6/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00560">560</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
  <a class="code" href="oldlist_8cpp.html#a1a1efc1a269e5bb5bf16c1a174363ba4">destroy_nodes</a>(*ProtoList, <a class="code" href="cluster_8cpp.html#aa5d7083be183c7a4e2b2fa746a560a7b">FreePrototype</a>);
}                                <span class="comment">// FreeProtoList</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa5d7083be183c7a4e2b2fa746a560a7b"></a><!-- doxytag: member="cluster.cpp::FreePrototype" ref="aa5d7083be183c7a4e2b2fa746a560a7b" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreePrototype </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FreePrototype ************************************************************ Parameters: Prototype prototype data structure to be deallocated Operation: This routine deallocates the memory consumed by the specified prototype and modifies the corresponding cluster so that it is no longer marked as a prototype. The cluster is NOT deallocated by this routine. Return: None Exceptions: None History: 5/30/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00575">575</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                              {  <span class="comment">//PROTOTYPE     *Prototype)</span>
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Prototype = (<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *) arg;

  <span class="comment">// unmark the corresponding cluster (if there is one</span>
  <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aff59384612de343b799b92a5d80282b7">Cluster</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aff59384612de343b799b92a5d80282b7">Cluster</a>-&gt;<a class="code" href="structsample.html#af0c82e552c662971cf574f9ee8bcb40f">Prototype</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

  <span class="comment">// deallocate the prototype statistics and then the prototype itself</span>
  <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a>);
  <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>);
  <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aad81f08b6e171698866b445c0b3d4b35">Style</a> != <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa93d6901f160899d15f69322530595f4f">spherical</a>) {
    <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>);
    <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>);
    <span class="keywordflow">if</span> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Prototype-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>);
  }
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Prototype);
}                                <span class="comment">// FreePrototype</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aef1b69ed626e557bf84c9c0b18db6b95"></a><!-- doxytag: member="cluster.cpp::FreeStatistics" ref="aef1b69ed626e557bf84c9c0b18db6b95" args="(STATISTICS *Statistics)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02226">2226</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Statistics      pointer to data structure to be freed</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine frees the memory used by the statistics</span>
<span class="comment"> **             data structure.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a>);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a> (Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a>);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Statistics);
}                                <span class="comment">// FreeStatistics</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a0924b73d8bc3cd1269aa64f5a41b633f"></a><!-- doxytag: member="cluster.cpp::GetBuckets" ref="a0924b73d8bc3cd1269aa64f5a41b633f" args="(CLUSTERER *clusterer, DISTRIBUTION Distribution, uinT32 SampleCount, FLOAT64 Confidence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> * GetBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a>&#160;</td>
          <td class="paramname"><em>Distribution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>&#160;</td>
          <td class="paramname"><em>SampleCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Confidence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>GetBuckets ************************************************************** Parameters: Clusterer which keeps a bucket_cache for us. Distribution type of probability distribution to test for SampleCount number of samples that are available Confidence probability of a Type I error Operation: This routine returns a histogram data structure which can be used by other routines to place samples into histogram buckets, and then apply a goodness of fit test to the histogram data to determine if the samples belong to the specified probability distribution. The routine keeps a list of bucket data structures which have already been created so that it minimizes the computation time needed to create a new bucket. Return: Bucket data structure Exceptions: none History: Thu Aug 3 12:58:10 1989, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01705">1705</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="comment">// Get an old bucket structure with the same number of buckets.</span>
  <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> NumberOfBuckets = <a class="code" href="cluster_8cpp.html#ab182ad32f9100ae8e29e72db623c70dd">OptimumNumberOfBuckets</a>(SampleCount);
  <a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets =
      clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a30ffab128a2b2f6f738b48697bebd5b6">bucket_cache</a>[Distribution][NumberOfBuckets - <a class="code" href="cluster_8h.html#a759b3b99f54d92a0c6c5471a4c87c42b">MINBUCKETS</a>];

  <span class="comment">// If a matching bucket structure is not found, make one and save it.</span>
  <span class="keywordflow">if</span> (Buckets == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    Buckets = <a class="code" href="cluster_8cpp.html#a93a38445707d2a943e60fafebe0c2b4d">MakeBuckets</a>(Distribution, SampleCount, Confidence);
    clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a30ffab128a2b2f6f738b48697bebd5b6">bucket_cache</a>[Distribution][NumberOfBuckets - <a class="code" href="cluster_8h.html#a759b3b99f54d92a0c6c5471a4c87c42b">MINBUCKETS</a>] =
        Buckets;
  } <span class="keywordflow">else</span> {
    <span class="comment">// Just adjust the existing buckets.</span>
    <span class="keywordflow">if</span> (SampleCount != Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a8e352450eb27c8a017a037f71796b402">SampleCount</a>)
      <a class="code" href="cluster_8cpp.html#a02e72bde5b9d967258769d4a75f07e46">AdjustBuckets</a>(Buckets, SampleCount);
    <span class="keywordflow">if</span> (Confidence != Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aeef80a305501f83af63153e6b2e362a8">Confidence</a>) {
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aeef80a305501f83af63153e6b2e362a8">Confidence</a> = Confidence;
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4dedca1b6c939050313aa761b59a0a11">ChiSquared</a> = <a class="code" href="cluster_8cpp.html#a952909dfb237bce2b90d33204b3efe3e">ComputeChiSquared</a>(
          <a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>(Distribution, Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>),
          Confidence);
    }
    <a class="code" href="cluster_8cpp.html#a0f9ec282a0fa768a4b5bd0d5efaca7d2">InitBuckets</a>(Buckets);
  }
  <span class="keywordflow">return</span> Buckets;
}                                <span class="comment">// GetBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a0a6fea38a06375666937701fb21e6a05"></a><!-- doxytag: member="cluster.cpp::Independent" ref="a0a6fea38a06375666937701fb21e6a05" args="(PARAM_DESC ParamDesc[], inT16 N, FLOAT32 *CoVariance, FLOAT32 Independence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> Independent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>&#160;</td>
          <td class="paramname"><em>ParamDesc</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>CoVariance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Independence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Independent *************************************************************** Parameters: ParamDesc descriptions of each feature space dimension N number of dimensions CoVariance ptr to a covariance matrix Independence max off-diagonal correlation coefficient Operation: This routine returns TRUE if the specified covariance matrix indicates that all N dimensions are independent of one another. One dimension is judged to be independent of another when the magnitude of the corresponding correlation coefficient is less than the specified Independence factor. The correlation coefficient is calculated as: (see Duda and Hart, pg. 247) coeff[ij] = stddev[ij] / sqrt (stddev[ii] * stddev[jj]) The covariance matrix is assumed to be symmetric (which should always be true). Return: TRUE if dimensions are independent, FALSE otherwise Exceptions: None History: 6/4/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01656">1656</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <span class="keywordtype">int</span> i, j;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *VARii;                <span class="comment">// points to ith on-diagonal element</span>
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *VARjj;                <span class="comment">// points to jth on-diagonal element</span>
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> CorrelationCoeff;

  VARii = CoVariance;
  <span class="keywordflow">for</span> (i = 0; i &lt; N; i++, VARii += N + 1) {
    <span class="keywordflow">if</span> (ParamDesc[i].NonEssential)
      <span class="keywordflow">continue</span>;

    VARjj = VARii + N + 1;
    CoVariance = VARii + 1;
    <span class="keywordflow">for</span> (j = i + 1; j &lt; N; j++, CoVariance++, VARjj += N + 1) {
      <span class="keywordflow">if</span> (ParamDesc[j].NonEssential)
        <span class="keywordflow">continue</span>;

      <span class="keywordflow">if</span> ((*VARii == 0.0) || (*VARjj == 0.0))
        CorrelationCoeff = 0.0;
      <span class="keywordflow">else</span>
        CorrelationCoeff =
          sqrt (sqrt (*CoVariance * *CoVariance / (*VARii * *VARjj)));
      <span class="keywordflow">if</span> (CorrelationCoeff &gt; Independence)
        <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
    }
  }
  <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
}                                <span class="comment">// Independent</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a0f9ec282a0fa768a4b5bd0d5efaca7d2"></a><!-- doxytag: member="cluster.cpp::InitBuckets" ref="a0f9ec282a0fa768a4b5bd0d5efaca7d2" args="(BUCKETS *Buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02386">2386</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Buckets         histogram data structure to init</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine sets the bucket counts in the specified histogram</span>
<span class="comment"> **             to zero.</span>
<span class="comment"> **     Return: none</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Thu Aug  3 14:31:14 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordtype">int</span> i;

  <span class="keywordflow">for</span> (i = 0; i &lt; Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>; i++) {
    Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a>[i] = 0;
  }

}                                <span class="comment">// InitBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af0eb798915396ae610f1701708a7b816"></a><!-- doxytag: member="cluster.cpp::Integral" ref="af0eb798915396ae610f1701708a7b816" args="(FLOAT64 f1, FLOAT64 f2, FLOAT64 Dx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Integral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>f1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>f2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01994">1994</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             f1      value of function at x1</span>
<span class="comment"> **             f2      value of function at x2</span>
<span class="comment"> **             Dx      x2 - x1 (should always be positive)</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine computes a trapezoidal approximation to the</span>
<span class="comment"> **             integral of a function over a small delta in x.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             Approximation of the integral of the function from x1 to x2.</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordflow">return</span> (f1 + f2) * Dx / 2.0;
}                                <span class="comment">// Integral</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a40c47f6785ad5d50a9b113761e16ab9d"></a><!-- doxytag: member="cluster.cpp::InvertMatrix" ref="a40c47f6785ad5d50a9b113761e16ab9d" args="(const float *input, int size, float *inv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double InvertMatrix </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>inv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02648">2648</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  <span class="comment">// Allocate memory for the 2D arrays.</span>
  <a class="code" href="class_g_e_n_e_r_i_c__2_d___a_r_r_a_y.html">GENERIC_2D_ARRAY&lt;double&gt;</a> U(size, size, 0.0);
  <a class="code" href="class_g_e_n_e_r_i_c__2_d___a_r_r_a_y.html">GENERIC_2D_ARRAY&lt;double&gt;</a> U_inv(size, size, 0.0);
  <a class="code" href="class_g_e_n_e_r_i_c__2_d___a_r_r_a_y.html">GENERIC_2D_ARRAY&lt;double&gt;</a> L(size, size, 0.0);

  <span class="comment">// Initialize the working matrices. U starts as input, L as I and U_inv as O.</span>
  <span class="keywordtype">int</span> row;
  <span class="keywordtype">int</span> col;
  <span class="keywordflow">for</span> (row = 0; row &lt; size; row++) {
    <span class="keywordflow">for</span> (col = 0; col &lt; size; col++) {
      U[row][col] = input[row*size + col];
      L[row][col] = row == col ? 1.0 : 0.0;
      U_inv[row][col] = 0.0;
    }
  }

  <span class="comment">// Compute forward matrix by inversion by LU decomposition of input.</span>
  <span class="keywordflow">for</span> (col = 0; col &lt; size; ++col) {
    <span class="comment">// Find best pivot</span>
    <span class="keywordtype">int</span> best_row = 0;
    <span class="keywordtype">double</span> best_pivot = -1.0;
    <span class="keywordflow">for</span> (row = col; row &lt; size; ++row) {
      <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a060002a5aeab470cb24c8343daa1db08">Abs</a>(U[row][col]) &gt; best_pivot) {
        best_pivot = <a class="code" href="cluster_8cpp.html#a060002a5aeab470cb24c8343daa1db08">Abs</a>(U[row][col]);
        best_row = row;
      }
    }
    <span class="comment">// Exchange pivot rows.</span>
    <span class="keywordflow">if</span> (best_row != col) {
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; size; ++k) {
        <span class="keywordtype">double</span> tmp = U[best_row][k];
        U[best_row][k] = U[col][k];
        U[col][k] = tmp;
        tmp = L[best_row][k];
        L[best_row][k] = L[col][k];
        L[col][k] = tmp;
      }
    }
    <span class="comment">// Now do the pivot itself.</span>
    <span class="keywordflow">for</span> (row = col + 1; row &lt; size; ++row) {
      <span class="keywordtype">double</span> ratio = -U[row][col] / U[col][col];
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = col; j &lt; size; ++j) {
        U[row][j] += U[col][j] * ratio;
      }
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; size; ++k) {
        L[row][k] += L[col][k] * ratio;
      }
    }
  }
  <span class="comment">// Next invert U.</span>
  <span class="keywordflow">for</span> (col = 0; col &lt; size; ++col) {
    U_inv[col][col] = 1.0 / U[col][col];
    <span class="keywordflow">for</span> (row = col - 1; row &gt;= 0; --row) {
      <span class="keywordtype">double</span> total = 0.0;
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = col; k &gt; row; --k) {
        total += U[row][k] * U_inv[k][col];
      }
      U_inv[row][col] = -total / U[row][row];
    }
  }
  <span class="comment">// Now the answer is U_inv.L.</span>
  <span class="keywordflow">for</span> (row = 0; row &lt; size; row++) {
    <span class="keywordflow">for</span> (col = 0; col &lt; size; col++) {
      <span class="keywordtype">double</span> sum = 0.0;
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = row; k &lt; size; ++k) {
        sum += U_inv[row][k] * L[k][col];
      }
      inv[row*size + col] = sum;
    }
  }
  <span class="comment">// Check matrix product.</span>
  <span class="keywordtype">double</span> error_sum = 0.0;
  <span class="keywordflow">for</span> (row = 0; row &lt; size; row++) {
    <span class="keywordflow">for</span> (col = 0; col &lt; size; col++) {
      <span class="keywordtype">double</span> sum = 0.0;
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; size; ++k) {
        sum += input[row*size + k] * inv[k *size + col];
      }
      <span class="keywordflow">if</span> (row != col) {
        error_sum += <a class="code" href="cluster_8cpp.html#a060002a5aeab470cb24c8343daa1db08">Abs</a>(sum);
      }
    }
  }
  <span class="keywordflow">return</span> error_sum;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7f39be063580c1c7c5566faf0398dfb0"></a><!-- doxytag: member="cluster.cpp::ListEntryMatch" ref="a7f39be063580c1c7c5566faf0398dfb0" args="(void *arg1, void *arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ListEntryMatch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02339">2339</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                               {  <span class="comment">//Key</span>
<span class="comment">/*</span>
<span class="comment"> **     Parameters: none</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine is used to search a list for a list node</span>
<span class="comment"> **             whose contents match Key.  It is called by the list</span>
<span class="comment"> **             delete_d routine.</span>
<span class="comment"> **     Return: TRUE if ListNode matches Key</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Thu Aug  3 14:23:58 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keywordflow">return</span> (arg1 == arg2);

}                                <span class="comment">// ListEntryMatch</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a93a38445707d2a943e60fafebe0c2b4d"></a><!-- doxytag: member="cluster.cpp::MakeBuckets" ref="a93a38445707d2a943e60fafebe0c2b4d" args="(DISTRIBUTION Distribution, uinT32 SampleCount, FLOAT64 Confidence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> * MakeBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a>&#160;</td>
          <td class="paramname"><em>Distribution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>&#160;</td>
          <td class="paramname"><em>SampleCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Confidence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Makebuckets ************************************************************* Parameters: Distribution type of probability distribution to test for SampleCount number of samples that are available Confidence probability of a Type I error Operation: This routine creates a histogram data structure which can be used by other routines to place samples into histogram buckets, and then apply a goodness of fit test to the histogram data to determine if the samples belong to the specified probability distribution. The buckets are allocated in such a way that the expected frequency of samples in each bucket is approximately the same. In order to make this possible, a mapping table is computed which maps "normalized" samples into the appropriate bucket. Return: Pointer to new histogram data structure Exceptions: None History: 6/4/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01755">1755</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keyword">const</span> <a class="code" href="cluster_8cpp.html#a32b61dc3b9e8987cc1a63db31c99c6e9">DENSITYFUNC</a> DensityFunction[] =
    { <a class="code" href="cluster_8cpp.html#a46fa6d94ca57427d93d1f306c4bbcf46">NormalDensity</a>, <a class="code" href="cluster_8cpp.html#a5abc8ec5703c3d471dc0dd172cb22168">UniformDensity</a>, UniformDensity };
  <span class="keywordtype">int</span> i, j;
  <a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> BucketProbability;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> NextBucketBoundary;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Probability;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> ProbabilityDelta;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> LastProbDensity;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> ProbDensity;
  <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> CurrentBucket;
  <a class="code" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> Symmetrical;

  <span class="comment">// allocate memory needed for data structure</span>
  Buckets = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a>*<span class="keyword">&gt;</span>(<a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a>)));
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a> = <a class="code" href="cluster_8cpp.html#ab182ad32f9100ae8e29e72db623c70dd">OptimumNumberOfBuckets</a>(SampleCount);
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a8e352450eb27c8a017a037f71796b402">SampleCount</a> = SampleCount;
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aeef80a305501f83af63153e6b2e362a8">Confidence</a> = Confidence;
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>*<span class="keyword">&gt;</span>(
      <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a> * <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>)));
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>*<span class="keyword">&gt;</span>(
      <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a> * <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>)));

  <span class="comment">// initialize simple fields</span>
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#ad2b1ef5944d42354519db2895a8ca062">Distribution</a> = Distribution;
  <span class="keywordflow">for</span> (i = 0; i &lt; Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>; i++) {
    Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a0b281b83beb3b9c450eeec5c9f4ec763">Count</a>[i] = 0;
    Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[i] = 0.0;
  }

  <span class="comment">// all currently defined distributions are symmetrical</span>
  Symmetrical = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4dedca1b6c939050313aa761b59a0a11">ChiSquared</a> = <a class="code" href="cluster_8cpp.html#a952909dfb237bce2b90d33204b3efe3e">ComputeChiSquared</a>(
      <a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>(Distribution, Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>), Confidence);

  <span class="keywordflow">if</span> (Symmetrical) {
    <span class="comment">// allocate buckets so that all have approx. equal probability</span>
    BucketProbability = 1.0 / (<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) (Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>);

    <span class="comment">// distribution is symmetric so fill in upper half then copy</span>
    CurrentBucket = Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a> / 2;
    <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a0662f2b2f6ae8b7ed59d9da773c0da35">Odd</a> (Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>))
      NextBucketBoundary = BucketProbability / 2;
    <span class="keywordflow">else</span>
      NextBucketBoundary = BucketProbability;

    Probability = 0.0;
    LastProbDensity =
      (*DensityFunction[(int) Distribution]) (<a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> / 2);
    <span class="keywordflow">for</span> (i = <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> / 2; i &lt; <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a>; i++) {
      ProbDensity = (*DensityFunction[(int) Distribution]) (i + 1);
      ProbabilityDelta = <a class="code" href="cluster_8cpp.html#af0eb798915396ae610f1701708a7b816">Integral</a> (LastProbDensity, ProbDensity, 1.0);
      Probability += ProbabilityDelta;
      <span class="keywordflow">if</span> (Probability &gt; NextBucketBoundary) {
        <span class="keywordflow">if</span> (CurrentBucket &lt; Buckets-&gt;NumberOfBuckets - 1)
          CurrentBucket++;
        NextBucketBoundary += BucketProbability;
      }
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aaa108173d6611040d567271a1262b67e">Bucket</a>[i] = CurrentBucket;
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[CurrentBucket] +=
        (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) (ProbabilityDelta * SampleCount);
      LastProbDensity = ProbDensity;
    }
    <span class="comment">// place any leftover probability into the last bucket</span>
    Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[CurrentBucket] +=
      (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) ((0.5 - Probability) * SampleCount);

    <span class="comment">// copy upper half of distribution to lower half</span>
    <span class="keywordflow">for</span> (i = 0, j = BUCKETTABLESIZE - 1; i &lt; j; i++, j--)
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aaa108173d6611040d567271a1262b67e">Bucket</a>[i] =
        <a class="code" href="cluster_8cpp.html#a42e41a23d64c7e8a69fbfd802e72c239">Mirror</a>(Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#aaa108173d6611040d567271a1262b67e">Bucket</a>[j], Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>);

    <span class="comment">// copy upper half of expected counts to lower half</span>
    <span class="keywordflow">for</span> (i = 0, j = Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a> - 1; i &lt;= j; i++, j--)
      Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[i] += Buckets-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a4002c4c85553bc88efee6395fe803026">ExpectedCount</a>[j];
  }
  <span class="keywordflow">return</span> Buckets;
}                                <span class="comment">// MakeBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a93e53684b74358b68adf48b2ee32b042"></a><!-- doxytag: member="cluster.cpp::MakeClusterer" ref="a93e53684b74358b68adf48b2ee32b042" args="(inT16 SampleSize, const PARAM_DESC ParamDesc[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a>* MakeClusterer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>SampleSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>&#160;</td>
          <td class="paramname"><em>ParamDesc</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeClusterer ********************************************************** Parameters: SampleSize number of dimensions in feature space ParamDesc description of each dimension Operation: This routine creates a new clusterer data structure, initializes it, and returns a pointer to it. Return: pointer to the new clusterer data structure Exceptions: None History: 5/29/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00395">395</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
  <a class="code" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *Clusterer;
  <span class="keywordtype">int</span> i;

  <span class="comment">// allocate main clusterer data structure and init simple fields</span>
  Clusterer = (<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a>));
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a> = SampleSize;
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a04b44b06900e7a0c8d8d4d4e5a00c3aa">NumberOfSamples</a> = 0;
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#aa4a7b4654dcb4918ac9a282d976b72d9">NumChar</a> = 0;

  <span class="comment">// init fields which will not be used initially</span>
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af6bd9758400f9a886e8fde8d009de70f">ProtoList</a> = <a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;

  <span class="comment">// maintain a copy of param descriptors in the clusterer data structure</span>
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a> =
    (<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (SampleSize * <span class="keyword">sizeof</span> (<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>));
  <span class="keywordflow">for</span> (i = 0; i &lt; SampleSize; i++) {
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a> = ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a>;
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a> = ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>;
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a> = ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>;
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> = ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a>;
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a> = ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> - ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>;
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a1df92d879d7ec8ea6662e956d27154b5">HalfRange</a> = Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a> / 2;
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a7c7bec15766be3633c649a0a9409b512">MidRange</a> =
      (ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a73e76f946bbd324e60914a991d3343d1">Max</a> + ParamDesc[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6445e8e433a99239e56c3218437f2695">Min</a>) / 2;
  }

  <span class="comment">// allocate a kd tree to hold the samples</span>
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a> = <a class="code" href="kdtree_8cpp.html#a92b996eb8120afe351d8e7ee82c96ece">MakeKDTree</a> (SampleSize, ParamDesc);

  <span class="comment">// Initialize cache of histogram buckets to minimize recomputing them.</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d = 0; d &lt; <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a1223ae56d204b110bd185b7dbdda258e">DISTRIBUTION_COUNT</a>; ++d) {
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; <a class="code" href="cluster_8h.html#a17645698964d2a3c89b72281594c58a3">MAXBUCKETS</a> + 1 - <a class="code" href="cluster_8h.html#a759b3b99f54d92a0c6c5471a4c87c42b">MINBUCKETS</a>; ++c)
      Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a30ffab128a2b2f6f738b48697bebd5b6">bucket_cache</a>[d][c] = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }

  <span class="keywordflow">return</span> Clusterer;
}                                <span class="comment">// MakeClusterer</span>
</pre></div>
</div>
</div>
<a class="anchor" id="abd55a5befb4eda77f5d0abbd460cc501"></a><!-- doxytag: member="cluster.cpp::MakeDegenerateProto" ref="abd55a5befb4eda77f5d0abbd460cc501" args="(uinT16 N, CLUSTER *Cluster, STATISTICS *Statistics, PROTOSTYLE Style, inT32 MinSamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * MakeDegenerateProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9ea">PROTOSTYLE</a>&#160;</td>
          <td class="paramname"><em>Style</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>MinSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeDegenerateProto ****************************************************** Parameters: N number of dimensions Cluster cluster being analyzed Statistics statistical info about cluster Style type of prototype to be generated MinSamples minimum number of samples in a cluster Operation: This routine checks for clusters which are degenerate and therefore cannot be analyzed in a statistically valid way. A cluster is defined as degenerate if it does not have at least MINSAMPLESNEEDED samples in it. If the cluster is found to be degenerate, a prototype of the specified style is generated and marked as insignificant. A cluster is also degenerate if it does not have at least MinSamples samples in it. If the cluster is not degenerate, NULL is returned. Return: Pointer to degenerate prototype or NULL. Exceptions: None History: 6/20/89, DSJ, Created. 7/12/89, DSJ, Changed name and added check for 0 stddev. 8/8/89, DSJ, Removed check for 0 stddev (handled elsewhere). </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01067">1067</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="keywordflow">if</span> (MinSamples &lt; <a class="code" href="cluster_8cpp.html#a6b4ec5de41f65e6f0f69b57db368bd54">MINSAMPLESNEEDED</a>)
    MinSamples = <a class="code" href="cluster_8cpp.html#a6b4ec5de41f65e6f0f69b57db368bd54">MINSAMPLESNEEDED</a>;

  <span class="keywordflow">if</span> (Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a> &lt; MinSamples) {
    <span class="keywordflow">switch</span> (Style) {
      <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa93d6901f160899d15f69322530595f4f">spherical</a>:
        Proto = <a class="code" href="cluster_8cpp.html#a96019ee068587b2d17ddb6f43ded872b">NewSphericalProto</a> (N, Cluster, Statistics);
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459">elliptical</a>:
      <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa9761086e420b925e438327ad385b304d">automatic</a>:
        Proto = <a class="code" href="cluster_8cpp.html#a1453a157e92261f5331f8624dfc4d3c0">NewEllipticalProto</a> (N, Cluster, Statistics);
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a>:
        Proto = <a class="code" href="cluster_8cpp.html#accc05d5eedc4d765148eaa99c1927a79">NewMixedProto</a> (N, Cluster, Statistics);
        <span class="keywordflow">break</span>;
    }
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a5d94887aaa0acd7e4a0c04c420af5670">Significant</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  }
  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// MakeDegenerateProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae018c99abb6b7f691f2e4b711485b45b"></a><!-- doxytag: member="cluster.cpp::MakeDimRandom" ref="ae018c99abb6b7f691f2e4b711485b45b" args="(uinT16 i, PROTOTYPE *Proto, PARAM_DESC *ParamDesc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeDimRandom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td>
          <td class="paramname"><em>Proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *&#160;</td>
          <td class="paramname"><em>ParamDesc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01360">1360</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a>[i] = <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a21504929e31ddde091641bb817e32320">D_random</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[i] = ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a7c7bec15766be3633c649a0a9409b512">MidRange</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] = ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a1df92d879d7ec8ea6662e956d27154b5">HalfRange</a>;

  <span class="comment">// subtract out the previous magnitude of this dimension from the total</span>
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> /= Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i];
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] = 1.0 / ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> *= Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i];
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aefd3ba15fc4dd0029aa9cda07092382b">LogMagnitude</a> = log ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a>);

  <span class="comment">// note that the proto Weight is irrelevant for D_random protos</span>
}                                <span class="comment">// MakeDimRandom</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a12a01c4bc8f83968f4b64600bfff82de"></a><!-- doxytag: member="cluster.cpp::MakeDimUniform" ref="a12a01c4bc8f83968f4b64600bfff82de" args="(uinT16 i, PROTOTYPE *Proto, STATISTICS *Statistics)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakeDimUniform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td>
          <td class="paramname"><em>Proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeDimUniform *********************************************************** Parameters: i index of dimension to be changed Proto prototype whose dimension is to be altered Statistics statistical info about prototype Operation: This routine alters the ith dimension of the specified mixed prototype to be uniform. Return: None Exceptions: None History: 6/20/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01385">1385</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a>[i] = <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a56013d9ac59a24fb94d9acb932a04b2f">uniform</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[i] = Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aff59384612de343b799b92a5d80282b7">Cluster</a>-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i] +
    (Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a>[i] + Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a>[i]) / 2;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] =
    (Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a6f553b49759c072107a7c1c5606bbc72">Max</a>[i] - Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#ae03871d16f8d02e97e24401324565ab5">Min</a>[i]) / 2;
  <span class="keywordflow">if</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] &lt; <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>)
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] = <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>;

  <span class="comment">// subtract out the previous magnitude of this dimension from the total</span>
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> /= Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i];
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] =
    1.0 / (2.0 * Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i]);
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> *= Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i];
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aefd3ba15fc4dd0029aa9cda07092382b">LogMagnitude</a> = log ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a>);

  <span class="comment">// note that the proto Weight is irrelevant for uniform protos</span>
}                                <span class="comment">// MakeDimUniform</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a076b9ff3e723f44987211c9bf5f77523"></a><!-- doxytag: member="cluster.cpp::MakeEllipticalProto" ref="a076b9ff3e723f44987211c9bf5f77523" args="(CLUSTERER *Clusterer, CLUSTER *Cluster, STATISTICS *Statistics, BUCKETS *Buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * MakeEllipticalProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeEllipticalProto **************************************************** Parameters: Clusterer data struct containing samples being clustered Cluster cluster to be made into an elliptical prototype Statistics statistical info about cluster Buckets histogram struct used to analyze distribution Operation: This routine tests the specified cluster to see if it can be approximated by an elliptical normal distribution. If it can be, then a new prototype is formed and returned to the caller. If it can't be, then NULL is returned to the caller. Return: Pointer to new elliptical prototype or NULL. Exceptions: None History: 6/12/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01254">1254</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">int</span> i;

  <span class="comment">// check that each dimension is a normal distribution</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>; i++) {
    <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>)
      <span class="keywordflow">continue</span>;

    <a class="code" href="cluster_8cpp.html#a54c75ac15de9474adc1387dc0c809c0b">FillBuckets</a> (Buckets, Cluster, i, &amp;(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i]),
      Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i],
      sqrt ((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) Statistics-&gt;
      CoVariance[i * (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a> + 1)]));
    <span class="keywordflow">if</span> (!<a class="code" href="cluster_8cpp.html#a4c5b32330cf58e89e2352deb84394332">DistributionOK</a> (Buckets))
      <span class="keywordflow">break</span>;
  }
  <span class="comment">// if all dimensions matched a normal distribution, make a proto</span>
  <span class="keywordflow">if</span> (i &gt;= Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>)
    Proto = <a class="code" href="cluster_8cpp.html#a1453a157e92261f5331f8624dfc4d3c0">NewEllipticalProto</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Cluster, Statistics);
  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// MakeEllipticalProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a2ebb51aa33fe2a99f5326366ed86b42e"></a><!-- doxytag: member="cluster.cpp::MakeMixedProto" ref="a2ebb51aa33fe2a99f5326366ed86b42e" args="(CLUSTERER *Clusterer, CLUSTER *Cluster, STATISTICS *Statistics, BUCKETS *NormalBuckets, FLOAT64 Confidence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * MakeMixedProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>NormalBuckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Confidence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeMixedProto *********************************************************** Parameters: Clusterer data struct containing samples being clustered Cluster cluster to be made into a prototype Statistics statistical info about cluster NormalBuckets histogram struct used to analyze distribution Confidence confidence level for alternate distributions Operation: This routine tests each dimension of the specified cluster to see what distribution would best approximate that dimension. Each dimension is compared to the following distributions in order: normal, random, uniform. If each dimension can be represented by one of these distributions, then a new prototype is formed and returned to the caller. If it can't be, then NULL is returned to the caller. Return: Pointer to new mixed prototype or NULL. Exceptions: None History: 6/12/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01298">1298</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;
  <span class="keywordtype">int</span> i;
  <a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *UniformBuckets = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *RandomBuckets = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">// create a mixed proto to work on - initially assume all dimensions normal*/</span>
  Proto = <a class="code" href="cluster_8cpp.html#accc05d5eedc4d765148eaa99c1927a79">NewMixedProto</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Cluster, Statistics);

  <span class="comment">// find the proper distribution for each dimension</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>; i++) {
    <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>)
      <span class="keywordflow">continue</span>;

    <a class="code" href="cluster_8cpp.html#a54c75ac15de9474adc1387dc0c809c0b">FillBuckets</a> (NormalBuckets, Cluster, i, &amp;(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i]),
      Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[i],
      sqrt ((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i]));
    <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a4c5b32330cf58e89e2352deb84394332">DistributionOK</a> (NormalBuckets))
      <span class="keywordflow">continue</span>;

    <span class="keywordflow">if</span> (RandomBuckets == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      RandomBuckets =
        <a class="code" href="cluster_8cpp.html#a0924b73d8bc3cd1269aa64f5a41b633f">GetBuckets</a>(Clusterer, <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a21504929e31ddde091641bb817e32320">D_random</a>, Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>, Confidence);
    <a class="code" href="cluster_8cpp.html#ae018c99abb6b7f691f2e4b711485b45b">MakeDimRandom</a> (i, Proto, &amp;(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i]));
    <a class="code" href="cluster_8cpp.html#a54c75ac15de9474adc1387dc0c809c0b">FillBuckets</a> (RandomBuckets, Cluster, i, &amp;(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i]),
      Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[i], Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i]);
    <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a4c5b32330cf58e89e2352deb84394332">DistributionOK</a> (RandomBuckets))
      <span class="keywordflow">continue</span>;

    <span class="keywordflow">if</span> (UniformBuckets == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      UniformBuckets =
        <a class="code" href="cluster_8cpp.html#a0924b73d8bc3cd1269aa64f5a41b633f">GetBuckets</a>(Clusterer, <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a56013d9ac59a24fb94d9acb932a04b2f">uniform</a>, Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>, Confidence);
    <a class="code" href="cluster_8cpp.html#a12a01c4bc8f83968f4b64600bfff82de">MakeDimUniform</a>(i, Proto, Statistics);
    <a class="code" href="cluster_8cpp.html#a54c75ac15de9474adc1387dc0c809c0b">FillBuckets</a> (UniformBuckets, Cluster, i, &amp;(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i]),
      Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[i], Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i]);
    <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a4c5b32330cf58e89e2352deb84394332">DistributionOK</a> (UniformBuckets))
      <span class="keywordflow">continue</span>;
    <span class="keywordflow">break</span>;
  }
  <span class="comment">// if any dimension failed to match a distribution, discard the proto</span>
  <span class="keywordflow">if</span> (i &lt; Clusterer-&gt;SampleSize) {
    <a class="code" href="cluster_8cpp.html#aa5d7083be183c7a4e2b2fa746a560a7b">FreePrototype</a>(Proto);
    Proto = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }
  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// MakeMixedProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ab73b69de28e8bb2f1332524a02f6f475"></a><!-- doxytag: member="cluster.cpp::MakeNewCluster" ref="ab73b69de28e8bb2f1332524a02f6f475" args="(CLUSTERER *Clusterer, TEMPCLUSTER *TempCluster)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> * MakeNewCluster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_t_e_m_p_c_l_u_s_t_e_r.html">TEMPCLUSTER</a> *&#160;</td>
          <td class="paramname"><em>TempCluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeNewCluster ************************************************************* Parameters: Clusterer current clustering environment TempCluster potential cluster to make permanent Operation: This routine creates a new permanent cluster from the clusters specified in TempCluster. The 2 clusters in TempCluster are marked as "clustered" and deleted from the kd-tree. The new cluster is then added to the kd-tree. Return: Pointer to the new permanent cluster Exceptions: none History: 5/29/89, DSJ, Created. 7/13/89, DSJ, Removed visibility of kd-tree node data struct </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00837">837</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
  <a class="code" href="structsample.html">CLUSTER</a> *Cluster;

  <span class="comment">// allocate the new cluster and initialize it</span>
  Cluster = (<a class="code" href="structsample.html">CLUSTER</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(
      <span class="keyword">sizeof</span>(<a class="code" href="structsample.html">CLUSTER</a>) + (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a> - 1) * <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));
  Cluster-&gt;<a class="code" href="structsample.html#aa6b39588394fbede2bdcac083bf3832d">Clustered</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  Cluster-&gt;<a class="code" href="structsample.html#af0c82e552c662971cf574f9ee8bcb40f">Prototype</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a> = TempCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a>;
  Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a> = TempCluster-&gt;<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a>;
  Cluster-&gt;<a class="code" href="structsample.html#a564df9059b85a37e9f4e69843eec3e20">CharID</a> = -1;

  <span class="comment">// mark the old clusters as &quot;clustered&quot; and delete them from the kd-tree</span>
  Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>-&gt;<a class="code" href="structsample.html#aa6b39588394fbede2bdcac083bf3832d">Clustered</a> = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>-&gt;<a class="code" href="structsample.html#aa6b39588394fbede2bdcac083bf3832d">Clustered</a> = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  <a class="code" href="kdtree_8cpp.html#a270d3ef72c3f0097f249ca75c2aafa3c">KDDelete</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>, Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>);
  <a class="code" href="kdtree_8cpp.html#a270d3ef72c3f0097f249ca75c2aafa3c">KDDelete</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>, Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>);

  <span class="comment">// compute the mean and sample count for the new cluster</span>
  Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a> =
      <a class="code" href="cluster_8cpp.html#a13004a2cbbcf26c3d95fd207274823c9">MergeClusters</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>,
                    Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>, Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>,
                    Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>);

  <span class="comment">// add the new cluster to the KD tree</span>
  <a class="code" href="kdtree_8cpp.html#a596422fd837fb6937c12be6b277423a0">KDStore</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>, Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, Cluster);
  <span class="keywordflow">return</span> Cluster;
}                                <span class="comment">// MakeNewCluster</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae250df46fa1538fb7932e11d5a6aa98a"></a><!-- doxytag: member="cluster.cpp::MakePotentialClusters" ref="ae250df46fa1538fb7932e11d5a6aa98a" args="(ClusteringContext *context, CLUSTER *Cluster, inT32 Level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MakePotentialClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_clustering_context.html">ClusteringContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>Level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakePotentialClusters ************************************************** Parameters: context <a class="el" href="struct_clustering_context.html">ClusteringContext</a> (see definition above) Cluster current cluster being visited in kd-tree walk Level level of this cluster in the kd-tree Operation: This routine is designed to be used in concert with the KDWalk routine. It will create a potential cluster for each sample in the kd-tree that is being walked. This potential cluster will then be pushed on the heap. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00764">764</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
  <a class="code" href="struct_h_e_a_p_e_n_t_r_y.html">HEAPENTRY</a> HeapEntry;
  <span class="keywordtype">int</span> next = context-&gt;<a class="code" href="struct_clustering_context.html#a6e7e68c81c4925fb0cc24fa90d1fa358">next</a>;
  context-&gt;<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a>[next].<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a> = Cluster;
  HeapEntry.<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = (<span class="keywordtype">char</span> *) &amp;(context-&gt;<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a>[next]);
  context-&gt;<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a>[next].<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a> =
      <a class="code" href="cluster_8cpp.html#a45fae84caf7ba68e1a77fdffe9f0d112">FindNearestNeighbor</a>(context-&gt;<a class="code" href="struct_clustering_context.html#a6414b57292a4e25bfe1af8bd47258817">tree</a>,
                          context-&gt;<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a>[next].<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#adfa4721271456305d40524737800bb2e">Cluster</a>,
                          &amp;HeapEntry.<a class="code" href="struct_h_e_a_p_e_n_t_r_y.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>);
  <span class="keywordflow">if</span> (context-&gt;<a class="code" href="struct_clustering_context.html#abcdf0ba8732036cb540bb470956186d3">candidates</a>[next].<a class="code" href="struct_t_e_m_p_c_l_u_s_t_e_r.html#abc9f805357e72eae3febb1dbd4c412ac">Neighbor</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="oldheap_8cpp.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a>(context-&gt;<a class="code" href="struct_clustering_context.html#a411623fe2aa0ed365290e1f0c8ac81a4">heap</a>, &amp;HeapEntry);
    context-&gt;<a class="code" href="struct_clustering_context.html#a6e7e68c81c4925fb0cc24fa90d1fa358">next</a>++;
  }
}                                <span class="comment">// MakePotentialClusters</span>
</pre></div>
</div>
</div>
<a class="anchor" id="aa37ac7f48ca91b0afb78f8408e8b9b6f"></a><!-- doxytag: member="cluster.cpp::MakePrototype" ref="aa37ac7f48ca91b0afb78f8408e8b9b6f" args="(CLUSTERER *Clusterer, CLUSTERCONFIG *Config, CLUSTER *Cluster)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * MakePrototype </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *&#160;</td>
          <td class="paramname"><em>Config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakePrototype *********************************************************** Parameters: Clusterer data structure holding cluster tree Config parameters used to control prototype generation Cluster cluster to be made into a prototype Operation: This routine attempts to create a prototype from the specified cluster that conforms to the distribution specified in Config. If there are too few samples in the cluster to perform a statistical analysis, then a prototype is generated but labelled as insignificant. If the dimensions of the cluster are not independent, no prototype is generated and NULL is returned. If a prototype can be found that matches the desired distribution then a pointer to it is returned, otherwise NULL is returned. Return: Pointer to new prototype or NULL Exceptions: None History: 6/19/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00974">974</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
  <a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *Statistics;
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;
  <a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Buckets;

  <span class="comment">// filter out clusters which contain samples from the same character</span>
  <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a39583ff2f6db38f0c2e26f7ad87f2c0c">MultipleCharSamples</a> (Clusterer, Cluster, Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#aaf0758a0e763d9525d6d7781db8ade14">MaxIllegal</a>))
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">// compute the covariance matrix and ranges for the cluster</span>
  Statistics =
      <a class="code" href="cluster_8cpp.html#aa60411f531ca1f230d001973299d1c09">ComputeStatistics</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>, Cluster);

  <span class="comment">// check for degenerate clusters which need not be analyzed further</span>
  <span class="comment">// note that the MinSamples test assumes that all clusters with multiple</span>
  <span class="comment">// character samples have been removed (as above)</span>
  Proto = <a class="code" href="cluster_8cpp.html#abd55a5befb4eda77f5d0abbd460cc501">MakeDegenerateProto</a>(
      Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Cluster, Statistics, Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a53c426e655c701e99f7744a35ecced70">ProtoStyle</a>,
      (<a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>) (Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a30f3f6f54aa8e9371a0398f04bca0de3">MinSamples</a> * Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#aa4a7b4654dcb4918ac9a282d976b72d9">NumChar</a>));
  <span class="keywordflow">if</span> (Proto != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    <a class="code" href="cluster_8cpp.html#aef1b69ed626e557bf84c9c0b18db6b95">FreeStatistics</a>(Statistics);
    <span class="keywordflow">return</span> Proto;
  }
  <span class="comment">// check to ensure that all dimensions are independent</span>
  <span class="keywordflow">if</span> (!<a class="code" href="cluster_8cpp.html#a0a6fea38a06375666937701fb21e6a05">Independent</a>(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>, Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>,
                   Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>, Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a77c7d2361e92592098a3287cabc26a6d">Independence</a>)) {
    <a class="code" href="cluster_8cpp.html#aef1b69ed626e557bf84c9c0b18db6b95">FreeStatistics</a>(Statistics);
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  }

  <span class="keywordflow">if</span> (<a class="code" href="cluster_8cpp.html#a6c16d1564de65f394e737811e5389042">HOTELLING</a> &amp;&amp; Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a53c426e655c701e99f7744a35ecced70">ProtoStyle</a> == <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459">elliptical</a>) {
    Proto = <a class="code" href="cluster_8cpp.html#a52963d24aa278bff9a1de24806954d61">TestEllipticalProto</a>(Clusterer, Config, Cluster, Statistics);
    <span class="keywordflow">if</span> (Proto != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
      <a class="code" href="cluster_8cpp.html#aef1b69ed626e557bf84c9c0b18db6b95">FreeStatistics</a>(Statistics);
      <span class="keywordflow">return</span> Proto;
    }
  }

  <span class="comment">// create a histogram data structure used to evaluate distributions</span>
  Buckets = <a class="code" href="cluster_8cpp.html#a0924b73d8bc3cd1269aa64f5a41b633f">GetBuckets</a>(Clusterer, <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0aebc81705969b8c5ae986b0b2ec08d1d5">normal</a>, Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>,
                       Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a4758d8ddf0644e204132b779a786b6fb">Confidence</a>);

  <span class="comment">// create a prototype based on the statistics and test it</span>
  <span class="keywordflow">switch</span> (Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a53c426e655c701e99f7744a35ecced70">ProtoStyle</a>) {
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa93d6901f160899d15f69322530595f4f">spherical</a>:
      Proto = <a class="code" href="cluster_8cpp.html#ad04d25bb39e413b1cd7064534b98f9a4">MakeSphericalProto</a>(Clusterer, Cluster, Statistics, Buckets);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459">elliptical</a>:
      Proto = <a class="code" href="cluster_8cpp.html#a076b9ff3e723f44987211c9bf5f77523">MakeEllipticalProto</a>(Clusterer, Cluster, Statistics, Buckets);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a>:
      Proto = <a class="code" href="cluster_8cpp.html#a2ebb51aa33fe2a99f5326366ed86b42e">MakeMixedProto</a>(Clusterer, Cluster, Statistics, Buckets,
                             Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a4758d8ddf0644e204132b779a786b6fb">Confidence</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa9761086e420b925e438327ad385b304d">automatic</a>:
      Proto = <a class="code" href="cluster_8cpp.html#ad04d25bb39e413b1cd7064534b98f9a4">MakeSphericalProto</a>(Clusterer, Cluster, Statistics, Buckets);
      <span class="keywordflow">if</span> (Proto != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">break</span>;
      Proto = <a class="code" href="cluster_8cpp.html#a076b9ff3e723f44987211c9bf5f77523">MakeEllipticalProto</a>(Clusterer, Cluster, Statistics, Buckets);
      <span class="keywordflow">if</span> (Proto != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">break</span>;
      Proto = <a class="code" href="cluster_8cpp.html#a2ebb51aa33fe2a99f5326366ed86b42e">MakeMixedProto</a>(Clusterer, Cluster, Statistics, Buckets,
                             Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a4758d8ddf0644e204132b779a786b6fb">Confidence</a>);
      <span class="keywordflow">break</span>;
  }
  <a class="code" href="cluster_8cpp.html#aef1b69ed626e557bf84c9c0b18db6b95">FreeStatistics</a>(Statistics);
  <span class="keywordflow">return</span> Proto;
}                                <span class="comment">// MakePrototype</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ab3cc5ee277d4a2cf4000668b1ffbcf4a"></a><!-- doxytag: member="cluster.cpp::MakeSample" ref="ab3cc5ee277d4a2cf4000668b1ffbcf4a" args="(CLUSTERER *Clusterer, const FLOAT32 *Feature, inT32 CharID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cluster_8h.html#acb9fa31a4d774b3e8a3091c21486fa7a">SAMPLE</a>* MakeSample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>CharID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MakeSample *********************************************************** Parameters: Clusterer clusterer data structure to add sample to Feature feature to be added to clusterer CharID unique ident. of char that sample came from Operation: This routine creates a new sample data structure to hold the specified feature. This sample is added to the clusterer data structure (so that it knows which samples are to be clustered later), and a pointer to the sample is returned to the caller. Return: Pointer to the new sample data structure Exceptions: ALREADYCLUSTERED MakeSample can't be called after ClusterSamples has been called History: 5/29/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00450">450</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
  <a class="code" href="structsample.html">SAMPLE</a> *Sample;
  <span class="keywordtype">int</span> i;

  <span class="comment">// see if the samples have already been clustered - if so trap an error</span>
  <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a0178d3dfedb397870384f599d809c54d">Root</a> != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="danerror_8cpp.html#a480942fa88232bda23e9809e5afa9f25">DoError</a> (<a class="code" href="cluster_8h.html#aa086ccbc1343c3ac99987b23d500adab">ALREADYCLUSTERED</a>,
      <span class="stringliteral">&quot;Can&#39;t add samples after they have been clustered&quot;</span>);

  <span class="comment">// allocate the new sample and initialize it</span>
  Sample = (<a class="code" href="structsample.html">SAMPLE</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="structsample.html">SAMPLE</a>) +
    (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a> -
    1) * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));
  Sample-&gt;<a class="code" href="structsample.html#aa6b39588394fbede2bdcac083bf3832d">Clustered</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  Sample-&gt;<a class="code" href="structsample.html#af0c82e552c662971cf574f9ee8bcb40f">Prototype</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  Sample-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a> = 1;
  Sample-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  Sample-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  Sample-&gt;<a class="code" href="structsample.html#a564df9059b85a37e9f4e69843eec3e20">CharID</a> = CharID;

  <span class="keywordflow">for</span> (i = 0; i &lt; Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>; i++)
    Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i] = Feature[i];

  <span class="comment">// add the sample to the KD tree - keep track of the total # of samples</span>
  Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#a04b44b06900e7a0c8d8d4d4e5a00c3aa">NumberOfSamples</a>++;
  <a class="code" href="kdtree_8cpp.html#a596422fd837fb6937c12be6b277423a0">KDStore</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af2c9040008b80775815320a327f21242">KDTree</a>, Sample-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>, (<span class="keywordtype">char</span> *) Sample);
  <span class="keywordflow">if</span> (CharID &gt;= Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#aa4a7b4654dcb4918ac9a282d976b72d9">NumChar</a>)
    Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#aa4a7b4654dcb4918ac9a282d976b72d9">NumChar</a> = CharID + 1;

  <span class="comment">// execute hook for monitoring clustering operation</span>
  <span class="comment">// (*SampleCreationHook)( Sample );</span>

  <span class="keywordflow">return</span> (Sample);
}                                <span class="comment">// MakeSample</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ad04d25bb39e413b1cd7064534b98f9a4"></a><!-- doxytag: member="cluster.cpp::MakeSphericalProto" ref="ad04d25bb39e413b1cd7064534b98f9a4" args="(CLUSTERER *Clusterer, CLUSTER *Cluster, STATISTICS *Statistics, BUCKETS *Buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * MakeSphericalProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *&#160;</td>
          <td class="paramname"><em>Buckets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01216">1216</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">int</span> i;

  <span class="comment">// check that each dimension is a normal distribution</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>; i++) {
    <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>)
      <span class="keywordflow">continue</span>;

    <a class="code" href="cluster_8cpp.html#a54c75ac15de9474adc1387dc0c809c0b">FillBuckets</a> (Buckets, Cluster, i, &amp;(Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i]),
      Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i],
      sqrt ((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) (Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#aec33c119c63aad5cd1c4e75c6afe2968">AvgVariance</a>)));
    <span class="keywordflow">if</span> (!<a class="code" href="cluster_8cpp.html#a4c5b32330cf58e89e2352deb84394332">DistributionOK</a> (Buckets))
      <span class="keywordflow">break</span>;
  }
  <span class="comment">// if all dimensions matched a normal distribution, make a proto</span>
  <span class="keywordflow">if</span> (i &gt;= Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>)
    Proto = <a class="code" href="cluster_8cpp.html#a96019ee068587b2d17ddb6f43ded872b">NewSphericalProto</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Cluster, Statistics);
  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// MakeSphericalProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ad99e1235a4e63880ab2f72bfdff26e28"></a><!-- doxytag: member="cluster.cpp::Mean" ref="ad99e1235a4e63880ab2f72bfdff26e28" args="(PROTOTYPE *Proto, uinT16 Dimension)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Mean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td>
          <td class="paramname"><em>Proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>Dimension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mean *********************************************************** Parameters: Proto prototype to return mean of Dimension dimension whose mean is to be returned Operation: This routine returns the mean of the specified prototype in the indicated dimension. Return: Mean of Prototype in Dimension Exceptions: none History: 7/6/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00639">639</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
  <span class="keywordflow">return</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[Dimension]);
}                                <span class="comment">// Mean</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a13004a2cbbcf26c3d95fd207274823c9"></a><!-- doxytag: member="cluster.cpp::MergeClusters" ref="a13004a2cbbcf26c3d95fd207274823c9" args="(inT16 N, register PARAM_DESC ParamDesc[], register inT32 n1, register inT32 n2, register FLOAT32 m[], register FLOAT32 m1[], register FLOAT32 m2[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> MergeClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>&#160;</td>
          <td class="paramname"><em>ParamDesc</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>m</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>m1</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>m2</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a69b09f11067d2b087f4da951934ca556"></a><!-- doxytag: member="cluster.cpp::MergeClusters" ref="a69b09f11067d2b087f4da951934ca556" args="(inT16 N, PARAM_DESC ParamDesc[], inT32 n1, inT32 n2, FLOAT32 m[], FLOAT32 m1[], FLOAT32 m2[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> MergeClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a>&#160;</td>
          <td class="paramname"><em>ParamDesc</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>m</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>m1</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>m2</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MergeClusters ************************************************************ Parameters: N # of dimensions (size of arrays) ParamDesc array of dimension descriptions n1, n2 number of samples in each old cluster m array to hold mean of new cluster m1, m2 arrays containing means of old clusters Operation: This routine merges two clusters into one larger cluster. To do this it computes the number of samples in the new cluster and the mean of the new cluster. The ParamDesc information is used to ensure that circular dimensions are handled correctly. Return: The number of samples in the new cluster. Exceptions: None History: 5/31/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00882">882</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> i, n;

  n = n1 + n2;
  <span class="keywordflow">for</span> (i = N; i &gt; 0; i--, ParamDesc++, m++, m1++, m2++) {
    <span class="keywordflow">if</span> (ParamDesc-&gt;Circular) {
      <span class="comment">// if distance between means is greater than allowed</span>
      <span class="comment">// reduce upper point by one &quot;rotation&quot; to compute mean</span>
      <span class="comment">// then normalize the mean back into the accepted range</span>
      <span class="keywordflow">if</span> ((*m2 - *m1) &gt; ParamDesc-&gt;HalfRange) {
        *m = (n1 * *m1 + n2 * (*m2 - ParamDesc-&gt;Range)) / n;
        <span class="keywordflow">if</span> (*m &lt; ParamDesc-&gt;Min)
          *m += ParamDesc-&gt;Range;
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*m1 - *m2) &gt; ParamDesc-&gt;HalfRange) {
        *m = (n1 * (*m1 - ParamDesc-&gt;Range) + n2 * *m2) / n;
        <span class="keywordflow">if</span> (*m &lt; ParamDesc-&gt;Min)
          *m += ParamDesc-&gt;Range;
      }
      <span class="keywordflow">else</span>
        *m = (n1 * *m1 + n2 * *m2) / n;
    }
    <span class="keywordflow">else</span>
      *m = (n1 * *m1 + n2 * *m2) / n;
  }
  <span class="keywordflow">return</span> n;
}                                <span class="comment">// MergeClusters</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a39583ff2f6db38f0c2e26f7ad87f2c0c"></a><!-- doxytag: member="cluster.cpp::MultipleCharSamples" ref="a39583ff2f6db38f0c2e26f7ad87f2c0c" args="(CLUSTERER *Clusterer, CLUSTER *Cluster, FLOAT32 MaxIllegal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> MultipleCharSamples </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>MaxIllegal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02565">2565</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <a class="code" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> *CharFlags = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">static</span> <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> NumFlags = 0;
  <span class="keywordtype">int</span> i;
  <a class="code" href="structlist__rec.html">LIST</a> SearchState;
  <a class="code" href="structsample.html">SAMPLE</a> *Sample;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> CharID;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> NumCharInCluster;
  <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> NumIllegalInCluster;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> PercentIllegal;

  <span class="comment">// initial estimate assumes that no illegal chars exist in the cluster</span>
  NumCharInCluster = Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>;
  NumIllegalInCluster = 0;

  <span class="keywordflow">if</span> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#aa4a7b4654dcb4918ac9a282d976b72d9">NumChar</a> &gt; NumFlags) {
    <span class="keywordflow">if</span> (CharFlags != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(CharFlags);
    NumFlags = Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#aa4a7b4654dcb4918ac9a282d976b72d9">NumChar</a>;
    CharFlags = (<a class="code" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (NumFlags * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a>));
  }

  <span class="keywordflow">for</span> (i = 0; i &lt; NumFlags; i++)
    CharFlags[i] = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

  <span class="comment">// find each sample in the cluster and check if we have seen it before</span>
  <a class="code" href="cluster_8h.html#af125589eadf8dca87cf904ebcb77c896">InitSampleSearch</a>(SearchState, Cluster);
  <span class="keywordflow">while</span> ((Sample = <a class="code" href="cluster_8cpp.html#abf5d9e3b151ac51b27bd9dc797ac261c">NextSample</a> (&amp;SearchState)) != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
    CharID = Sample-&gt;<a class="code" href="structsample.html#a564df9059b85a37e9f4e69843eec3e20">CharID</a>;
    <span class="keywordflow">if</span> (CharFlags[CharID] == <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
      CharFlags[CharID] = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
    }
    <span class="keywordflow">else</span> {
      <span class="keywordflow">if</span> (CharFlags[CharID] == <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
        NumIllegalInCluster++;
        CharFlags[CharID] = <a class="code" href="cluster_8cpp.html#a9d9bc16d6dee64280de6063de97939c1">ILLEGAL_CHAR</a>;
      }
      NumCharInCluster--;
      PercentIllegal = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) NumIllegalInCluster / NumCharInCluster;
      <span class="keywordflow">if</span> (PercentIllegal &gt; MaxIllegal) {
        <a class="code" href="oldlist_8cpp.html#a338e68bdadcbdf51db4c7268c4529409">destroy</a>(SearchState);
        <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
      }
    }
  }
  <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);

}                                <span class="comment">// MultipleCharSamples</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ac16f25cf71bcb2632f695f55fb9a5980"></a><!-- doxytag: member="cluster.cpp::NewChiStruct" ref="ac16f25cf71bcb2632f695f55fb9a5980" args="(uinT16 DegreesOfFreedom, FLOAT64 Alpha)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> * NewChiStruct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>DegreesOfFreedom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Alpha</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02432">2432</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             DegreesOfFreedom        degrees of freedom for new chi value</span>
<span class="comment"> **             Alpha                   confidence level for new chi value</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine allocates a new data structure which is used</span>
<span class="comment"> **             to hold a chi-squared value along with its associated</span>
<span class="comment"> **             number of degrees of freedom and alpha value.</span>
<span class="comment"> **     Return: none</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Fri Aug  4 11:04:59 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *<a class="code" href="cluster_8cpp.html#ac16f25cf71bcb2632f695f55fb9a5980">NewChiStruct</a>;

  NewChiStruct = (<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a>));
  NewChiStruct-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a15a3b870d88bb0fcedd7accc60d195c7">DegreesOfFreedom</a> = <a class="code" href="cluster_8cpp.html#acfe8f1657aa1e2a4de798d80ab637756">DegreesOfFreedom</a>;
  NewChiStruct-&gt;<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html#a58a4707e32861b244d471e6d152fe43a">Alpha</a> = Alpha;
  <span class="keywordflow">return</span> (NewChiStruct);

}                                <span class="comment">// NewChiStruct</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a1453a157e92261f5331f8624dfc4d3c0"></a><!-- doxytag: member="cluster.cpp::NewEllipticalProto" ref="a1453a157e92261f5331f8624dfc4d3c0" args="(inT16 N, CLUSTER *Cluster, STATISTICS *Statistics)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * NewEllipticalProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>NewEllipticalProto ******************************************************* Parameters: N number of dimensions Cluster cluster to be made into an elliptical prototype Statistics statistical info about samples in cluster Operation: This routine creates an elliptical prototype data structure to approximate the samples in the specified cluster. Elliptical prototypes have a variance for each dimension. All dimensions are normally distributed and independent. Return: Pointer to a new elliptical prototype data structure Exceptions: None History: 6/19/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01544">1544</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                      {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *CoVariance;
  <span class="keywordtype">int</span> i;

  Proto = <a class="code" href="cluster_8cpp.html#adf2445f2aae1e1e03f06eefb85c95b8d">NewSimpleProto</a> (N, Cluster);
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));

  CoVariance = Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> = 1.0;
  <span class="keywordflow">for</span> (i = 0; i &lt; N; i++, CoVariance += N + 1) {
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] = *CoVariance;
    <span class="keywordflow">if</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] &lt; <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>)
      Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] = <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>;

    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] =
      1.0 / sqrt ((<span class="keywordtype">double</span>) (2.0 * <a class="code" href="const_8h.html#a598a3330b3c21701223ee0ca14316eca">PI</a> * Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i]));
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i] = 1.0 / Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i];
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> *= Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[i];
  }
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aefd3ba15fc4dd0029aa9cda07092382b">LogMagnitude</a> = log ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a>);
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aad81f08b6e171698866b445c0b3d4b35">Style</a> = <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459">elliptical</a>;
  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// NewEllipticalProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="accc05d5eedc4d765148eaa99c1927a79"></a><!-- doxytag: member="cluster.cpp::NewMixedProto" ref="accc05d5eedc4d765148eaa99c1927a79" args="(inT16 N, CLUSTER *Cluster, STATISTICS *Statistics)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * NewMixedProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MewMixedProto ************************************************************ Parameters: N number of dimensions Cluster cluster to be made into a mixed prototype Statistics statistical info about samples in cluster Operation: This routine creates a mixed prototype data structure to approximate the samples in the specified cluster. Mixed prototypes can have different distributions for each dimension. All dimensions are independent. The structure is initially filled in as though it were an elliptical prototype. The actual distributions of the dimensions can be altered by other routines. Return: Pointer to a new mixed prototype data structure Exceptions: None History: 6/19/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01589">1589</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;
  <span class="keywordtype">int</span> i;

  Proto = <a class="code" href="cluster_8cpp.html#a1453a157e92261f5331f8624dfc4d3c0">NewEllipticalProto</a> (N, Cluster, Statistics);
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a> = (<a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0">DISTRIBUTION</a>));

  <span class="keywordflow">for</span> (i = 0; i &lt; N; i++) {
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a>[i] = <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0aebc81705969b8c5ae986b0b2ec08d1d5">normal</a>;
  }
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aad81f08b6e171698866b445c0b3d4b35">Style</a> = <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a>;
  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// NewMixedProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="adf2445f2aae1e1e03f06eefb85c95b8d"></a><!-- doxytag: member="cluster.cpp::NewSimpleProto" ref="adf2445f2aae1e1e03f06eefb85c95b8d" args="(inT16 N, CLUSTER *Cluster)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * NewSimpleProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>NewSimpleProto *********************************************************** Parameters: N number of dimensions Cluster cluster to be made into a prototype Operation: This routine allocates memory to hold a simple prototype data structure, i.e. one without independent distributions and variances for each dimension. Return: Pointer to new simple prototype Exceptions: None History: 6/19/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01614">1614</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;
  <span class="keywordtype">int</span> i;

  Proto = (<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a>));
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a> = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *) <a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (N * <span class="keyword">sizeof</span> (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>));

  <span class="keywordflow">for</span> (i = 0; i &lt; N; i++)
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af9c4f61cdbf39f6494b4691799bd4fa6">Mean</a>[i] = Cluster-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[i];
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a> = <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a5d94887aaa0acd7e4a0c04c420af5670">Significant</a> = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a8e04c7f378d30c248bc6e55703ac69a6">Merged</a> = <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aad81f08b6e171698866b445c0b3d4b35">Style</a> = <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa93d6901f160899d15f69322530595f4f">spherical</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a2ba6bfd64f308a26cdd0a75c52e002f5">NumSamples</a> = Cluster-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aff59384612de343b799b92a5d80282b7">Cluster</a> = Cluster;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aff59384612de343b799b92a5d80282b7">Cluster</a>-&gt;<a class="code" href="structsample.html#af0c82e552c662971cf574f9ee8bcb40f">Prototype</a> = <a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
  return (Proto);
}                                <span class="comment">// NewSimpleProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a96019ee068587b2d17ddb6f43ded872b"></a><!-- doxytag: member="cluster.cpp::NewSphericalProto" ref="a96019ee068587b2d17ddb6f43ded872b" args="(uinT16 N, CLUSTER *Cluster, STATISTICS *Statistics)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * NewSphericalProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>NewSpericalProto ********************************************************* Parameters: N number of dimensions Cluster cluster to be made into a spherical prototype Statistics statistical info about samples in cluster Operation: This routine creates a spherical prototype data structure to approximate the samples in the specified cluster. Spherical prototypes have a single variance which is common across all dimensions. All dimensions are normally distributed and independent. Return: Pointer to a new spherical prototype data structure Exceptions: None History: 6/19/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01510">1510</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <a class="code" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *Proto;

  Proto = <a class="code" href="cluster_8cpp.html#adf2445f2aae1e1e03f06eefb85c95b8d">NewSimpleProto</a> (N, Cluster);

  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a> = Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#aec33c119c63aad5cd1c4e75c6afe2968">AvgVariance</a>;
  <span class="keywordflow">if</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a> &lt; <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>)
    Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a> = <a class="code" href="cluster_8cpp.html#ab070d4fc08948b5047625cb799a9ac89">MINVARIANCE</a>;

  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a> =
    1.0 / sqrt ((<span class="keywordtype">double</span>) (2.0 * <a class="code" href="const_8h.html#a598a3330b3c21701223ee0ca14316eca">PI</a> * Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a>));
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a> = (float)pow((<span class="keywordtype">double</span>)Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a0b016afed9c049598aa41feb3770fc15">Magnitude</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a>,
                                     (double) N);
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#af202ff952380614068536ea0b504285e">Weight</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a> = 1.0 / Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a>;
  Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aefd3ba15fc4dd0029aa9cda07092382b">LogMagnitude</a> = log ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a40a4a7e28d83ad5ad3c64e54734104be">TotalMagnitude</a>);

  <span class="keywordflow">return</span> (Proto);
}                                <span class="comment">// NewSphericalProto</span>
</pre></div>
</div>
</div>
<a class="anchor" id="abf5d9e3b151ac51b27bd9dc797ac261c"></a><!-- doxytag: member="cluster.cpp::NextSample" ref="abf5d9e3b151ac51b27bd9dc797ac261c" args="(LIST *SearchState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a>* NextSample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="baseapi_8h.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> *&#160;</td>
          <td class="paramname"><em>SearchState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>NextSample ************************************************************ Parameters: SearchState ptr to list containing clusters to be searched Operation: This routine is used to find all of the samples which belong to a cluster. It starts by removing the top cluster on the cluster list (SearchState). If this cluster is a leaf it is returned. Otherwise, the right subcluster is pushed on the list and we continue the search in the left subcluster. This continues until a leaf is found. If all samples have been found, NULL is returned. <a class="el" href="cluster_8h.html#af125589eadf8dca87cf904ebcb77c896">InitSampleSearch()</a> must be called before <a class="el" href="cluster_8cpp.html#abf5d9e3b151ac51b27bd9dc797ac261c">NextSample()</a> to initialize the search. Return: Pointer to the next leaf cluster (sample) or NULL. Exceptions: None History: 6/16/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00614">614</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
  <a class="code" href="structsample.html">CLUSTER</a> *Cluster;

  <span class="keywordflow">if</span> (*SearchState == <a class="code" href="oldlist_8h.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>)
    <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  Cluster = (<a class="code" href="structsample.html">CLUSTER</a> *) <a class="code" href="oldlist_8h.html#a69547be764424f18b0be535400747978">first_node</a> (*SearchState);
  *SearchState = <a class="code" href="oldlist_8cpp.html#a4a16ea0d766f4b3bc697142d5303a62c">pop</a> (*SearchState);
  <span class="keywordflow">while</span> (<a class="code" href="host_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
    <span class="keywordflow">if</span> (Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a> == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <span class="keywordflow">return</span> (Cluster);
    *SearchState = <a class="code" href="oldlist_8cpp.html#a9c4294375af81ab4c133b6b5a3679a16">push</a> (*SearchState, Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>);
    Cluster = Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>;
  }
}                                <span class="comment">// NextSample</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8e988f373e1dc7d9a55043f3db047d09"></a><!-- doxytag: member="cluster.cpp::NormalBucket" ref="a8e988f373e1dc7d9a55043f3db047d09" args="(PARAM_DESC *ParamDesc, FLOAT32 x, FLOAT32 Mean, FLOAT32 StdDev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> NormalBucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *&#160;</td>
          <td class="paramname"><em>ParamDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>StdDev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02103">2103</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             ParamDesc       used to identify circular dimensions</span>
<span class="comment"> **             x               value to be normalized</span>
<span class="comment"> **             Mean            mean of normal distribution</span>
<span class="comment"> **             StdDev          standard deviation of normal distribution</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine determines which bucket x falls into in the</span>
<span class="comment"> **             discrete normal distribution defined by kNormalMean</span>
<span class="comment"> **             and kNormalStdDev.  x values which exceed the range of</span>
<span class="comment"> **             the discrete distribution are clipped.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             Bucket number into which x falls</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> X;

  <span class="comment">// wraparound circular parameters if necessary</span>
  <span class="keywordflow">if</span> (ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a>) {
    <span class="keywordflow">if</span> (x - <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a> &gt; ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a1df92d879d7ec8ea6662e956d27154b5">HalfRange</a>)
      x -= ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x - Mean &lt; -ParamDesc-&gt;HalfRange)
      x += ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
  }

  X = ((x - <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>) / StdDev) * kNormalStdDev + kNormalMean;
  <span class="keywordflow">if</span> (X &lt; 0)
    <span class="keywordflow">return</span> 0;
  <span class="keywordflow">if</span> (X &gt; <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> - 1)
    <span class="keywordflow">return</span> ((<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>) (<a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> - 1));
  <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>) floor((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) X);
}                                <span class="comment">// NormalBucket</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a46fa6d94ca57427d93d1f306c4bbcf46"></a><!-- doxytag: member="cluster.cpp::NormalDensity" ref="a46fa6d94ca57427d93d1f306c4bbcf46" args="(inT32 x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> NormalDensity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01940">1940</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                               {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             x       number to compute the normal probability density for</span>
<span class="comment"> **     Globals:</span>
<span class="comment"> **             kNormalMean     mean of a discrete normal distribution</span>
<span class="comment"> **             kNormalVariance variance of a discrete normal distribution</span>
<span class="comment"> **             kNormalMagnitude        magnitude of a discrete normal distribution</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine computes the probability density function</span>
<span class="comment"> **             of a discrete normal distribution defined by the global</span>
<span class="comment"> **             variables kNormalMean, kNormalVariance, and kNormalMagnitude.</span>
<span class="comment"> **             Normal magnitude could, of course, be computed in terms of</span>
<span class="comment"> **             the normal variance but it is precomputed for efficiency.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             The value of the normal distribution at x.</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/4/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Distance;

  Distance = x - kNormalMean;
  <span class="keywordflow">return</span> kNormalMagnitude * exp(-0.5 * Distance * Distance / kNormalVariance);
}                                <span class="comment">// NormalDensity</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af8d341c60c044ac30867d767c6b9b091"></a><!-- doxytag: member="cluster.cpp::NumBucketsMatch" ref="af8d341c60c044ac30867d767c6b9b091" args="(void *arg1, void *arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NumBucketsMatch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02316">2316</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                {  <span class="comment">// uinT16 *DesiredNumberOfBuckets)</span>
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             Histogram       current histogram being tested for a match</span>
<span class="comment"> **             DesiredNumberOfBuckets  match key</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine is used to search a list of histogram data</span>
<span class="comment"> **             structures to find one with the specified number of</span>
<span class="comment"> **             buckets.  It is called by the list search routines.</span>
<span class="comment"> **     Return: TRUE if Histogram matches DesiredNumberOfBuckets</span>
<span class="comment"> **     Exceptions: none</span>
<span class="comment"> **     History: Thu Aug  3 14:17:33 1989, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *Histogram = (<a class="code" href="struct_b_u_c_k_e_t_s.html">BUCKETS</a> *) arg1;
  <a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> *DesiredNumberOfBuckets = (<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> *) arg2;

  <span class="keywordflow">return</span> (*DesiredNumberOfBuckets == Histogram-&gt;<a class="code" href="struct_b_u_c_k_e_t_s.html#a291d5393aba4a5f429ce30913ca6b96a">NumberOfBuckets</a>);

}                                <span class="comment">// NumBucketsMatch</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ab182ad32f9100ae8e29e72db623c70dd"></a><!-- doxytag: member="cluster.cpp::OptimumNumberOfBuckets" ref="ab182ad32f9100ae8e29e72db623c70dd" args="(uinT32 SampleCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> OptimumNumberOfBuckets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a>&#160;</td>
          <td class="paramname"><em>SampleCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01839">1839</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             SampleCount     number of samples to be tested</span>
<span class="comment">  **    Operation:</span>
<span class="comment"> **             This routine computes the optimum number of histogram</span>
<span class="comment"> **             buckets that should be used in a chi-squared goodness of</span>
<span class="comment"> **             fit test for the specified number of samples.  The optimum</span>
<span class="comment"> **             number is computed based on Table 4.1 on pg. 147 of</span>
<span class="comment"> **             &quot;Measurement and Analysis of Random Data&quot; by Bendat &amp; Piersol.</span>
<span class="comment"> **             Linear interpolation is used to interpolate between table</span>
<span class="comment"> **             values.  The table is intended for a 0.05 level of</span>
<span class="comment"> **             significance (alpha).  This routine assumes that it is</span>
<span class="comment"> **             equally valid for other alpha&#39;s, which may not be true.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             Optimum number of histogram buckets</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> Last, Next;
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Slope;

  <span class="keywordflow">if</span> (SampleCount &lt; kCountTable[0])
    <span class="keywordflow">return</span> kBucketsTable[0];

  <span class="keywordflow">for</span> (Last = 0, Next = 1; Next &lt; <a class="code" href="cluster_8cpp.html#a4342455851ae586637e6a0abaf3b3f14">LOOKUPTABLESIZE</a>; Last++, Next++) {
    <span class="keywordflow">if</span> (SampleCount &lt;= kCountTable[Next]) {
      Slope = (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) (kBucketsTable[Next] - kBucketsTable[Last]) /
          (<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) (kCountTable[Next] - kCountTable[Last]);
      <span class="keywordflow">return</span> ((<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>) (kBucketsTable[Last] +
          Slope * (SampleCount - kCountTable[Last])));
    }
  }
  <span class="keywordflow">return</span> kBucketsTable[Last];
}                                <span class="comment">// OptimumNumberOfBuckets</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8098e057438e6f07276dd005f28ef13c"></a><!-- doxytag: member="cluster.cpp::Solve" ref="a8098e057438e6f07276dd005f28ef13c" args="(SOLVEFUNC Function, void *FunctionParams, FLOAT64 InitialGuess, FLOAT64 Accuracy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Solve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cluster_8cpp.html#a170fa76dec6514a98bb069c4b9652f2d">SOLVEFUNC</a>&#160;</td>
          <td class="paramname"><em>Function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>FunctionParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>InitialGuess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>&#160;</td>
          <td class="paramname"><em>Accuracy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02457">2457</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> x;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Slope;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Delta;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> NewDelta;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> xDelta;
  <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> LastPosX, LastNegX;

  x = InitialGuess;
  Delta = <a class="code" href="cluster_8cpp.html#a3ac44273f534b72f12afd0d6560bbbed">INITIALDELTA</a>;
  LastPosX = <a class="code" href="host_8h.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;
  LastNegX = -<a class="code" href="host_8h.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;
  f = (*Function) ((<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) FunctionParams, x);
  <span class="keywordflow">while</span> (<a class="code" href="cluster_8cpp.html#a060002a5aeab470cb24c8343daa1db08">Abs</a> (LastPosX - LastNegX) &gt; Accuracy) {
    <span class="comment">// keep track of outer bounds of current estimate</span>
    <span class="keywordflow">if</span> (<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a> &lt; 0)
      LastNegX = x;
    <span class="keywordflow">else</span>
      LastPosX = x;

    <span class="comment">// compute the approx. slope of f(x) at the current point</span>
    Slope =
      ((*Function) ((<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) FunctionParams, x + Delta) - <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>) / Delta;

    <span class="comment">// compute the next solution guess */</span>
    xDelta = <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a> / Slope;
    x -= xDelta;

    <span class="comment">// reduce the delta used for computing slope to be a fraction of</span>
    <span class="comment">//the amount moved to get to the new guess</span>
    NewDelta = <a class="code" href="cluster_8cpp.html#a060002a5aeab470cb24c8343daa1db08">Abs</a> (xDelta) * <a class="code" href="cluster_8cpp.html#a4a4390b86d05eddc0eb81787727debf8">DELTARATIO</a>;
    <span class="keywordflow">if</span> (NewDelta &lt; Delta)
      Delta = NewDelta;

    <span class="comment">// compute the value of the function at the new guess</span>
    <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a> = (*Function) ((<a class="code" href="struct_c_h_i_s_t_r_u_c_t.html">CHISTRUCT</a> *) FunctionParams, x);
  }
  <span class="keywordflow">return</span> (x);

}                                <span class="comment">// Solve</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8bdd5efd86c814e7f069aa7674cd5178"></a><!-- doxytag: member="cluster.cpp::StandardDeviation" ref="a8bdd5efd86c814e7f069aa7674cd5178" args="(PROTOTYPE *Proto, uinT16 Dimension)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> StandardDeviation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> *&#160;</td>
          <td class="paramname"><em>Proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>&#160;</td>
          <td class="paramname"><em>Dimension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>StandardDeviation ************************************************* Parameters: Proto prototype to return standard deviation of Dimension dimension whose stddev is to be returned Operation: This routine returns the standard deviation of the prototype in the indicated dimension. Return: Standard deviation of Prototype in Dimension Exceptions: none History: 7/6/89, DSJ, Created. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00653">653</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  <span class="keywordflow">switch</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#aad81f08b6e171698866b445c0b3d4b35">Style</a>) {
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa93d6901f160899d15f69322530595f4f">spherical</a>:
      <span class="keywordflow">return</span> ((<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>) sqrt ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#ad883f0258d034e4fd77ce450c3e058d2">Spherical</a>));
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaa39d32ff639641ca169c9729c58614459">elliptical</a>:
      <span class="keywordflow">return</span> ((<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>)
        sqrt ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[Dimension]));
    <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a>:
      <span class="keywordflow">switch</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#ae53408c33cdd473a9ed1f028e8172b0b">Distrib</a>[Dimension]) {
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0aebc81705969b8c5ae986b0b2ec08d1d5">normal</a>:
          <span class="keywordflow">return</span> ((<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>)
            sqrt ((<span class="keywordtype">double</span>) Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[Dimension]));
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a56013d9ac59a24fb94d9acb932a04b2f">uniform</a>:
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a21504929e31ddde091641bb817e32320">D_random</a>:
          <span class="keywordflow">return</span> (Proto-&gt;<a class="code" href="struct_p_r_o_t_o_t_y_p_e.html#a35cf2e2dd8cc8b0e9476ad49f36abd24">Variance</a>.<a class="code" href="union_f_l_o_a_t_u_n_i_o_n.html#a4b36c5b636aac27041dd340386f3801f">Elliptical</a>[Dimension]);
        <span class="keywordflow">case</span> <a class="code" href="cluster_8h.html#ade80fdcd8f2dde57393f56d0cdfaeed0a1223ae56d204b110bd185b7dbdda258e">DISTRIBUTION_COUNT</a>:
          <a class="code" href="errcode_8h.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!<span class="stringliteral">&quot;Distribution count not allowed!&quot;</span>);
      }
  }
  <span class="keywordflow">return</span> 0.0f;
}                                <span class="comment">// StandardDeviation</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a52963d24aa278bff9a1de24806954d61"></a><!-- doxytag: member="cluster.cpp::TestEllipticalProto" ref="a52963d24aa278bff9a1de24806954d61" args="(CLUSTERER *Clusterer, CLUSTERCONFIG *Config, CLUSTER *Cluster, STATISTICS *Statistics)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_r_o_t_o_t_y_p_e.html">PROTOTYPE</a> * TestEllipticalProto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_e_r.html">CLUSTERER</a> *&#160;</td>
          <td class="paramname"><em>Clusterer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html">CLUSTERCONFIG</a> *&#160;</td>
          <td class="paramname"><em>Config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cluster_8h.html#a883b4f4e7113af06f96a7b11492256d1">CLUSTER</a> *&#160;</td>
          <td class="paramname"><em>Cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_t_a_t_i_s_t_i_c_s.html">STATISTICS</a> *&#160;</td>
          <td class="paramname"><em>Statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>TestEllipticalProto **************************************************** Parameters: Clusterer data struct containing samples being clustered Config provides the magic number of samples that make a good cluster Cluster cluster to be made into an elliptical prototype Statistics statistical info about cluster Operation: This routine tests the specified cluster to see if ** there is a statistically significant difference between the sub-clusters that would be made if the cluster were to be split. If not, then a new prototype is formed and returned to the caller. If there is, then NULL is returned to the caller. Return: Pointer to new elliptical prototype or NULL. </p>

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01109">1109</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
  <span class="comment">// Fraction of the number of samples used as a range around 1 within</span>
  <span class="comment">// which a cluster has the magic size that allows a boost to the</span>
  <span class="comment">// FTable by kFTableBoostMargin, thus allowing clusters near the</span>
  <span class="comment">// magic size (equal to the number of sample characters) to be more</span>
  <span class="comment">// likely to stay together.</span>
  <span class="keyword">const</span> <span class="keywordtype">double</span> kMagicSampleMargin = 0.0625;
  <span class="keyword">const</span> <span class="keywordtype">double</span> kFTableBoostMargin = 2.0;

  <span class="keywordtype">int</span> N = Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>;
  <a class="code" href="structsample.html">CLUSTER</a>* Left = Cluster-&gt;<a class="code" href="structsample.html#ae6abb40063761a77d4275c79c5c0bb49">Left</a>;
  <a class="code" href="structsample.html">CLUSTER</a>* Right = Cluster-&gt;<a class="code" href="structsample.html#a2d66168da8fd6b92aed011277f54843a">Right</a>;
  <span class="keywordflow">if</span> (Left == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || Right == <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">int</span> TotalDims = Left-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a> + Right-&gt;<a class="code" href="structsample.html#a71cac0608666e1abfdfb3ab40e26b249">SampleCount</a>;
  <span class="keywordflow">if</span> (TotalDims &lt; N + 1 || TotalDims &lt; 2)
    <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">const</span> <span class="keywordtype">int</span> kMatrixSize = N * N * <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>);
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>* Covariance = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *<span class="keyword">&gt;</span>(<a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(kMatrixSize));
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>* Inverse = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *<span class="keyword">&gt;</span>(<a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(kMatrixSize));
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>* Delta = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>*<span class="keyword">&gt;</span>(<a class="code" href="emalloc_8cpp.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a>(N * <span class="keyword">sizeof</span>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>)));
  <span class="comment">// Compute a new covariance matrix that only uses essential features.</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; N; ++i) {
    <span class="keywordtype">int</span> row_offset = i * N;
    <span class="keywordflow">if</span> (!Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[i].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>) {
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; N; ++j) {
        <span class="keywordflow">if</span> (!Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[j].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>)
          Covariance[j + row_offset] = Statistics-&gt;<a class="code" href="struct_s_t_a_t_i_s_t_i_c_s.html#a1a87c66cfa2a256ff9b13d5858bf9650">CoVariance</a>[j + row_offset];
        <span class="keywordflow">else</span>
          Covariance[j + row_offset] = 0.0f;
      }
    } <span class="keywordflow">else</span> {
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; N; ++j) {
        <span class="keywordflow">if</span> (i == j)
          Covariance[j + row_offset] = 1.0f;
        <span class="keywordflow">else</span>
          Covariance[j + row_offset] = 0.0f;
      }
    }
  }
  <span class="keywordtype">double</span> err = <a class="code" href="cluster_8cpp.html#a40c47f6785ad5d50a9b113761e16ab9d">InvertMatrix</a>(Covariance, N, Inverse);
  <span class="keywordflow">if</span> (err &gt; 1) {
    <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Clustering error: Matrix inverse failed with error %g\n&quot;</span>, err);
  }
  <span class="keywordtype">int</span> EssentialN = 0;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dim = 0; dim &lt; N; ++dim) {
    <span class="keywordflow">if</span> (!Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#af44850047e9f5b3648871d7517c04316">ParamDesc</a>[dim].<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a6b9843466a3ddf33bfab18f85ca06501">NonEssential</a>) {
      Delta[dim] = Left-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[dim] - Right-&gt;<a class="code" href="structsample.html#ac4a33bc0bdd82dd732bbb2f7c593ec78">Mean</a>[dim];
      ++EssentialN;
    } <span class="keywordflow">else</span> {
      Delta[dim] = 0.0f;
    }
  }
  <span class="comment">// Compute Hotelling&#39;s T-squared.</span>
  <span class="keywordtype">double</span> Tsq = 0.0;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; N; ++x) {
    <span class="keywordtype">double</span> temp = 0.0;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; N; ++y) {
      temp += Inverse[y + N*x] * Delta[y];
    }
    Tsq += Delta[x] * temp;
  }
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Covariance);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Inverse);
  <a class="code" href="freelist_8cpp.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(Delta);
  <span class="comment">// Changed this function to match the formula in</span>
  <span class="comment">// Statistical Methods in Medical Research p 473</span>
  <span class="comment">// By Peter Armitage, Geoffrey Berry, J. N. S. Matthews.</span>
  <span class="comment">// Tsq *= Left-&gt;SampleCount * Right-&gt;SampleCount / TotalDims;</span>
  <span class="keywordtype">double</span> F = Tsq * (TotalDims - EssentialN - 1) / ((TotalDims - 2)*EssentialN);
  <span class="keywordtype">int</span> Fx = EssentialN;
  <span class="keywordflow">if</span> (Fx &gt; <a class="code" href="cluster_8cpp.html#a1f0a56d752a245eeeabb4514e8b22cf8">FTABLE_X</a>)
    Fx = <a class="code" href="cluster_8cpp.html#a1f0a56d752a245eeeabb4514e8b22cf8">FTABLE_X</a>;
  --Fx;
  <span class="keywordtype">int</span> Fy = TotalDims - EssentialN - 1;
  <span class="keywordflow">if</span> (Fy &gt; <a class="code" href="cluster_8cpp.html#acd517e6d49c3394f0b9fe04fdb970699">FTABLE_Y</a>)
    Fy = <a class="code" href="cluster_8cpp.html#acd517e6d49c3394f0b9fe04fdb970699">FTABLE_Y</a>;
  --Fy;
  <span class="keywordtype">double</span> FTarget = <a class="code" href="cluster_8cpp.html#a1e2410dc2e3eb34ef861fbfeb2f05f4d">FTable</a>[Fy][Fx];
  <span class="keywordflow">if</span> (Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a3578d77905f03b8d4321568be8f030c2">MagicSamples</a> &gt; 0 &amp;&amp;
      TotalDims &gt;= Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a3578d77905f03b8d4321568be8f030c2">MagicSamples</a> * (1.0 - kMagicSampleMargin) &amp;&amp;
      TotalDims &lt;= Config-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_c_o_n_f_i_g.html#a3578d77905f03b8d4321568be8f030c2">MagicSamples</a> * (1.0 + kMagicSampleMargin)) {
    <span class="comment">// Give magic-sized clusters a magic FTable boost.</span>
    FTarget += kFTableBoostMargin;
  }
  <span class="keywordflow">if</span> (F &lt; FTarget) {
    <span class="keywordflow">return</span> <a class="code" href="cluster_8cpp.html#a1453a157e92261f5331f8624dfc4d3c0">NewEllipticalProto</a> (Clusterer-&gt;<a class="code" href="struct_c_l_u_s_t_e_r_e_r.html#ac78a1d40ce4bac0a156a21e2d987f394">SampleSize</a>, Cluster, Statistics);
  }
  <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a43e2cce8f045a700cd6fb0684761cc0c"></a><!-- doxytag: member="cluster.cpp::UniformBucket" ref="a43e2cce8f045a700cd6fb0684761cc0c" args="(PARAM_DESC *ParamDesc, FLOAT32 x, FLOAT32 Mean, FLOAT32 StdDev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> UniformBucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_a_r_a_m___d_e_s_c.html">PARAM_DESC</a> *&#160;</td>
          <td class="paramname"><em>ParamDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>StdDev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l02145">2145</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             ParamDesc       used to identify circular dimensions</span>
<span class="comment"> **             x               value to be normalized</span>
<span class="comment"> **             Mean            center of range of uniform distribution</span>
<span class="comment"> **             StdDev          1/2 the range of the uniform distribution</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine determines which bucket x falls into in the</span>
<span class="comment"> **             discrete uniform distribution defined by</span>
<span class="comment"> **             BUCKETTABLESIZE.  x values which exceed the range of</span>
<span class="comment"> **             the discrete distribution are clipped.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             Bucket number into which x falls</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> X;

  <span class="comment">// wraparound circular parameters if necessary</span>
  <span class="keywordflow">if</span> (ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a55807f1e0be0daba2a33380ea29b2f1d">Circular</a>) {
    <span class="keywordflow">if</span> (x - <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a> &gt; ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a1df92d879d7ec8ea6662e956d27154b5">HalfRange</a>)
      x -= ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x - Mean &lt; -ParamDesc-&gt;HalfRange)
      x += ParamDesc-&gt;<a class="code" href="struct_p_a_r_a_m___d_e_s_c.html#a031dddcdc1744e777435f8ceea197448">Range</a>;
  }

  X = ((x - <a class="code" href="cluster_8cpp.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>) / (2 * StdDev) * <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> + <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> / 2.0);
  <span class="keywordflow">if</span> (X &lt; 0)
    <span class="keywordflow">return</span> 0;
  <span class="keywordflow">if</span> (X &gt; <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> - 1)
    <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>) (<a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a> - 1);
  <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a>) floor((<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) X);
}                                <span class="comment">// UniformBucket</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a5abc8ec5703c3d471dc0dd172cb22168"></a><!-- doxytag: member="cluster.cpp::UniformDensity" ref="a5abc8ec5703c3d471dc0dd172cb22168" args="(inT32 x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> UniformDensity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l01969">1969</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                {
<span class="comment">/*</span>
<span class="comment"> **     Parameters:</span>
<span class="comment"> **             x       number to compute the uniform probability density for</span>
<span class="comment"> **     Operation:</span>
<span class="comment"> **             This routine computes the probability density function</span>
<span class="comment"> **             of a uniform distribution at the specified point.  The</span>
<span class="comment"> **             range of the distribution is from 0 to BUCKETTABLESIZE.</span>
<span class="comment"> **     Return:</span>
<span class="comment"> **             The value of the uniform distribution at x.</span>
<span class="comment"> **     Exceptions:</span>
<span class="comment"> **             None</span>
<span class="comment"> **     History:</span>
<span class="comment"> **             6/5/89, DSJ, Created.</span>
<span class="comment"> */</span>
  <span class="keyword">static</span> <a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> UniformDistributionDensity = (<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) 1.0 / <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a>;

  <span class="keywordflow">if</span> ((x &gt;= 0.0) &amp;&amp; (x &lt;= <a class="code" href="cluster_8cpp.html#a0b0900161a8584a70a474237621ce953">BUCKETTABLESIZE</a>))
    <span class="keywordflow">return</span> UniformDistributionDensity;
  <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> (<a class="code" href="host_8h.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a>) 0.0;
}                                <span class="comment">// UniformDensity</span>
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a1e2410dc2e3eb34ef861fbfeb2f05f4d"></a><!-- doxytag: member="cluster.cpp::FTable" ref="a1e2410dc2e3eb34ef861fbfeb2f05f4d" args="[FTABLE_Y][FTABLE_X]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double <a class="el" href="cluster_8cpp.html#a1e2410dc2e3eb34ef861fbfeb2f05f4d">FTable</a>[FTABLE_Y][FTABLE_X]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cluster_8cpp_source.html#l00034">34</a> of file <a class="el" href="cluster_8cpp_source.html">cluster.cpp</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="cluster_8cpp.html">cluster.cpp</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Wed Mar 28 2012 22:38:41 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
